<p align="center">
<img src="https://raw.githubusercontent.com/fluidtrends/carmel/master/logo.png" width="256px">
</p>

<h1 align="center"> Carmel
</h1>

<h3 align="center"> The Open Source Decentralized Tech Education Platform </h3>
<p>
Carmel is a blockchain-based Open Source Education Platform that helps aspiring and seasoned Software Developers grow their skill set and track their growth through tokenized peer challenges.</p>
<hr/>

# Whitepaper

* [Introduction](#introduction)
* [Decentralized Community](#decentralized-community)
* [Educational Model](#educational-model)
  * [Hands On](#hands-on)
  * [Microlearning](#microlearning)
  * [Self-Directed](#personalized)
  * [Peer Driven](#peer-driven)
  * [Story-Based](#story-based)
* [Challenges](#challenges)
  * [Tutorial](#tutorial)
  * [Proof Of Learning](#proof-of-learning)
  * [Publishing](#publishing)
  * [Tokens](#tokens)
* [Token Economy](#token-economy)
  * [Token Value](#token-value)
  * [Token Allocation](#token-allocation)
* [Architecture](#architecture)
  * [Blockchain App](#blockchain-app)
  * [Private Cloud](#private-cloud)
  * [Web App](#web-app)
  * [Desktop App](#desktop-app)
  * [Mobile App](#mobile-app)
* [Security Model](#security-model)
  * [Threat Exposure](#thread-exposure)
  * [Vault Security](#vault-security)
  * [Practically Unbreakable](#practically-unbreakable)
  * [Vault Key Security](#vault-key-security)
  * [Machine Secret Security](#machine-secret-security)
* [References](#references)

## Introduction

<img align="center" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/intro.png">

Chris is a 40 year old father who has the type of job that can be easily replaced by robots.

What keeps Chris up at night is the thought that soon, he might lose his job and not be able to provide for his family.

There are many people like Chris out there, holding down jobs that are at risk with the rise of AI machines.

Robots are well on their way to replace 30% of UK jobs by the early 2030s and 38% of US jobs, as [research by PWC shows](#1-workforce-of-the-future-pwc-2017) in a recent report.

Robots are changing the future of work as we know it. Any job that can be done by a robot, will be done by a robot, whether we like it or not.

So what does that mean for millions of people who are at risk today?

It means that they have to learn new skills, that will give them new job opportunities in the new AI-dominated marketplace.

It means that they have to get the kind of education that will help them hit the ground running fast and start a new career as soon as humanly possible. A future-proof career. A career that will not easily be replaced by robots and one that will create ample opportunities for a better future.

People like Chris know retraining is the solution. In a [survey by the Pew Research Center](#2-the-state-of-american-jobs-pew-research-center-2016), 54% of US workers say *"it will be essential for them to get training and develop new skills throughout their work life in order to keep up with changes in the workplace."* An additional 33% say this will be important. And 64% believe that knowing computer programming is crucial to success in today's economy.

What better way to survive in the tech world, than to become a Professional Software Developer?

While non-technical jobs will disappear, demand for Software Developers will continue to grow [according to a report by the World Economic Forum](#3-the-future-of-jobs-world-economic-forum-2016) where 350 employers were interviewed.

In the new tech-dominated era, the best career choice is to become a tech creator. One of those few people who not only survives but thrives in a tech world.

**Carmel is a Decentralized Tech Education Platform that helps people like Chris acquire the technical skills they need to become Professional Software Developers without a formal computer science degree.**

## Decentralized Community

<img align="center" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/developers.png">

There are several online platforms catering to people like Chris today. The problem is that they are all operating under a centralized architecture and business model, where the platform acts as a third party between teachers and students, dominating the entire teaching and learning experience.

The challenge with centralized education is that it is highly modelled around the needs of the central party running the show, while the teachers and students are treated as second class citizens in the system.

What that really means is that the power resides with the controlling party, the platform, leaving the key stakeholders of the system, the teachers and students, powerless to make key decisions.

If we want to create a model that works best for those who really want to learn and for those who want to teach, we must give them full control of the ecosystem and stay back and let them decide what's best for the community as a whole. That includes giving teachers full control of pricing and giving them 100% revenue share.

The only way to reduce our dependency on a centralized authority in a learning ecosystem, is to architect the entire model from scratch as a decentralized community consisting solely of teachers and students.

**That's precisely how Carmel is architected. As a Decentralized Community of Teachers and Students, with absolutely no dependency on a central third party authority.**

## Educational Model

<img align="center" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/education.png">

One of the major drawbacks of most available online education is that must too often it's merely an extension of the traditional classroom, using technology. In a typical online video learning model, which dominates the current tech educational model, the teacher lectures the student via video, much like a traditional teacher would lecture students in a college classroom.

In the real world, at the office, software developers learn in a much more direct and hands-on way. They are rarely lectured and are much more self-directed. The knowledge is shared from peer to peer and the learning experience is highly personal and self-determined. The content is also broken down into much smaller pieces than a typical lecture and it's usually very specific to a problem to be solved.

Carmel is designed from scratch to implement an Educational Model that is based on solid principles collected from real-world experiences working in the Software Industry. It is a radical departure from the typical video-based lecture model and it is aimed to create a learning experience much closer to how professional software developers learn on an on-going basis, rather than mirroring how computer science is taught in a traditional college setting.

With Carmel, developers engage in a **hands on**, **microlearning** model that is **self-directed**, **peer driven** and **story-based**.

<img align="center" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/model.png">

#### Hands On

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/handson-icon.png">

Learning with Carmel, the student is exposed to a way of doing things that feels very real. As real as if they were in an office, working on a real-world problem for a real-world product. The Carmel Learning Experience ensures that every Carmel Student gets their hands dirty doing real work. At the end of the work assignment, the student learned something but also created something new and so they gain not only raw knowledge *about* a concept but also new *skills* and put them in practice right away.

#### Microlearning

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/microlearning-icon.png">

The hands on learning assignments are designed to be small enough to be undertaken in a few minutes of spare time. Each assignment is called a Challenge and it provides an opportunity to learn a small and specific skill about solving one problem. This is exactly how real world tech learning happens in a learning environment where software developers thrive and are continously improving their skills.

#### Self-Directed

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/selfdirected-icon.png">

Carmel Students design their own learning path by choosing which Carmel Challenge to undertake next and when. A Carmel Learning Path is very personal in that given enough challenges, no two paths will be similar and no two paths will be undertaken the same way by two different students. One might take longer to complete a challenge and they might complete it in a different way or a different style. At the end of the day, the result will be a unique and personal Learning Journey that clearly outlines what the student knows and how well they know the concepts they've learned.

#### Peer Driven

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/peerdriven-icon.png">

The Carmel Community is comprised of Software Developers who are at different levels in their Developer Journey. Some are brand new and others more experienced. Nonetheless, everyone always has something to learn from everyone else. Not one person will ever know enough on their own. Carmel enables each community member to contribute knowledge back into the community in the form of Carmel Challenges based on personal experience. Someone who has solved a problem in a certain way in the past has the relevant knowledge and skills to challenge someone else to acquire that same knowledge and develop those same skills. In a sense, the more a student learns, the more they can give back and also become a teacher to others.

#### Story-Based

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/storybased-icon.png">

Every Carmel Developer is encouraged to keep a Developer Journal that actively documents their Learning Journey. Each developer has their own story and others can participate in that story by connecting, conversing and engaging as their own story develops. Carmel generates story elements based on challenges which the developer either authored or completed and there is also a measure of progress that shows how much the developer knows and what it is that they can do as a software developer.  

## Challenges

<img align="center" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/challenges.png">

A Carmel Challenge is authored by someone who is familiar with the problem at hand and is in a position to challenge someone else while providing guidance and is also able to write the validation code required. In essence, developers challenge each other to *climb the digital mountain* so to speak, a daunting task to say the least. The ultimate goal is not how far a developer grows in their career, but that they keep growing. That they keep climbing.

The central theme of the Carmel Community is the concept of a challenge. A Carmel Challenge is a technical problem to be solved that includes a **tutorial** and a **proof of learning** using validation code that tests whether the student has successfully solved the problem or not. To author, distributed and edit challenges, a Carmel Author has access to a **publishing** dashboard. Each challenge is priced and measured in Carmel Tokens which represent the learning value of the challenge itself.

<img align="center" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/climbing.png">

#### Tutorial

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/tutorial-icon.png">

The tutorial associated with a Carmel Challenge is a clear walkthrough of the problem to be solved and how it needs to be solved. The best challenge tutorials are those that can be clearly followed by someone who has never completed a similar challenge before. Each step is documented in familiar language with examples and associated relevant supporting links to external sources of information. The tutorial is written in Markdown and should read as technical blog post.

#### Proof Of Learning

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/proofoflearning-icon.png">

Although the tutorial can be read and followed through like a blog post, and put in practice as such, Carmel requires the author goes a step further to create proof that the student undertaking the challenge has successfully completed it. This proof of learning is validated through validation code written by the challenge author at the same time as the tutorial. A challenge cannot be published unless it includes the validation code along with the tutorial. The validation code is written much like a unit test, in a framework provided by Carmel.

#### Publishing

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/publishing-icon.png">

A Carmel Author creates a challenge from their Carmel account at carmel.io and as soon as the tutorial and the validation code is ready, they are able to publish the challenge from their account. The challenge tutorial will be available at carmel.io in the form of an article, much like a blog post, and the validation code will be packaged as a bundle and held in the Carmel database, ready to be downloaded every time someone takes the challenge.

#### Tokens

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/tokens-icon.png">

The author sets a price for the challenge in Carmel Tokens and is able to update and change the price after the challenge has been published. It is important for our community to allow authors to set their own pricing. The market reaction to the challenge allows the author to adjust the pricing so that it stabilises at a fair price based on demand. In future pricing updates, Carmel will use Machine Learning to recommend optimal pricing, but the final decision of the actual price, will always remain in the hands of the author. To purchase a course, a student will have to own the required amount of tokens in their Carmel Wallet.

## Token Economy

<img align="center" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/economy.png">

A significant problem yet to be solved in the learning and development fields, particularly as it applies to software development, is the fact that it is extremely difficult to measure learning progress. Development Managers have a lot of tools available to them to accompany developers on their learning journey but none are accurate predictors of the actual progress being made. The primary challenge is the fact that as knowledge workers, the act of acquiring new technical skills is a fluid and creative process, making it practically impossible to measure as one would measure a purely manual or physical process.

The Carmel Educational Model introduces key principles that make it a viable solution to the growth tracking problem. The micro-learning approach means that the material is smaller and easier to produce and to consume. The peer approach ensures that the content can be produced in a scalable way, as the network increases. And the tokenized challenges allow for fine-grained tracking of progress.

#### Token Value

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/tokenvalue-icon.png">

One of the main concerns - if not the primary concern of all - in a blockchain economy is related to the value of the token at the heart of the entire economic model. In Carmel, a token - a Carmel Token - represents a tangible value directly correlated to the learning encapsulated in the challenge at hand. A challenge is authored with the sole purpose of teaching a practical skill. The value of that skill is expressed in units of Carmel Tokens, priced by the original author. The value of the token will change as demand changes but in terms of value correlation, the value of a Carmel Token represents Learning Value.

In essence, each developer in the Carmel community, can measure their skill set in Carmel Tokens. For example, if a Carmel Challenge is priced at 10 Carmel Tokens by the original author, that means that the challenge represents 10 Carmel Tokens worth of learning value. If a developer purchases the challenge and completes it, the value of the developer's skill set is increased by 10 Carmel Tokens.

The value of the token will fluctuate as demand for Carmel Challenges increases. In other words, as developers grow in their skill set by completing more challenges, the more transactions will occur in the Carmel Economy and the higher the value of the Carmel Token will rise. The value of a single Carmel Token is thus directly proportional to the overall value of the network. The more people will learn and draw real value from the platform, the more the token will grow in value as well.

#### Token Allocation

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/tokenalloc-icon.png">

A fixed amount of tokens are generated upfront with a distribution where most of the tokens are shared among community members. The token distribution model [is discussed in detail in a separate document](/docs/distribution) and is beyond the scope of this Whitepaper. Please consult that document for details, including details about initial pricing. What is worth noting is that fact that the majority of the initial offering is distributed to the community. New tokens will be generated at a fixed rate throughout the lifespan of the economy and without any computational overhead. Meaning that tokens will not be mined.

## Architecture

<p align="center">
<img src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/platform-diagram.png">
</p>

Carmel is designed from scratch to be decentralized, flexible, highly scalable, low maintenance and easy to use. The backend of the platform is a hybrid blockchain-cloud for performance reasons. As much as a blockchain-only architecture would be ideal, for the amount of transactional power Carmel requires, there is no available blockchain that can support those needs yet. The architecture is designed to be flexible so that as such a blockchain becomes production ready, Carmel can be transitioned to that infrastructure exclusively. Until that phase, the backend will incorporate a serverless cloud that will allow fast on-demand computation and will scale as needed.

#### Blockchain App

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/blockchain-icon.png">

Carmel makes use of the EOS blockchain as its primary infrastructure. EOS is a new concept and ambitious enough to warrant a deep dive into its capabilities but as good as EOS sounds, until it hits a production grade milestone, Carmel will base only some parts of its own architecture on it. The transactional aspect of Carmel, the purchasing of Carmel Challenges, will live exclusively on EOS from the start. The Carmel EOS Blockchain App will provide a public record of all Carmel Transactions which will also act as a public continuous learning journey. Every purchase of a Carmel Challenge will be tracked in the Carmel EOS App but also every result of the learning experience, whether successful or not, as evidenced and validated by the validation code associated with each Carmel Challenge. Other aspects of EOS, such as storing, will be explored in time, as alternatives to the initial cloud-based Carmel architecture.

#### Private Cloud

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/cloud-icon.png">

In order to ensure a high transactional throughput, Carmel will include a private Cloud component based on AWS Lambda and Firebase as a means to ensure a real-time, on-demand, always-on backend, available without any interruptions. The Carmel Cloud will communicate with the Carmel EOS App as needed to poll transaction history but it will not create new transactions as those will only happen from a secure client app. The Carmel Cloud is responsible for Carmel Account Management such as authentication, via Firebase. As the EOS blockchain improves, Carmel will transition to EOS accounts as that phase nears maturity. The Carmel Cloud will also handle all storing, retrieving and publishing of Carmel Challenges as well as all community needs such as conversations between members. These too can be transitioned to EOS, especially storage, once EOS matures.

#### Web App

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/web-icon.png">

The Carmel Web App lives at carmel.io and acts as the primary interface to the Carmel Cloud for members and visitors. This is where a visitor can join the community by creating a new Carmel Account and this is where a Carmel Author comes to create a new Carmel Challenge and eventually publish it as well. The Carmel Web App is also the central hub for displaying information about the progress of each member's learning journey. Each member gets a personalized story page that can be accessed by anyone on the internet, without logging in to Carmel. Each member's learning story will be accessible at carmel.io/<username> and will be updated automatically as the member creates and completes more challenges.

#### Desktop App

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/desktop-icon.png">

If there's one important aspect of that's missing from the Carmel Cloud and the Carmel Web App, that's the ability to create new transactions. Such as purchasing a new Carmel Challenge. The reason for that is because creating a new transaction requires a private key that cannot be stored on the Carmel Cloud or the Carmel Web App for security reasons. And so, Carmel members will be able to download the Carmel Desktop App on their mac, windows or linux computers and will be provided with a secure, encrypted environment, perfect for performing secure blockchain transactions. The Carmel Desktop App will be password protected and it will lock after a few minutes of inactivity so that even if the computer is compromised, without the password, the private blockchain key will be compromised. The Carmel Desktop App includes the Carmel Wallet and so that is going to be the primary and the recommended way of purchasing new Carmel Tokens.

#### Mobile App

<img align="left" style="margin: 20px" src="https://raw.githubusercontent.com/fluidtrends/carmel/master/images/mobile-icon.png">

Carmel Developers can access their Carmel Account via a native mobile app, available for iOS and Android devices. The app is in complete sync with the Carmel Cloud and it can perform most of the operations of the Web App but instead of catering to publishing, the mobile focuses on smaller parts of the overall experiences, such as notifications and community communication, such as messaging. The mobile app is synchronized in real-time with the web app and with the cloud such that any operation on either web or mobile is visible on both platforms immediately. In practice, developers use the mobile app to stay in the loop with community activity and communicate with peers, and use the web for publishing new challenges.

## Security Model

The bulk of the cryptographic security in Carmel, resides within the Carmel Desktop App. That's where the Carmel Wallet lives and that's where blockchain transactions are signed. The way Carmel secures the Desktop App is through a secure vault, tied to the developer's machine and heavily protected by both symmetric and assymetric encryption, as well as password hashing and secure local password storage. The Carmel Vault is secured using advanced cryptographic algorithms and it is practically impossible to compromise.

The Carmel Vault uses [Cassi](https://github.com/fluidtrends/cassi) as the underlaying technology. A Carmel Vault is essentially a specialized Cassi Vault, and so the strong [Cassi Security Model](https://github.com/fluidtrends/cassi/tree/master/docs/security) applies 100% to Carmel.

Here is the Carmel Security Model, heavily influenced by the Cassi Security Model:

1. A Carmel **Vault** is secured with strong **symmetric encryption** using a 256-bit Vault Key. The cipher used is an **AES-256-GCM** cipher. See [Vault Security](#vault-security) for more details on how your data stored in a Carmel Vault is secured and [how secure it really is](#practically-unbreakable) (hint: it's practically unbreakable).

2. The **Vault Key** is computed from a Machine Secret with Elliptic Curve Cryptography (ECC), using the Elliptic Curve Digital Signature Algorithm (ECDSA) and the **Secp256k1** standard and hashed using **HMAC-SHA256**. Have a look at [Vault Key Security](#vault-key-security) for details about the way Carmel secures the Vault Key.

3. The **Machine Secret** is secured with strong password encryption from a **Master Password** using the **BIP38** standard. See [Machine Secret Security](#machine-secret-security) for more details.

4. The **Machine Hash** is stored in the System Keychain. Depending on the host system, that's either the **Mac Keychain**, the **Linux Secret Service API** or the **Windows Credential Vault**.

5. The **System Keychain** is protected natively by the host system using the **Keychain Password**.

#### Threat Exposure

To crack a Carmel Vault, an attacker will need to either:

1. decrypt the vault data directly by guessing the AES-256 key, or
2. get access to the host system and crack both the System Keychain Password and the Master Password.

The first attack would take billions of times more than the age of the universe, as [described in detail below](#practically-unbreakable).

The second attack would take more effort than cracking any of your other sensitive information, like your online passwords, your access keys or your other saved passwords.

This attack is **much harder than stealing your other passwords** like your email account password or your favorite social media account password because the attacker would have to not only crack a password, but two - and to steal your computer.

It's also **harder than stealing your remote service access keys** like your AWS secret keys or your SSH private keys, because those are saved in plaintext on the host system and the attacker would only have to compromise your system, whereas with Carmel, they would also have to crack your System Keychain Password and your Master Password.

This attack is **harder than to accomplish than stealing other passwords** from your System Keychain, like WiFi passwords or any other saved passwords, because with Carmel the attacker would also have to crack the Master Password as well.

#### Vault Security

First, every Carmel Vault gets encrypted from the cleartext JSON format, using symmetric encryption.

A Carmel Vault is encrypted with [AES [4]](#aes-standard), the strongest symmetric standard available. AES is the [US federal government standard [5]](#aes-security) for classified information.

The AES key used for Carmel Vaults is a 256-bit key that creates an incredibly large number of possible solutions, making it practically impossible to crack.

In terms of security, a Carmel Vault is rock solid and as secure as top secret US information and as secure as top password managers like [1password [6]](#1password-security-model), [DashLane [7]](#dashlane-security-whitepaper) or [LastPass [8]](#lastpass-security-model) - they all use AES-256 encryption.

As its mode of operation, Carmel uses a highly efficient and performant mode, called the [Galois/Counter Mode [9]](#galois-counter-mode) mode, making it very difficult to break because it includes an authentication factor in addition to the base encryption.

Carmel also uses **pseudorandom numbers** to generate vectors and nonces, which means that the algorithm is implemented in the most secure way possible, without leaving any open doors for algorithm-based weaknesses.

#### Practically Unbreakable

AES has never been cracked. If that happens - considering that it's at the heart of all security systems from the US government to the best password managers out there - the whole world will essentially collapse and the security of your data will be the least of your worries.

The computational complexity of AES-256 is 2<sup>256</sup> - that's how difficult it is to crack it. That means there are that many possible solutions to guess the private key used for encryption. That's a big number - a really, really big number.

To understand how secure AES-256 encryption is against brute force attacks, consider the following. The [world's top supercomputer [10]](#top-supercomputer) called Sunway TaihuLight, has a computing power of 93 petaflops. That's 93 x 10<sup>15</sup> floating point operations per second (flops). In the most, absolute most conservative estimation, it would an attacker would require a minimum of 1000 flops to computer an AES key. In practice it could take much more than that. But if we assume 1000, then that means that the top supercomputer in the world could check 93 x 10<sup>12</sup> (93 x 10<sup>15</sup>/1000) combinations per second. With 31536000 seconds in a year (365 x 24 x 60 x 60) and given AES-256's computational complexity of 2<sup>256</sup> that means that it would take **3.31 x 10<sup>56</sup> years** to crack the encryption.

That's many, many **billions of times longer than the age of our universe.**

The best known attack against AES is called the [Biclique attack [11]](#biclique-attack) and all that it did is reduce computational complexity from  2<sup>256</sup> to 2<sup>254.4</sup> which is practically irrelevant.

Even if you apply the best known attack and use many of the world's top supercomputers, it would still take billions of years to crack a Carmel Vault.d

#### Vault Key Security

It's impossible to break the vault as long as the Vault Key is not in plain sight. That means a Carmel Vault Key has to be secured as well. If we can use a symmetric encryption algorithm (AES) for encrypting a vault, we cannot do the same for keys because we want these to be shared and we don't want to have to share the Vault Key as that would be highly insecure. We do however, want to make sure the Vault Key is [as secure as the Vault itself](#practically-unbreakable).

In other words, we want a Carmel Vault Owner to secure send a vault to themselves on another machine or to someone else without having to share the Vault Key. In order to accomplish this Carmel uses [Elliptic Curve Cryptography [12]](#elliptic-curve-cryptography) to secure the Vault Key in a shareable way.

The specific Elliptic Curve algorithm used is Elliptic Curve Digital Signature Algorithm (ECDSA) using [Secp256k1 [13]](#secp256k1), which is the same algorithm used in Bitcoin, Ethereum and other blockchains such as [EOS [14]](#eos-security). The computation complexity is the same as for AES-256 and thus the key is as secure as the vault itself against brute force attacks and as secure as Bitcoin and Ethereum private keys.

The Machine Signature represents the public Elliptic Curve Cryptography (ECC) key and the private ECC key is the Machine Secret. The Vault Key is generated by hashing the computed ECC secret resulting from the ECC computation, using HMAC-SHA256.

When a Carmel Vault is locked (encrypted), it is signed using the Machine Signature of the machine on which it was encrypted. That effectively means that the Vault can only be unlocked (decrypted) on that same machine. A vault can be  shared from one machine to another by signing it using both Machine Ids. The shared vault can be unlocked on either one of those machines.

#### Machine Secret Security

The Machine Secret constitutes the ultimate access to the Vault Key. Using that, the Vault Key can be computed and using the Vault Key, the Vault itself can be decrypted.

The Machine Signature is not a security concern and it does not need to be protected so Carmel keeps it in cleartext, stored in a cleartext file on the filesystem and uses this file to identify the host machine. The Machine Secret on the other hand, is extremely sensitive and it is not kept in plain sight anywhere on the Machine. It is the ECC private key and needs to be heavily secured.

At the same time, in case this key, the Machine Secret is lost, we want to have a mechanism by which it can be retrieved. That's why Carmel uses a Machine Mnemonic, a 12-word [mnemonic phrase [12]](#mnemonic-phrase) based on the **BIP39 standard** which can be used to recover the Machine Secret.

**The Machine Mnemonic is stored outside of the Carmel system and its security falls outside the scope of Carmel.**

Carmel goes to great lengths to secure the Machine Secret by encrypting it with a Master Password using the [BIP38 standard [13]](#bit38-standard), the same standard used to secure blockchain addresses, such as in [encrypted paper wallets [14]](#encrypted-paper-wallets).

In addition to encrypting the Machine Secret, Carmel stores it in the machine's system keychain. The very place where all secure information is stored. This is much safer than the filesystem, where sensitive information like SSH keys are stored. Meaning that the Carmel Machine Secret much is safer than a typical access key used to connect to a secure remote server or service.

Even if the machine itself is physically compromised, the machine's system keychain is usually password protected using a form of administrator password and the attacker would have to obtain that password too.

This all means, that even if the machine is compromised and the machine's administrator password is cracked and the native keychain is exposed, the Machine Secret is still protected by the Master Password.

---

#### References

###### 1. [Workforce of the future, PWC 2017](https://www.pwc.com/us/futureworkforce?WT.mc_id=CT11-PL1000-DM2-TR1-LS2-ND30-BPA30-CN_WoFFFG-)
###### 2. [The state of American jobs, Pew Research Center 2016](http://www.pewsocialtrends.org/2016/10/06/the-state-of-american-jobs/)
###### 3. [The future of jobs, World Economic Forum 2016](http://reports.weforum.org/future-of-jobs-2016/)
###### 4. [AES Standard](http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.197.pdf)
###### 5. [AES Security](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard#Security)
###### 6. [1password Security Model](https://support.1password.com/1password-security/)
###### 7. [DashLane Security Whitepaper](https://www.dashlane.com/download/Dashlane_SecurityWhitePaper_Dec2017.pdf)
###### 8. [LastPass Security Model](https://www.lastpass.com/how-lastpass-works)
###### 9. [Galois/Counter Mode](https://en.wikipedia.org/wiki/Galois/Counter_Mode)
###### 10. [Top supercomputer](https://en.wikipedia.org/wiki/Sunway_TaihuLight)
###### 11. [Biclique attack](https://en.wikipedia.org/wiki/Biclique_attack)
###### 12. [Elliptic Curve Cryptography](https://en.wikipedia.org/wiki/Elliptic-curve_cryptography)
###### 13. [Secp256k1](https://en.bitcoin.it/wiki/Secp256k1)
###### 14. [EOS Security](https://github.com/EOSIO/eos/blob/af648f70a7d4cc90760c1e5e140e07b4b452354e/libraries/fc/src/crypto/elliptic_mixed.cpp)
###### 15. [Mnemonic phrase](https://en.bitcoin.it/wiki/Mnemonic_phrase)
###### 16. [BIP38 Standard](http://cryptocoinjs.com/modules/currency/bip38/)
###### 17. [Encrypted Paper Wallets](https://bitcoinpaperwallet.com/bip38-password-encrypted-wallets/)
