{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@theia/languages/src/browser/language-client-contribution.ts","webpack:///./node_modules/@theia/languages/src/browser/language-client-factory.ts","webpack:///./node_modules/@theia/languages/src/browser/language-client-provider-impl.ts","webpack:///./node_modules/@theia/languages/src/browser/language-client-provider.ts","webpack:///./node_modules/@theia/languages/src/browser/language-client-services.ts","webpack:///./node_modules/@theia/languages/src/browser/language-resource-context-key.ts","webpack:///./node_modules/@theia/languages/src/browser/languages-frontend-contribution.ts","webpack:///./node_modules/@theia/languages/src/browser/languages-frontend-module.ts","webpack:///./node_modules/@theia/languages/src/browser/typehierarchy/typehierarchy-feature.ts","webpack:///./node_modules/@theia/languages/src/browser/typehierarchy/typehierarchy-protocol.ts","webpack:///./node_modules/@theia/languages/src/browser/window-impl.ts","webpack:///./node_modules/@theia/languages/src/browser/workspace-symbols.ts","webpack:///./node_modules/@theia/languages/src/common/index.ts","webpack:///./node_modules/@theia/languages/src/common/language-contribution.ts","webpack:///./node_modules/@theia/workspace/src/browser/index.ts","webpack:///./node_modules/glob-to-regexp/index.js","webpack:///./node_modules/monaco-languageclient/src/connection.ts","webpack:///./node_modules/monaco-languageclient/src/console-window.ts","webpack:///./node_modules/monaco-languageclient/src/disposable.ts","webpack:///./node_modules/monaco-languageclient/src/index.ts","webpack:///./node_modules/monaco-languageclient/src/monaco-commands.ts","webpack:///./node_modules/monaco-languageclient/src/monaco-converter.ts","webpack:///./node_modules/monaco-languageclient/src/monaco-diagnostic-collection.ts","webpack:///./node_modules/monaco-languageclient/src/monaco-language-client.ts","webpack:///./node_modules/monaco-languageclient/src/monaco-languages.ts","webpack:///./node_modules/monaco-languageclient/src/monaco-services.ts","webpack:///./node_modules/monaco-languageclient/src/monaco-workspace.ts","webpack:///./node_modules/monaco-languageclient/src/services.ts","webpack:///./node_modules/monaco-languageclient/src/vscode-api.ts","webpack:///./node_modules/monaco-languageclient/src/vscode-compatibility.ts","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack:///./node_modules/uuid/dist/esm-browser/index.js","webpack:///./node_modules/uuid/dist/esm-browser/md5.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/sha1.js","webpack:///./node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/uuid/dist/esm-browser/v3.js","webpack:///./node_modules/uuid/dist/esm-browser/v35.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/uuid/dist/esm-browser/v5.js","webpack:///./node_modules/vscode-languageclient/lib/client.js","webpack:///./node_modules/vscode-languageclient/lib/codeConverter.js","webpack:///./node_modules/vscode-languageclient/lib/colorProvider.js","webpack:///./node_modules/vscode-languageclient/lib/configuration.js","webpack:///./node_modules/vscode-languageclient/lib/declaration.js","webpack:///./node_modules/vscode-languageclient/lib/foldingRange.js","webpack:///./node_modules/vscode-languageclient/lib/implementation.js","webpack:///./node_modules/vscode-languageclient/lib/progressPart.js","webpack:///./node_modules/vscode-languageclient/lib/protocolCodeLens.js","webpack:///./node_modules/vscode-languageclient/lib/protocolCompletionItem.js","webpack:///./node_modules/vscode-languageclient/lib/protocolConverter.js","webpack:///./node_modules/vscode-languageclient/lib/protocolDocumentLink.js","webpack:///./node_modules/vscode-languageclient/lib/typeDefinition.js","webpack:///./node_modules/vscode-languageclient/lib/utils/async.js","webpack:///./node_modules/vscode-languageclient/lib/utils/is.js","webpack:///./node_modules/vscode-languageclient/lib/utils/uuid.js","webpack:///./node_modules/vscode-languageclient/lib/workspaceFolders.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/main.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/messages.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.callHierarchy.proposed.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.colorProvider.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.configuration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.declaration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.foldingRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.implementation.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.progress.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.selectionRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.sematicTokens.proposed.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.typeDefinition.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.workspaceFolders.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/utils/is.js"],"names":["__export","m","p","exports","hasOwnProperty","Object","defineProperty","value","vscode_1","require","vscode_languageserver_protocol_1","c2p","p2c","Is","async_1","UUID","progressPart_1","ConsoleLogger","message","console","error","warn","info","log","createConnection","input","output","errorHandler","closeHandler","logger","connection","createProtocolConnection","onError","data","onClose","result","listen","sendRequest","type","params","string","method","onRequest","handler","sendNotification","onNotification","onProgress","sendProgress","trace","tracer","sendNotificationOrTraceOptions","defaultTraceOptions","traceFormat","TraceFormat","Text","initialize","InitializeRequest","shutdown","ShutdownRequest","undefined","exit","ExitNotification","onLogMessage","LogMessageNotification","onShowMessage","ShowMessageNotification","onTelemetry","TelemetryEventNotification","didChangeConfiguration","DidChangeConfigurationNotification","didChangeWatchedFiles","DidChangeWatchedFilesNotification","didOpenTextDocument","DidOpenTextDocumentNotification","didChangeTextDocument","DidChangeTextDocumentNotification","didCloseTextDocument","DidCloseTextDocumentNotification","didSaveTextDocument","DidSaveTextDocumentNotification","onDiagnostics","PublishDiagnosticsNotification","dispose","ErrorAction","CloseAction","DefaultErrorHandler","name","restarts","_error","_message","count","Continue","Shutdown","push","Date","now","length","Restart","diff","window","showErrorMessage","DoNotRestart","shift","RevealOutputChannelOn","State","ClientState","SupportedSymbolKinds","SymbolKind","File","Module","Namespace","Package","Class","Method","Property","Field","Constructor","Enum","Interface","Function","Variable","Constant","String","Number","Boolean","Array","Key","Null","EnumMember","Struct","Event","Operator","TypeParameter","SupportedCompletionItemKinds","CompletionItemKind","Unit","Value","Keyword","Snippet","Color","Reference","Folder","ensure","target","key","DynamicFeature","is","candidate","func","register","unregister","messages","DocumentNotifiactions","_client","_event","_type","_middleware","_createParams","_selectorFilter","_selectors","Map","registerOptions","documentSelector","_listener","callback","set","id","values","notificationSent","_data","size","clear","document","selector","languages","match","send","Error","selectors","textDocument","DidOpenTextDocumentFeature","client","_syncedDocuments","workspace","onDidOpenTextDocument","clientOptions","middleware","didOpen","code2ProtocolConverter","asOpenTextDocumentParams","textDocumentFilter","capabilities","dynamicRegistration","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","generateUuid","textDocuments","forEach","uri","toString","has","DidCloseTextDocumentFeature","onDidCloseTextDocument","didClose","asCloseTextDocumentParams","get","DidChangeTextDocumentFeature","_changeData","_forcingDelivery","change","TextDocumentSyncKind","None","assign","syncKind","onDidChangeTextDocument","event","contentChanges","changeData","Incremental","asChangeTextDocumentParams","didChange","Full","_changeDelayer","forceDelivery","delayer","trigger","Delayer","WillSaveFeature","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveWaitUntilFeature","willSaveWaitUntil","WillSaveTextDocumentWaitUntilRequest","then","edits","vEdits","protocol2CodeConverter","asTextEdits","waitUntil","DidSaveTextDocumentFeature","onDidSaveTextDocument","didSave","asSaveTextDocumentParams","_includeText","save","includeText","FileSystemWatcherFeature","_notifyFileEvent","_watchers","_capabilities","_documentSelector","_method","isArray","watchers","disposeables","watcher","globPattern","watchCreate","watchChange","watchDelete","kind","WatchKind","Create","Change","Delete","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","listeners","onDidCreate","resource","asUri","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","disposable","TextDocumentFeature","_registrations","registration","registerLanguageProvider","provider","capability","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","WorkDoneProgressOptions","options","WorkspaceFeature","CompletionItemFeature","CompletionRequest","capabilites","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","documentationFormat","MarkupKind","Markdown","PlainText","deprecatedSupport","preselectSupport","tagSupport","valueSet","CompletionItemTag","Deprecated","completionItemKind","getRegistrationOptions","completionProvider","triggerCharacters","provideCompletionItems","position","token","context","asCompletionParams","asCompletionResult","logFailedRequest","Promise","resolve","provideCompletionItem","resolveCompletionItem","resolveProvider","item","CompletionResolveRequest","asCompletionItem","registerCompletionItemProvider","HoverFeature","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asTextDocumentPositionParams","asHover","registerHoverProvider","SignatureHelpFeature","SignatureHelpRequest","config","signatureInformation","parameterInformation","labelOffsetSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","asSignatureHelpParams","asSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","metaData","DefinitionFeature","DefinitionRequest","definitionSupport","linkSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","ReferencesFeature","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","asReferenceParams","asReferences","registerReferenceProvider","DocumentHighlightFeature","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentSymbolFeature","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","asDocumentSymbolParams","element","DocumentSymbol","asDocumentSymbols","asSymbolInformations","registerDocumentSymbolProvider","WorkspaceSymbolFeature","WorkspaceSymbolRequest","workspaceSymbolProvider","workDoneProgress","_options","provideWorkspaceSymbols","query","registerWorkspaceSymbolProvider","CodeActionFeature","CodeActionRequest","cap","isPreferredSupport","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","codeActionProvider","provideCodeActions","range","_provideCodeActions","asTextDocumentIdentifier","asRange","asCodeActionContext","Command","asCommand","asCodeAction","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","CodeLensFeature","CodeLensRequest","codeLensProvider","provideCodeLenses","asCodeLensParams","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","asCodeLens","registerCodeLensProvider","DocumentFormattingFeature","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","DocumentRangeFormattingFeature","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingFeature","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","ch","asPosition","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","RenameFeature","RenameRequest","rename","prepareSupport","renameProvider","prepareProvider","provideRenameEdits","newName","asWorkspaceEdit","reject","prepareRename","PrepareRenameRequest","Range","placeholder","registerRenameProvider","DocumentLinkFeature","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","DocumentLinkResolveRequest","asDocumentLink","registerDocumentLinkProvider","ConfigurationFeature","_listeners","section","synchronize","configurationSection","onDidChangeConfiguration","sections","affected","some","affectsConfiguration","settings","extractSettingsInformation","getMiddleware","keys","ensurePath","path","current","i","obj","create","workspaceFolder","index","indexOf","getConfiguration","substr","split","ExecuteCommandFeature","_commands","executeCommandProvider","executeCommand","command","args","arguments","ExecuteCommandRequest","commands","registerCommand","MessageTransports","MessageReader","reader","MessageWriter","writer","OnReady","_resolve","_reject","_used","BaseLanguageClient","_traceFormat","_features","_method2Message","_dynamicFeatures","_id","_name","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","uriConverters","state","Initial","_connectionPromise","_resolvedConnection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_providers","_diagnostics","_fileEvents","_fileEventDelayer","_onReady","_onReadyCallbacks","_onStop","_telemetryEmitter","Emitter","_stateChangeEmitter","_tracer","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","Running","Starting","Stopped","isConnectionActive","forceDocumentSync","ResponseError","responseError","code","stack","showNotification","appendLine","toLocaleTimeString","data2String","Info","showNotificationMessage","Warn","showInformationMessage","show","isLSPMessage","append","JSON","stringify","Stopping","isUsed","createDiagnosticCollection","resolveConnection","MessageType","Warning","showWarningMessage","ShowMessageRequest","messageFunc","actions","fire","StartFailed","Disposable","needsStop","stop","refreshTrace","initOption","rootPath","fsPath","_clientGetRootPath","initParams","processId","process","pid","clientInfo","version","rootUri","Uri","file","computeClientCapabilities","Trace","_trace","workspaceFolders","fillInitializeParams","part","ProgressPart","workDoneToken","doInitialize","done","cancel","number","textDocumentSync","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","title","folders","folder","scheme","cleanUp","cleanUpChannel","channel","diagnostics","listener","_a","_b","didChangeWatchedFile","onReady","changes","workSpaceMiddleware","asDiagnostics","setDiagnostics","handleConnectionError","handleConnectionClosed","createMessageTransports","transports","action","closed","start","Off","traceConfig","fromString","_connection","fileEvents","array","registerRaw","features","feature","registerFeature","request","notifyFileEvent","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Rename","failureHandling","FailureHandlingKind","TextOnlyTransactional","relatedInformation","versionSupport","DiagnosticTag","Unnecessary","fillClientCapabilities","registrations","unregisterations","unregistration","edit","openTextDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","ErrorCodes","RequestCancelled","ContentModified","_state","oldState","getPublicState","newState","createOutputChannel","proto","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","uriConverter","nullConverter","_uriConverter","asVersionedTextDocumentIdentifier","languageId","text","getText","isTextDocumentChangeEvent","isTextDocument","arg","map","line","character","end","rangeLength","includeContent","asTextDocumentSaveReason","reason","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","asWorkerPosition","asCompletionTriggerKind","triggerKind","CompletionTriggerKind","TriggerCharacter","TriggerForIncompleteCompletions","Invoked","triggerCharacter","asSignatureHelpTriggerKind","SignatureHelpTriggerKind","Invoke","ContentChange","asParameterInformation","label","asParameterInformations","asSignatureInformation","parameters","asSignatureInformations","signatures","activeSignature","activeParameter","isRetrigger","activeSignatureHelp","asPositions","elem","isInsertReplace","inserting","replacing","asLocation","Location","asDiagnosticSeverity","DiagnosticSeverity","Information","Hint","asDiagnosticTags","tags","tag","converted","asDiagnosticTag","asRelatedInformation","location","asRelatedInformations","items","asDiagnostic","Diagnostic","severity","source","asDocumentation","format","documentation","asCompletionItemTag","asCompletionItemTags","asCompletionItemKind","original","protocolItem","detail","filterText","fillPrimaryInsertText","originalItemKind","sortText","additionalTextEdits","commitCharacters","slice","preselect","deprecated","splice","InsertTextFormat","textEdit","newText","insertText","SnippetString","insertTextFormat","fromEdit","asTextEdit","asSymbolKind","asSymbolTag","asSymbolTags","includeDeclaration","only","CodeActionContext","CodeLens","tabSize","insertSpaces","DocumentLink","tooltip","client_1","ColorProviderFeature","DocumentColorRequest","getRegistration","colorProvider","provideColorPresentations","color","requestParams","ColorPresentationRequest","asColorPresentations","bind","provideDocumentColors","asColorInformations","registerColorProvider","red","green","blue","alpha","colorInformation","ci","ColorInformation","asColor","colorPresentations","cp","presentation","ColorPresentation","configuration","ConfigurationRequest","scopeUri","lastIndexOf","DeclarationFeature","DeclarationRequest","declarationSupport","declarationProvider","provideDeclaration","asDeclarationResult","registerDeclarationProvider","FoldingRangeFeature","FoldingRangeRequest","rangeLimit","lineFoldingOnly","foldingRangeProvider","provideFoldingRanges","_","asFoldingRanges","registerFoldingRangeProvider","FoldingRangeKind","Comment","Imports","Region","foldingRanges","r","FoldingRange","startLine","endLine","asFoldingRangeKind","ImplementationFeature","ImplementationRequest","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","_token","_reported","_disposable","WorkDoneProgress","begin","report","cancellable","ProgressLocation","Notification","Window","withProgress","progress","cancellationToken","_progress","_infinite","percentage","_cancellationToken","onCancellationRequested","WorkDoneProgressCancelNotification","Math","max","min","delta","increment","ProtocolCodeLens","ProtocolCompletionItem","CompletionItem","ls","CodeBlock","language","parse","diagnostic","asDiagnosticRelatedInformation","information","DiagnosticRelatedInformation","Position","asRanges","asHoverContent","MarkdownString","appendCodeblock","appendMarkdown","appendText","hover","Hover","contents","list","CompletionList","isIncomplete","asCompletionInsertText","itemKind","stringArray","TextEdit","SignatureHelp","SignatureInformation","ParameterInformation","asLocationResult","asLocationLink","targetUri","targetRange","targetSelectionRange","originSelectionRange","LocationLink","links","locations","asDocumentHighlight","DocumentHighlight","asDocumentHighlightKind","DocumentHighlightKind","Read","Write","asSymbolInformation","SymbolInformation","containerName","asDocumentSymbol","selectionRange","children","child","asCommands","kindMapping","asCodeActionKind","parts","CodeAction","isPreferred","WorkspaceEdit","CreateFile","createFile","RenameFile","renameFile","oldUri","newUri","DeleteFile","deleteFile","asColorInformation","asColorPresentation","asFoldingRange","asSelectionRange","SelectionRange","parent","asSelectionRanges","selectionRanges","ProtocolDocumentLink","TypeDefinitionFeature","TypeDefinitionRequest","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","defaultDelay","timeout","completionPromise","onSuccess","task","delay","cancelTimeout","setTimeout","clearTimeout","boolean","every","typedArray","check","thenable","resolved","ValueUUID","_value","other","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","join","floor","random","_chars","empty","v4","_UUIDPattern","isUUID","test","access","arrayDiff","left","right","filter","WorkspaceFoldersFeature","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","WorkspaceFoldersRequest","removed","added","doSendEvent","addedFolders","removedFolders","DidChangeWorkspaceFoldersNotification","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","sendInitialEvent","vscode_jsonrpc_1","CancellationToken","CancellationTokenSource","SetTraceNotification","LogTraceNotification","RequestType","RequestType0","NotificationType","NotificationType0","ConnectionStrategy","StreamMessageReader","StreamMessageWriter","IPCMessageReader","IPCMessageWriter","createClientPipeTransport","createServerPipeTransport","generateRandomPipeName","createClientSocketTransport","createServerSocketTransport","ProgressType","callHierarchy","st","Proposed","CallHierarchyPrepareRequest","CallHierarchyIncomingCallsRequest","CallHierarchyOutgoingCallsRequest","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","SemanticTokensRequest","SemanticTokensEditsRequest","SemanticTokensRangeRequest","strategy","createMessageConnection","ProtocolRequestType0","ProtocolRequestType","ProtocolNotificationType","ProtocolNotificationType0","messages_1","resultType","__noDynamicImport","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","SelectionRangeRequest","protocol_progress_1","WorkDoneProgressCreateRequest","DocumentFilter","pattern","DocumentSelector","Abort","Transactional","Undo","objectLiteral","hasWorkDoneProgress","InitializeError","unknownProtocolVersion","Log","resultId"],"mappings":"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ChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxtBA;AAAA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA,4BAA4B;AAC5B;;AAEA;AACA;;AAEe,0EAAW,E;;;;;;;;;;;;ACjB1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACA;AACA;;;;;;;;;;;;;ACFxC;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEe,kEAAG,E;;;;;;;;;;;;ACtNlB;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA;A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","file":"9.bundle.js","sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","module.exports = require(\"regenerator-runtime\");\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable, inject } from 'inversify';\nimport { MaybePromise, MessageService, CommandRegistry } from '@theia/core';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common';\nimport { FrontendApplication, WebSocketConnectionProvider } from '@theia/core/lib/browser';\nimport {\n    LanguageContribution, ILanguageClient, LanguageClientOptions,\n    DocumentSelector, TextDocument, FileSystemWatcher,\n    Workspace, Languages, State\n} from './language-client-services';\nimport { MessageConnection, ResponseError } from 'vscode-jsonrpc';\nimport { LanguageClientFactory } from './language-client-factory';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { InitializeParams } from 'monaco-languageclient';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\n\n/**\n * @deprecated since 1.4.0 - in order to remove monaco-languageclient, use VS Code extensions to contribute language smartness:\n * https://code.visualstudio.com/api/language-extensions/language-server-extension-guide\n */\nexport const LanguageClientContribution = Symbol('LanguageClientContribution');\nexport interface LanguageClientContribution extends LanguageContribution {\n    readonly running: boolean;\n    readonly languageClient: Promise<ILanguageClient>;\n    waitForActivation(app: FrontendApplication): Promise<void>;\n    activate(app: FrontendApplication): Disposable;\n    deactivate(): void;\n    restart(): void;\n}\n\n/**\n * @deprecated since 1.4.0 - in order to remove monaco-languageclient, use VS Code extensions to contribute language smartness:\n * https://code.visualstudio.com/api/language-extensions/language-server-extension-guide\n */\n@injectable()\nexport abstract class BaseLanguageClientContribution implements LanguageClientContribution {\n\n    abstract readonly id: string;\n    abstract readonly name: string;\n\n    protected _languageClient: ILanguageClient | undefined;\n\n    protected resolveReady: (languageClient: ILanguageClient) => void;\n    protected ready: Promise<ILanguageClient>;\n\n    @inject(MessageService) protected readonly messageService: MessageService;\n    @inject(CommandRegistry) protected readonly registry: CommandRegistry;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(LanguageContribution.Service) protected readonly languageContributionService: LanguageContribution.Service;\n    @inject(WebSocketConnectionProvider) protected readonly connectionProvider: WebSocketConnectionProvider;\n\n    constructor(\n        @inject(Workspace) protected readonly workspace: Workspace,\n        @inject(Languages) protected readonly languages: Languages,\n        @inject(LanguageClientFactory) protected readonly languageClientFactory: LanguageClientFactory\n    ) {\n        this.waitForReady();\n    }\n\n    get languageClient(): Promise<ILanguageClient> {\n        return this._languageClient ? Promise.resolve(this._languageClient) : this.ready;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    waitForActivation(app: FrontendApplication): Promise<any> {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const activationPromises: Promise<any>[] = [];\n        const workspaceContains = this.workspaceContains;\n        if (workspaceContains.length !== 0) {\n            activationPromises.push(this.waitForItemInWorkspace());\n        }\n        const documentSelector = this.documentSelector;\n        if (documentSelector) {\n            activationPromises.push(this.waitForOpenTextDocument(documentSelector));\n        }\n        if (activationPromises.length !== 0) {\n            return Promise.all([\n                this.workspace.ready,\n                Promise.race(activationPromises.map(p => new Promise(async resolve => {\n                    try {\n                        await p;\n                        resolve();\n                    } catch (e) {\n                        console.error(e);\n                    }\n                })))\n            ]);\n        }\n        return this.workspace.ready;\n    }\n\n    protected deferredConnection = new Deferred<MessageConnection>();\n\n    protected readonly toDeactivate = new DisposableCollection();\n    activate(): Disposable {\n        if (this.toDeactivate.disposed) {\n            if (!this._languageClient) {\n                this._languageClient = this.createLanguageClient(() => this.deferredConnection.promise);\n                this._languageClient.onDidChangeState(({ newState }) => {\n                    this.state = newState;\n                });\n            }\n            const toStop = new DisposableCollection(Disposable.create(() => { })); // mark as not disposed\n            this.toDeactivate.push(toStop);\n            this.doActivate(toStop);\n        }\n        return this.toDeactivate;\n    }\n    deactivate(): void {\n        this.toDeactivate.dispose();\n    }\n\n    protected stop = Promise.resolve();\n    protected async doActivate(toStop: DisposableCollection): Promise<void> {\n        try {\n            // make sure that the previous client is stopped to avoid duplicate commands and language services\n            await this.stop;\n            if (toStop.disposed) {\n                return;\n            }\n            const startParameters = await this.getStartParameters();\n            if (toStop.disposed) {\n                return;\n            }\n            const sessionId = await this.languageContributionService.create(this.id, startParameters);\n            if (toStop.disposed) {\n                this.languageContributionService.destroy(sessionId);\n                return;\n            }\n            toStop.push(Disposable.create(() => this.languageContributionService.destroy(sessionId)));\n            this.connectionProvider.listen({\n                path: LanguageContribution.getPath(this, sessionId),\n                onConnection: messageConnection => {\n                    this.deferredConnection.resolve(messageConnection);\n                    messageConnection.onDispose(() => this.deferredConnection = new Deferred<MessageConnection>());\n                    if (toStop.disposed) {\n                        messageConnection.dispose();\n                        return;\n                    }\n                    toStop.push(Disposable.create(() => this.stop = (async () => {\n                        try {\n                            // avoid calling stop if start failed\n                            await this._languageClient!.onReady();\n                            // remove all listeners\n                            await this._languageClient!.stop();\n                        } catch {\n                            try {\n                                // if start or stop failed make sure the the connection is closed\n                                messageConnection.dispose();\n                            } catch { /* no-op */ }\n                        }\n                    })()));\n                    toStop.push(messageConnection.onClose(() => this.forceRestart()));\n                    this._languageClient!.start();\n                    // it should be called after `start` that `onReady` promise gets reinitialized\n                    this.onWillStart(this._languageClient!, toStop);\n                }\n            }, { reconnecting: false });\n        } catch (e) {\n            console.error(e);\n            if (!toStop.disposed) {\n                this.forceRestart();\n            }\n        }\n    }\n\n    protected state: State | undefined;\n    get running(): boolean {\n        return !this.toDeactivate.disposed && this.state === State.Running;\n    }\n\n    restart(): void {\n        if (!this.running) {\n            return;\n        }\n        this.forceRestart();\n    }\n\n    protected forceRestart(): void {\n        this.deactivate();\n        this.activate();\n    }\n\n    protected onWillStart(languageClient: ILanguageClient, toStop?: DisposableCollection): void {\n        languageClient.onReady().then(() => this.onReady(languageClient, toStop));\n    }\n\n    protected onReady(languageClient: ILanguageClient, toStop?: DisposableCollection): void {\n        this._languageClient = languageClient;\n        this.resolveReady(this._languageClient);\n        this.waitForReady();\n    }\n\n    protected waitForReady(): void {\n        this.ready = new Promise<ILanguageClient>(resolve =>\n            this.resolveReady = resolve\n        );\n    }\n\n    protected createLanguageClient(connection: MessageConnection | (() => MaybePromise<MessageConnection>)): ILanguageClient {\n        const clientOptions = this.createOptions();\n        return this.languageClientFactory.get(this, clientOptions, connection);\n    }\n\n    protected createOptions(): LanguageClientOptions {\n        const { id, documentSelector, fileEvents, configurationSection, initializationOptions } = this;\n        return {\n            documentSelector,\n            synchronize: { fileEvents, configurationSection },\n            initializationFailedHandler: err => this.handleInitializationFailed(err),\n            diagnosticCollectionName: id,\n            initializationOptions\n        };\n    }\n    protected handleInitializationFailed(err: ResponseError<InitializeParams> | Error | any): boolean {\n        this.deactivate();\n        const detail = err instanceof Error ? `: ${err.message}` : '.';\n        this.messageService.error(`Failed to start ${this.name} language server${detail}`, 'Retry').then(result => {\n            if (result) {\n                this.activate();\n            }\n        });\n        return false;\n    }\n\n    protected getStartParameters(): MaybePromise<any> {\n        return undefined;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected get initializationOptions(): any | (() => any) | undefined {\n        return undefined;\n    }\n\n    protected get configurationSection(): string | string[] | undefined {\n        return undefined;\n    }\n\n    protected get workspaceContains(): string[] {\n        return [];\n    }\n\n    protected get documentSelector(): DocumentSelector | undefined {\n        return [this.id];\n    }\n\n    protected _fileEvents: FileSystemWatcher[] | undefined;\n    protected get fileEvents(): FileSystemWatcher[] {\n        return this._fileEvents = this._fileEvents || this.createFileEvents();\n    }\n    protected createFileEvents(): FileSystemWatcher[] {\n        const watchers = [];\n        if (this.workspace.createFileSystemWatcher) {\n            for (const globPattern of this.globPatterns) {\n                watchers.push(this.workspace.createFileSystemWatcher(globPattern));\n            }\n        }\n        return watchers;\n    }\n\n    protected get globPatterns(): string[] {\n        return [];\n    }\n\n    /**\n     * Check to see if one of the paths is in the current workspace.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected async waitForItemInWorkspace(): Promise<any> {\n        const doesContain = await this.workspaceService.containsSome(this.workspaceContains);\n        if (!doesContain) {\n            return new Promise(resolve => { });\n        }\n        return doesContain;\n    }\n\n    // FIXME move it to the workspace\n    protected waitForOpenTextDocument(selector: DocumentSelector): Promise<TextDocument> {\n        const document = this.workspace.textDocuments.filter(doc =>\n            this.languages.match(selector, doc)\n        )[0];\n        if (document !== undefined) {\n            return Promise.resolve(document);\n        }\n        return new Promise<TextDocument>(resolve => {\n            const disposable = this.workspace.onDidOpenTextDocument(doc => {\n                if (this.languages.match(selector, doc)) {\n                    disposable.dispose();\n                    resolve(doc);\n                }\n            });\n        });\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { MessageConnection } from 'vscode-jsonrpc';\nimport { CommandRegistry, Disposable, MaybePromise } from '@theia/core/lib/common';\nimport { ErrorAction, RevealOutputChannelOn, CloseAction } from 'monaco-languageclient';\nimport {\n    Workspace, Languages, Window, Services,\n    ILanguageClient, LanguageClientOptions, MonacoLanguageClient,\n    createConnection, LanguageContribution\n} from './language-client-services';\nimport { TypeHierarchyFeature } from './typehierarchy/typehierarchy-feature';\n\n@injectable()\nexport class LanguageClientFactory {\n\n    @inject(CommandRegistry) protected readonly registry: CommandRegistry;\n\n    constructor(\n        @inject(Workspace) protected readonly workspace: Workspace,\n        @inject(Languages) protected readonly languages: Languages,\n        @inject(Window) protected readonly window: Window\n    ) {\n        Services.install({\n            workspace,\n            languages,\n            window,\n            commands: {\n                registerCommand: this.registerCommand.bind(this)\n            }\n        });\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected registerCommand(id: string, callback: (...args: any[]) => any, thisArg?: any): Disposable {\n        const execute = callback.bind(thisArg);\n        return this.registry.registerCommand({ id }, { execute });\n    }\n\n    get(contribution: LanguageContribution, clientOptions: LanguageClientOptions,\n        connectionProvider: MessageConnection | (() => MaybePromise<MessageConnection>)): ILanguageClient {\n        if (clientOptions.revealOutputChannelOn === undefined) {\n            clientOptions.revealOutputChannelOn = RevealOutputChannelOn.Never;\n        }\n        if (!clientOptions.errorHandler) {\n            clientOptions.errorHandler = {\n                // ignore connection errors\n                error: () => ErrorAction.Continue,\n                closed: () => CloseAction.DoNotRestart\n            };\n        }\n        const initializationFailedHandler = clientOptions.initializationFailedHandler;\n        clientOptions.initializationFailedHandler = e => !!initializationFailedHandler && initializationFailedHandler(e);\n        const client = new MonacoLanguageClient({\n            id: contribution.id,\n            name: contribution.name,\n            clientOptions,\n            connectionProvider: {\n                get: async (errorHandler, closeHandler) => {\n                    const connection = typeof connectionProvider === 'function' ? await connectionProvider() : connectionProvider;\n                    return createConnection(connection, errorHandler, closeHandler);\n                }\n            }\n        });\n        client.registerFeature(new TypeHierarchyFeature(client));\n        return this.patch4085(client);\n    }\n\n    /**\n     * see https://github.com/eclipse-theia/theia/issues/4085\n     * remove when monaco-languageclient is upgraded to latest vscode-languageclient\n     */\n    protected patch4085(client: MonacoLanguageClient): MonacoLanguageClient {\n        const features = client['_dynamicFeatures'] as Map<string, {\n            _listener?: Object | undefined\n            dispose?: Function\n        }>;\n        for (const feature of features.values()) {\n            if (feature.dispose) {\n                const dispose = feature.dispose.bind(feature);\n                feature.dispose = () => {\n                    dispose();\n                    if (feature._listener) {\n                        feature._listener = undefined;\n                    }\n                };\n            }\n        }\n        return client;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, named } from 'inversify';\nimport { ContributionProvider } from '@theia/core/lib/common';\nimport { LanguageClientContribution } from './language-client-contribution';\nimport { ILanguageClient } from './language-client-services';\nimport { LanguageClientProvider } from './language-client-provider';\n\n@injectable()\nexport class LanguageClientProviderImpl implements LanguageClientProvider {\n\n    @inject(ContributionProvider) @named(LanguageClientContribution)\n    private readonly contributions: ContributionProvider<LanguageClientContribution>;\n\n    async getLanguageClient(languageId: string): Promise<ILanguageClient | undefined> {\n        const contribution = this.getLanguageContribution(languageId);\n        if (contribution) {\n            return contribution.languageClient;\n        }\n    }\n\n    protected getLanguageContribution(languageId: string): LanguageClientContribution | undefined {\n        const contributions = this.contributions.getContributions();\n        if (contributions) {\n            for (const contribution of contributions) {\n                if (contribution.id === languageId) {\n                    return contribution;\n                }\n            }\n        }\n        return undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ILanguageClient } from './language-client-services';\n\nexport const LanguageClientProvider = Symbol('LanguageClientProvider');\nexport interface LanguageClientProvider {\n    getLanguageClient(languageId: string): Promise<ILanguageClient | undefined>\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as services from 'monaco-languageclient/lib/services';\nimport * as connection from 'monaco-languageclient/lib/connection';\nimport * as base from 'monaco-languageclient/lib/monaco-language-client';\nexport * from 'monaco-languageclient';\nexport * from '../common';\n\nexport interface Language {\n    readonly id: string;\n    readonly name: string;\n    readonly extensions: Set<string>;\n    readonly filenames: Set<string>;\n}\n\nexport interface WorkspaceSymbolProvider extends services.WorkspaceSymbolProvider {\n    resolveWorkspaceSymbol?(symbol: services.SymbolInformation, token: services.CancellationToken): Thenable<services.SymbolInformation | undefined>\n}\n\n/**\n * @deprecated since 1.4.0 - in order to remove monaco-languageclient, use VS Code extensions to contribute language smartness:\n * https://code.visualstudio.com/api/language-extensions/language-server-extension-guide\n */\nexport const Languages = Symbol('Languages');\nexport interface Languages extends services.Languages {\n    readonly workspaceSymbolProviders?: WorkspaceSymbolProvider[];\n    readonly languages?: Language[]\n    getLanguage?(languageId: string): Language | undefined;\n}\n\n/**\n * @deprecated since 1.4.0 - in order to remove monaco-languageclient, use VS Code extensions to contribute language smartness:\n * https://code.visualstudio.com/api/language-extensions/language-server-extension-guide\n */\nexport const Workspace = Symbol('Workspace');\nexport interface Workspace extends services.Workspace {\n    readonly ready: Promise<void>;\n}\n\nexport const Commands = Symbol('Commands');\nexport interface Commands extends services.Commands { }\n\nexport const Window = Symbol('Window');\nexport interface Window extends services.Window { }\n\nexport const IConnectionProvider = Symbol('IConnectionProvider');\nexport interface IConnectionProvider extends connection.IConnectionProvider { }\n\nexport const ILanguageClient = Symbol('ILanguageClient');\nexport interface ILanguageClient extends base.MonacoLanguageClient { }\n\nexport interface LanguageClientOptions extends base.LanguageClientOptions { }\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { ResourceContextKey } from '@theia/core/lib/browser/resource-context-key';\nimport { Languages } from './language-client-services';\n\n@injectable()\nexport class LanguageResourceContextKey extends ResourceContextKey {\n\n    @inject(Languages)\n    protected readonly languages: Languages;\n\n    protected getLanguageId(uri: URI | undefined): string | undefined {\n        const { languages } = this.languages;\n        if (uri && languages) {\n            for (const language of languages) {\n                if (language.extensions.has(uri.path.ext)) {\n                    return language.id;\n                }\n            }\n        }\n        return undefined;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, named } from 'inversify';\nimport { ContributionProvider, CommandContribution, CommandRegistry } from '@theia/core/lib/common';\nimport { FrontendApplication, FrontendApplicationContribution, PreferenceSchema, PreferenceSchemaProvider } from '@theia/core/lib/browser';\nimport { LanguageClientContribution } from './language-client-contribution';\n\n@injectable()\nexport class LanguagesFrontendContribution implements FrontendApplicationContribution, CommandContribution {\n\n    @inject(FrontendApplication)\n    protected readonly app: FrontendApplication;\n\n    @inject(PreferenceSchemaProvider)\n    protected preferenceSchema: PreferenceSchemaProvider;\n\n    @inject(ContributionProvider) @named(LanguageClientContribution)\n    protected readonly contributions: ContributionProvider<LanguageClientContribution>;\n\n    onStart(app: FrontendApplication): void {\n        const schema: PreferenceSchema = {\n            type: 'object',\n            properties: {}\n        };\n        for (const contribution of this.contributions.getContributions()) {\n            contribution.waitForActivation(app).then(() =>\n                contribution.activate(app)\n            );\n            schema.properties[`${contribution.id}.trace.server`] = {\n                type: 'string',\n                enum: [\n                    'off',\n                    'messages',\n                    'verbose'\n                ],\n                default: 'off',\n                description: `Enable/disable tracing communications with the ${contribution.name} language server`\n            };\n        }\n        this.preferenceSchema.setSchema(schema);\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        for (const contribution of this.contributions.getContributions()) {\n            commands.registerCommand({\n                id: `${contribution.id}.server.start`,\n                label: `${contribution.name}: Start Language Server`\n            }, {\n                execute: () => contribution.activate(this.app),\n                isEnabled: () => !contribution.running,\n                isVisible: () => !contribution.running,\n            });\n            commands.registerCommand({\n                id: `${contribution.id}.server.stop`,\n                label: `${contribution.name}: Stop Language Server`\n            }, {\n                execute: () => contribution.deactivate(),\n                isEnabled: () => contribution.running,\n                isVisible: () => contribution.running,\n            });\n            commands.registerCommand({\n                id: `${contribution.id}.server.restart`,\n                label: `${contribution.name}: Restart Language Server`\n            }, {\n                execute: () => contribution.restart(),\n                isEnabled: () => contribution.running,\n                isVisible: () => contribution.running,\n            });\n        }\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ContainerModule } from 'inversify';\nimport { bindContributionProvider, CommandContribution } from '@theia/core/lib/common';\nimport { ResourceContextKey } from '@theia/core/lib/browser/resource-context-key';\nimport { FrontendApplicationContribution, KeybindingContribution, QuickOpenContribution, WebSocketConnectionProvider } from '@theia/core/lib/browser';\nimport { Window } from './language-client-services';\nimport { WindowImpl } from './window-impl';\nimport { LanguageClientFactory } from './language-client-factory';\nimport { LanguagesFrontendContribution } from './languages-frontend-contribution';\nimport { LanguageClientContribution } from './language-client-contribution';\nimport { WorkspaceSymbolCommand } from './workspace-symbols';\nimport { LanguageClientProvider } from './language-client-provider';\nimport { LanguageClientProviderImpl } from './language-client-provider-impl';\nimport { LanguageContribution } from '../common';\nimport { LanguageResourceContextKey } from './language-resource-context-key';\n\nexport default new ContainerModule((bind, unbind, isBound, rebind) => {\n    bind(Window).to(WindowImpl).inSingletonScope();\n\n    bind(LanguageClientFactory).toSelf().inSingletonScope();\n    bind(LanguageContribution.Service).toDynamicValue(({ container }) =>\n        WebSocketConnectionProvider.createProxy(container, LanguageContribution.servicePath)\n    ).inSingletonScope();\n\n    bindContributionProvider(bind, LanguageClientContribution);\n    bind(LanguagesFrontendContribution).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(LanguagesFrontendContribution);\n    bind(CommandContribution).toService(LanguagesFrontendContribution);\n\n    bind(WorkspaceSymbolCommand).toSelf().inSingletonScope();\n    for (const identifier of [CommandContribution, KeybindingContribution, QuickOpenContribution]) {\n        bind(identifier).toService(WorkspaceSymbolCommand);\n    }\n\n    bind(LanguageClientProviderImpl).toSelf().inSingletonScope();\n    bind(LanguageClientProvider).toService(LanguageClientProviderImpl);\n\n    bind(LanguageResourceContextKey).toSelf().inSingletonScope();\n    rebind(ResourceContextKey).to(LanguageResourceContextKey).inSingletonScope();\n});\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { v4 } from 'uuid';\nimport {\n    Disposable,\n    ILanguageClient,\n    DocumentSelector,\n    ClientCapabilities,\n    ServerCapabilities,\n    TextDocumentFeature,\n    TextDocumentRegistrationOptions\n} from '../language-client-services';\nimport { TypeHierarchyRequest } from './typehierarchy-protocol';\n\n// NOTE: This module can be removed, or at least can be simplified once the type hierarchy will become the part of the LSP.\n// https://github.com/Microsoft/language-server-protocol/issues/582\n// https://github.com/Microsoft/vscode-languageserver-node/pull/346#discussion_r221659062\n\n/**\n * Text document feature for handling super- and subtype hierarchies through the LSP.\n *\n * @deprecated since 1.4.0 - in order to remove monaco-languageclient, use VS Code extensions to contribute language smartness:\n * https://code.visualstudio.com/api/language-extensions/language-server-extension-guide\n *\n * VS Code extensions don't support yet type hierarchy providers, please follow https://github.com/microsoft/vscode/issues/15533\n * and https://github.com/microsoft/vscode-languageserver-node/pull/426 for LSP\n */\nexport class TypeHierarchyFeature extends TextDocumentFeature<{}, TextDocumentRegistrationOptions, {}> {\n\n    constructor(readonly client: ILanguageClient) {\n        super(client, TypeHierarchyRequest.type);\n    }\n\n    fillClientCapabilities(capabilities: ClientCapabilities): void {\n        if (!capabilities.textDocument) {\n            capabilities.textDocument = {};\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (capabilities.textDocument as any).typeHierarchy = {\n            dynamicRegistration: true\n        };\n    }\n\n    initialize(capabilities: ServerCapabilities, documentSelector: DocumentSelector): void {\n        if (!documentSelector) {\n            return;\n        }\n        const capabilitiesExt: ServerCapabilities & { typeHierarchyProvider?: boolean } = capabilities;\n        if (capabilitiesExt.typeHierarchyProvider) {\n            const id = v4();\n            this.register(this.messages, {\n                id,\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, capabilitiesExt.typeHierarchyProvider)\n            });\n        }\n    }\n\n    protected registerLanguageProvider(): [Disposable, {}] {\n        return [Disposable.create(() => { /* NOOP */ }), {}];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { RequestType } from '../language-client-services';\nimport { SymbolKind, Range } from 'vscode-languageserver-types';\nimport { TextDocumentPositionParams, TextDocumentRegistrationOptions, StaticRegistrationOptions } from 'vscode-languageserver-protocol';\n\n// NOTE: This module can be removed, once the type hierarchy will become the part of the LSP.\n// https://github.com/Microsoft/language-server-protocol/issues/582\n// https://github.com/Microsoft/vscode-languageserver-node/pull/346#discussion_r221659062\n\n/**\n * Client capabilities specific to the type hierarchy feature.\n */\nexport interface TypeHierarchyCapabilities {\n\n    /**\n     * The text document client capabilities.\n     */\n    textDocument?: {\n\n        /**\n         * Capabilities specific to the `textDocument/typeHierarchy`.\n         */\n        typeHierarchy?: {\n\n            /**\n             * Whether implementation supports dynamic registration. If this is set to `true`\n             * the client supports the new `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`\n             * return value for the corresponding server capability as well.\n             */\n            dynamicRegistration?: boolean;\n\n        }\n\n    }\n\n}\n\n/**\n * Type hierarchy language server capability.\n */\nexport interface TypeHierarchyServerCapabilities {\n\n    /**\n     * Server capability for calculating super- and subtype hierarchies.\n     */\n    typeHierarchyProvider?: boolean | (TextDocumentRegistrationOptions & StaticRegistrationOptions);\n\n}\n\n/**\n * The type hierarchy params is an extension of the `TextDocumentPositionParams` with optional properties\n * which can be used to eagerly resolve the item when requesting from the server.\n */\nexport interface TypeHierarchyParams extends TextDocumentPositionParams {\n\n    /**\n     * The hierarchy levels to resolve. `0` indicates no level. When not defined, it is treated as `0`.\n     */\n    resolve?: number;\n\n    /**\n     * The direction of the hierarchy levels to resolve.\n     */\n    direction?: TypeHierarchyDirection\n\n}\n\nexport namespace TypeHierarchyDirection {\n\n    /**\n     * Flag for retrieving/resolving the subtypes.\n     */\n    export const Children = 0;\n\n    /**\n     * Flag to use when retrieving/resolving the supertypes.\n     */\n    export const Parents = 1;\n\n    /**\n     * Flag for resolving both the super- and subtypes.\n     */\n    export const Both = 2;\n\n}\nexport type TypeHierarchyDirection = 0 | 1 | 2;\n\n/**\n * The `textDocument/typeHierarchy` request is sent from the client to the server to retrieve the type hierarchy\n * items from a given position of a text document. Can resolve the parentage information on demand.\n * If no item can be retrieved for a given text document position, returns with `null`.\n */\nexport namespace TypeHierarchyRequest {\n    export const type = new RequestType<TypeHierarchyParams, TypeHierarchyItem | null, void, void>('textDocument/typeHierarchy');\n}\n\n/**\n * Parameters for the `typeHierarchy/resolve` request.\n */\nexport interface ResolveTypeHierarchyItemParams {\n\n    /**\n     * The item to resolve.\n     */\n    item: TypeHierarchyItem;\n\n    /**\n     * The hierarchy levels to resolve. `0` indicates no level.\n     */\n    resolve: number;\n\n    /**\n     * The direction of the hierarchy levels to resolve.\n     */\n    direction: TypeHierarchyDirection;\n}\n\n/**\n * The `typeHierarchy/resolve` request is sent from the client to the server to resolve a type hierarchy\n * item by resolving sub- and supertype information.\n */\nexport namespace ResolveTypeHierarchyRequest {\n    export const type = new RequestType<ResolveTypeHierarchyItemParams, TypeHierarchyItem | null, void, void>('typeHierarchy/resolve');\n}\n\nexport interface TypeHierarchyItem {\n\n    /**\n     * The human readable name of the hierarchy item.\n     */\n    name: string;\n\n    /**\n     * Optional detail for the hierarchy item. It can be, for instance, the signature of a function or method.\n     */\n    detail?: string;\n\n    /**\n     * The kind of the hierarchy item. For instance, class or interface.\n     */\n    kind: SymbolKind;\n\n    /**\n     * `true` if the hierarchy item is deprecated. Otherwise, `false`. It is `false` by default.\n     */\n    deprecated?: boolean;\n\n    /**\n     * The URI of the text document where this type hierarchy item belongs to.\n     */\n    uri: string;\n\n    /**\n     * The range enclosing this type hierarchy item not including leading/trailing whitespace but everything else\n     * like comments. This information is typically used to determine if the clients cursor is inside the type\n     * hierarchy item to reveal in the symbol in the UI.\n     */\n    range: Range;\n\n    /**\n     * The range that should be selected and revealed when this type hierarchy item is being picked, e.g the name\n     * of a function. Must be contained by the `range`.\n     */\n    selectionRange: Range;\n\n    /**\n     * If this type hierarchy item is resolved, it contains the direct parents. Could be empty if the item does\n     * not have any direct parents. If not defined, the parents have not been resolved yet.\n     */\n    parents?: TypeHierarchyItem[];\n\n    /**\n     * If this type hierarchy item is resolved, it contains the direct children of the current item. Could be\n     * empty if the item does not have any descendants. If not defined, the children have not been resolved.\n     */\n    children?: TypeHierarchyItem[];\n\n    /**\n     * An optional data field can be used to identify a type hierarchy item in a resolve request.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data?: any;\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { MessageService, CommandRegistry } from '@theia/core/lib/common';\nimport { Window, OutputChannel, MessageActionItem, MessageType } from 'monaco-languageclient/lib/services';\n\n@injectable()\nexport class WindowImpl implements Window {\n\n    private canAccessOutput: boolean | undefined;\n    protected static readonly NOOP_CHANNEL: OutputChannel = {\n        append: () => { },\n        appendLine: () => { },\n        dispose: () => { },\n        show: () => { }\n    };\n\n    @inject(MessageService) protected readonly messageService: MessageService;\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n\n    showMessage<T extends MessageActionItem>(type: MessageType, message: string, ...actions: T[]): Thenable<T | undefined> {\n        const originalActions = new Map((actions || []).map(action => [action.title, action] as [string, T]));\n        const actionTitles = (actions || []).map(action => action.title);\n        const mapActionType: (result: string | undefined) => (T | undefined) = result => {\n            if (!!result) {\n                return originalActions.get(result);\n            }\n            return undefined;\n        };\n        if (type === MessageType.Error) {\n            return this.messageService.error(message, ...actionTitles).then(mapActionType);\n        }\n        if (type === MessageType.Warning) {\n            return this.messageService.warn(message, ...actionTitles).then(mapActionType);\n        }\n        if (type === MessageType.Info) {\n            return this.messageService.info(message, ...actionTitles).then(mapActionType);\n        }\n        if (type === MessageType.Log) {\n            return this.messageService.log(message, ...actionTitles).then(mapActionType);\n        }\n        return Promise.resolve(undefined);\n    }\n\n    createOutputChannel(name: string): OutputChannel {\n        // Note: alternatively, we could add `@theia/output` as a `devDependency` and check, for instance,\n        // the manager for the output channels can be injected or not with `@optional()` but this approach has the same effect.\n        // The `@theia/languages` extension will be removed anyway: https://github.com/eclipse-theia/theia/issues/7100\n        if (this.canAccessOutput === undefined) {\n            this.canAccessOutput = !!this.commandRegistry.getCommand('output:append');\n        }\n        if (!this.canAccessOutput) {\n            return WindowImpl.NOOP_CHANNEL;\n        }\n        return {\n            append: text => this.commandRegistry.executeCommand('output:append', { name, text }),\n            appendLine: text => this.commandRegistry.executeCommand('output:appendLine', { name, text }),\n            dispose: () => this.commandRegistry.executeCommand('output:dispose', { name }),\n            show: (preserveFocus: boolean = false) => this.commandRegistry.executeCommand('output:show', { name, options: { preserveFocus } })\n        };\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { environment } from '@theia/application-package/lib/environment';\nimport {\n    PrefixQuickOpenService, QuickOpenModel, QuickOpenItem, OpenerService,\n    QuickOpenMode, KeybindingContribution, KeybindingRegistry, QuickOpenHandler, QuickOpenOptions, QuickOpenContribution, QuickOpenHandlerRegistry\n} from '@theia/core/lib/browser';\nimport { Languages, WorkspaceSymbolParams, SymbolInformation, WorkspaceSymbolProvider, CancellationToken } from './language-client-services';\nimport { CancellationTokenSource, CommandRegistry, CommandHandler, Command, SelectionService } from '@theia/core';\nimport URI from '@theia/core/lib/common/uri';\nimport { CommandContribution } from '@theia/core/lib/common';\nimport { Range, Position } from 'vscode-languageserver-types';\n\n@injectable()\nexport class WorkspaceSymbolCommand implements QuickOpenModel, CommandContribution, KeybindingContribution, CommandHandler, QuickOpenHandler, QuickOpenContribution {\n\n    readonly prefix = '#';\n    readonly description = 'Go to Symbol in Workspace';\n\n    private command: Command = {\n        id: 'languages.workspace.symbol',\n        label: 'Go to Symbol in Workspace...'\n    };\n\n    constructor(@inject(Languages) protected languages: Languages,\n        @inject(OpenerService) protected readonly openerService: OpenerService,\n        @inject(PrefixQuickOpenService) protected quickOpenService: PrefixQuickOpenService,\n        @inject(SelectionService) protected selectionService: SelectionService) { }\n\n    isEnabled(): boolean {\n        return this.languages.workspaceSymbolProviders !== undefined;\n    }\n\n    execute(): void {\n        this.quickOpenService.open(this.prefix);\n    }\n\n    getModel(): QuickOpenModel {\n        return this;\n    }\n\n    getOptions(): QuickOpenOptions {\n        return {\n            fuzzyMatchLabel: true,\n            showItemsWithoutHighlight: true,\n            onClose: () => {\n                this.cancellationSource.cancel();\n            }\n        };\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(this.command, this);\n    }\n\n    private isElectron(): boolean {\n        return environment.electron.is();\n    }\n\n    registerKeybindings(keybindings: KeybindingRegistry): void {\n        keybindings.registerKeybinding({\n            command: this.command.id,\n            keybinding: this.isElectron() ? 'ctrlcmd+t' : 'ctrlcmd+o',\n        });\n    }\n\n    registerQuickOpenHandlers(handlers: QuickOpenHandlerRegistry): void {\n        handlers.registerHandler(this);\n    }\n\n    private cancellationSource = new CancellationTokenSource();\n\n    async onType(lookFor: string, acceptor: (items: QuickOpenItem[]) => void): Promise<void> {\n        if (this.languages.workspaceSymbolProviders) {\n            this.cancellationSource.cancel();\n            const newCancellationSource = new CancellationTokenSource();\n            this.cancellationSource = newCancellationSource;\n\n            const param: WorkspaceSymbolParams = {\n                query: lookFor\n            };\n\n            const items: QuickOpenItem[] = [];\n\n            const workspaceProviderPromises = [];\n            for (const provider of this.languages.workspaceSymbolProviders) {\n                workspaceProviderPromises.push((async () => {\n                    const symbols = await provider.provideWorkspaceSymbols(param, newCancellationSource.token);\n                    if (symbols && !newCancellationSource.token.isCancellationRequested) {\n                        for (const symbol of symbols) {\n                            items.push(this.createItem(symbol, provider, newCancellationSource.token));\n                        }\n                        acceptor(items);\n                    }\n                    return symbols;\n                })());\n            }\n            Promise.all(workspaceProviderPromises.map(p => p.then(sym => sym, _ => undefined))).then(symbols => {\n                const filteredSymbols = symbols.filter(el => el && el.length !== 0);\n                if (filteredSymbols.length === 0) {\n                    items.push(new QuickOpenItem({\n                        label: lookFor.length === 0 ? 'Type to search for symbols' : 'No symbols matching',\n                        run: () => false\n                    }));\n                    acceptor(items);\n                }\n            }).catch();\n        }\n    }\n\n    protected createItem(sym: SymbolInformation, provider: WorkspaceSymbolProvider, token: CancellationToken): QuickOpenItem {\n        const uri = new URI(sym.location.uri);\n        const icon = this.toCssClassName(sym.kind) || 'unknown';\n        let parent = sym.containerName;\n        if (parent) {\n            parent += ' - ';\n        }\n        parent = (parent || '') + uri.displayName;\n        return new SimpleOpenItem(sym.name, icon, parent, uri.toString(), () => {\n\n            if (provider.resolveWorkspaceSymbol) {\n                provider.resolveWorkspaceSymbol(sym, token).then(resolvedSymbol => {\n                    if (resolvedSymbol) {\n                        this.openURL(uri, resolvedSymbol.location.range.start, resolvedSymbol.location.range.end);\n                    } else {\n                        // the symbol didn't resolve -> use given symbol\n                        this.openURL(uri, sym.location.range.start, sym.location.range.end);\n                    }\n                });\n            } else {\n                // resolveWorkspaceSymbol wasn't specified\n                this.openURL(uri, sym.location.range.start, sym.location.range.end);\n            }\n        });\n    }\n\n    protected toCssClassName(symbolKind: SymbolKind, inline?: boolean): string | undefined {\n        const kind = SymbolKind[symbolKind];\n        if (!kind) {\n            return undefined;\n        }\n        return `codicon ${inline ? 'inline' : 'block'} codicon-symbol-${kind.toLowerCase() || 'property'}`;\n    }\n\n    private openURL(uri: URI, start: Position, end: Position): void {\n        this.openerService.getOpener(uri).then(opener => opener.open(uri, {\n            selection: Range.create(start, end)\n        }));\n    }\n}\n\nclass SimpleOpenItem extends QuickOpenItem {\n\n    constructor(\n        protected readonly label: string,\n        protected readonly icon: string,\n        protected readonly parent: string,\n        protected readonly toolTip: string,\n        protected readonly onOpen: () => void,\n        protected readonly onSelect?: () => void\n    ) {\n        super();\n    }\n\n    getLabel(): string {\n        return this.label;\n    }\n\n    isHidden(): boolean {\n        return false;\n    }\n\n    getTooltip(): string {\n        return this.toolTip;\n    }\n\n    getDescription(): string {\n        return this.parent;\n    }\n\n    getIconClass(): string {\n        return this.icon;\n    }\n\n    run(mode: QuickOpenMode): boolean {\n        if (mode !== QuickOpenMode.OPEN) {\n            if (!this.onSelect) {\n                return false;\n            }\n            this.onSelect();\n            return true;\n        }\n        this.onOpen();\n        return true;\n    }\n}\n\nenum SymbolKind {\n    File = 1,\n    Module = 2,\n    Namespace = 3,\n    Package = 4,\n    Class = 5,\n    Method = 6,\n    Property = 7,\n    Field = 8,\n    Constructor = 9,\n    Enum = 10,\n    Interface = 11,\n    Function = 12,\n    Variable = 13,\n    Constant = 14,\n    String = 15,\n    Number = 16,\n    Boolean = 17,\n    Array = 18,\n    Object = 19,\n    Key = 20,\n    Null = 21,\n    EnumMember = 22,\n    Struct = 23,\n    Event = 24,\n    Operator = 25,\n    TypeParameter = 26\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './language-contribution';\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport interface LanguageContribution {\n    readonly id: string;\n    readonly name: string;\n}\n\nexport namespace LanguageContribution {\n    export const servicePath = '/services/languages';\n    export function getPath(contribution: LanguageContribution, sessionId: string = ':id'): string {\n        return servicePath + '/' + contribution.id + '/' + sessionId;\n    }\n    export const Service = Symbol('LanguageContributionService');\n    export interface Service {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        create(contributionId: string, parameters: any): Promise<string>;\n        destroy(sessionId: string): Promise<void>;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './workspace-commands';\nexport * from './workspace-service';\nexport * from './workspace-frontend-contribution';\nexport * from './workspace-frontend-module';\nexport * from './workspace-preferences';\n","module.exports = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob);\n\n  // The regexp we are building, as a string.\n  var reStr = \"\";\n\n  // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n  var extended = opts ? !!opts.extended : false;\n\n  // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n  var globstar = opts ? !!opts.globstar : false;\n\n  // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n  var inGroup = false;\n\n  // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n  var flags = opts && typeof( opts.flags ) === \"string\" ? opts.flags : \"\";\n\n  var c;\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n    case \"\\\\\":\n    case \"/\":\n    case \"$\":\n    case \"^\":\n    case \"+\":\n    case \".\":\n    case \"(\":\n    case \")\":\n    case \"=\":\n    case \"!\":\n    case \"|\":\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"?\":\n      if (extended) {\n        reStr += \".\";\n\t    break;\n      }\n\n    case \"[\":\n    case \"]\":\n      if (extended) {\n        reStr += c;\n\t    break;\n      }\n\n    case \"{\":\n      if (extended) {\n        inGroup = true;\n\t    reStr += \"(\";\n\t    break;\n      }\n\n    case \"}\":\n      if (extended) {\n        inGroup = false;\n\t    reStr += \")\";\n\t    break;\n      }\n\n    case \",\":\n      if (inGroup) {\n        reStr += \"|\";\n\t    break;\n      }\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"*\":\n      // Move over all consecutive \"*\"'s.\n      // Also store the previous and next characters\n      var prevChar = str[i - 1];\n      var starCount = 1;\n      while(str[i + 1] === \"*\") {\n        starCount++;\n        i++;\n      }\n      var nextChar = str[i + 1];\n\n      if (!globstar) {\n        // globstar is disabled, so treat any number of \"*\" as one\n        reStr += \".*\";\n      } else {\n        // globstar is enabled, so determine if this is a globstar segment\n        var isGlobstar = starCount > 1                      // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined)   // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined)   // to the end of the segment\n\n        if (isGlobstar) {\n          // it's a globstar, so match zero or more path segments\n          reStr += \"(?:[^/]*(?:\\/|$))*\";\n          i++; // move over the \"/\"\n        } else {\n          // it's not a globstar, so only match one path segment\n          reStr += \"[^/]*\";\n        }\n      }\n      break;\n\n    default:\n      reStr += c;\n    }\n  }\n\n  // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\n\nimport {\n    Message, MessageType as RPCMessageType,\n    RequestType, RequestType0, RequestHandler, RequestHandler0, GenericRequestHandler,\n    NotificationType, NotificationType0,\n    NotificationHandler, NotificationHandler0, GenericNotificationHandler,\n    Trace, Tracer, CancellationToken, MessageConnection\n} from 'vscode-jsonrpc';\n\nimport {\n    InitializeRequest, InitializeParams, InitializeResult,\n    ShutdownRequest, ExitNotification,\n    LogMessageNotification, LogMessageParams,\n    ShowMessageNotification, ShowMessageParams,\n    TelemetryEventNotification,\n    DidChangeConfigurationNotification, DidChangeConfigurationParams,\n    DidOpenTextDocumentNotification, DidOpenTextDocumentParams,\n    DidChangeTextDocumentNotification, DidChangeTextDocumentParams,\n    DidCloseTextDocumentNotification, DidCloseTextDocumentParams,\n    DidSaveTextDocumentNotification, DidSaveTextDocumentParams,\n    DidChangeWatchedFilesNotification, DidChangeWatchedFilesParams,\n    PublishDiagnosticsNotification, PublishDiagnosticsParams,\n} from 'vscode-languageserver-protocol/lib/main';\n\nimport * as Is from 'vscode-languageserver-protocol/lib/utils/is';\n\nimport { OutputChannel } from \"./services\";\n\nexport interface IConnection {\n\n    listen(): void;\n\n    sendRequest<R, E, RO>(type: RequestType0<R, E, RO>, token?: CancellationToken): Thenable<R>;\n    sendRequest<P, R, E, RO>(type: RequestType<P, R, E, RO>, params: P, token?: CancellationToken): Thenable<R>;\n    sendRequest<R>(method: string, token?: CancellationToken): Thenable<R>;\n    sendRequest<R>(method: string, param: any, token?: CancellationToken): Thenable<R>;\n    sendRequest<R>(type: string | RPCMessageType, ...params: any[]): Thenable<R>;\n\n    onRequest<R, E, RO>(type: RequestType0<R, E, RO>, handler: RequestHandler0<R, E>): void;\n    onRequest<P, R, E, RO>(type: RequestType<P, R, E, RO>, handler: RequestHandler<P, R, E>): void;\n    onRequest<R, E>(method: string, handler: GenericRequestHandler<R, E>): void;\n    onRequest<R, E>(method: string | RPCMessageType, handler: GenericRequestHandler<R, E>): void;\n\n    sendNotification<RO>(type: NotificationType0<RO>): void;\n    sendNotification<P, RO>(type: NotificationType<P, RO>, params?: P): void;\n    sendNotification(method: string): void;\n    sendNotification(method: string, params: any): void;\n    sendNotification(method: string | RPCMessageType, params?: any): void;\n\n    onNotification<RO>(type: NotificationType0<RO>, handler: NotificationHandler0): void;\n    onNotification<P, RO>(type: NotificationType<P, RO>, handler: NotificationHandler<P>): void;\n    onNotification(method: string, handler: GenericNotificationHandler): void;\n    onNotification(method: string | RPCMessageType, handler: GenericNotificationHandler): void;\n\n    trace(value: Trace, tracer: Tracer, sendNotification?: boolean): void;\n\n    initialize(params: InitializeParams): Thenable<InitializeResult>;\n    shutdown(): Thenable<void>;\n    exit(): void;\n\n    onLogMessage(handle: NotificationHandler<LogMessageParams>): void;\n    onShowMessage(handler: NotificationHandler<ShowMessageParams>): void;\n    onTelemetry(handler: NotificationHandler<any>): void;\n\n    didChangeConfiguration(params: DidChangeConfigurationParams): void;\n    didChangeWatchedFiles(params: DidChangeWatchedFilesParams): void;\n\n    didOpenTextDocument(params: DidOpenTextDocumentParams): void;\n    didChangeTextDocument(params: DidChangeTextDocumentParams): void;\n    didCloseTextDocument(params: DidCloseTextDocumentParams): void;\n    didSaveTextDocument(params: DidSaveTextDocumentParams): void;\n    onDiagnostics(handler: NotificationHandler<PublishDiagnosticsParams>): void;\n\n    dispose(): void;\n}\n\nexport interface ConnectionErrorHandler {\n    (error: Error, message: Message | undefined, count: number | undefined): void;\n}\nexport interface ConnectionCloseHandler {\n    (): void;\n}\nexport interface IConnectionProvider {\n    get(errorHandler: ConnectionErrorHandler, closeHandler: ConnectionCloseHandler, outputChannel: OutputChannel | undefined): Thenable<IConnection>;\n}\nexport function createConnection(connection: MessageConnection, errorHandler: ConnectionErrorHandler, closeHandler: ConnectionCloseHandler): IConnection {\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]) });\n    connection.onClose(closeHandler);\n    return {\n\n        listen: (): void => connection.listen(),\n\n        sendRequest: <R>(type: string | RPCMessageType, ...params: any[]): Thenable<R> => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: <R, E>(type: string | RPCMessageType, handler: GenericRequestHandler<R, E>): void => connection.onRequest(Is.string(type) ? type : type.method, handler),\n\n        sendNotification: (type: string | RPCMessageType, params?: any): void => connection.sendNotification(Is.string(type) ? type : type.method, params),\n        onNotification: (type: string | RPCMessageType, handler: GenericNotificationHandler): void => connection.onNotification(Is.string(type) ? type : type.method, handler),\n\n        trace: (value: Trace, tracer: Tracer, sendNotification: boolean = false): void => connection.trace(value, tracer, sendNotification),\n\n        initialize: (params: InitializeParams) => connection.sendRequest(InitializeRequest.type, params),\n        shutdown: () => connection.sendRequest(ShutdownRequest.type, undefined),\n        exit: () => connection.sendNotification(ExitNotification.type),\n\n        onLogMessage: (handler: NotificationHandler<LogMessageParams>) => connection.onNotification(LogMessageNotification.type, handler),\n        onShowMessage: (handler: NotificationHandler<ShowMessageParams>) => connection.onNotification(ShowMessageNotification.type, handler),\n        onTelemetry: (handler: NotificationHandler<any>) => connection.onNotification(TelemetryEventNotification.type, handler),\n\n        didChangeConfiguration: (params: DidChangeConfigurationParams) => connection.sendNotification(DidChangeConfigurationNotification.type, params),\n        didChangeWatchedFiles: (params: DidChangeWatchedFilesParams) => connection.sendNotification(DidChangeWatchedFilesNotification.type, params),\n\n        didOpenTextDocument: (params: DidOpenTextDocumentParams) => connection.sendNotification(DidOpenTextDocumentNotification.type, params),\n        didChangeTextDocument: (params: DidChangeTextDocumentParams) => connection.sendNotification(DidChangeTextDocumentNotification.type, params),\n        didCloseTextDocument: (params: DidCloseTextDocumentParams) => connection.sendNotification(DidCloseTextDocumentNotification.type, params),\n        didSaveTextDocument: (params: DidSaveTextDocumentParams) => connection.sendNotification(DidSaveTextDocumentNotification.type, params),\n\n        onDiagnostics: (handler: NotificationHandler<PublishDiagnosticsParams>) => connection.onNotification(PublishDiagnosticsNotification.type, handler),\n\n        dispose: () => connection.dispose()\n    };\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { MessageActionItem, MessageType, Window, OutputChannel } from './services';\n\nexport class ConsoleWindow implements Window {\n    protected readonly channels = new Map<string, OutputChannel>();\n    showMessage<T extends MessageActionItem>(type: MessageType, message: string, ...actions: T[]): Thenable<T | undefined> {\n        if (type === MessageType.Error) {\n            console.error(message);\n        }\n        if (type === MessageType.Warning) {\n            console.warn(message);\n        }\n        if (type === MessageType.Info) {\n            console.info(message);\n        }\n        if (type === MessageType.Log) {\n            console.log(message);\n        }\n        return Promise.resolve(undefined);\n    }\n    createOutputChannel(name: string): OutputChannel {\n        const existing = this.channels.get(name);\n        if (existing) {\n            return existing;\n        }\n        const channel: OutputChannel = {\n            append(value: string): void {\n                console.log(name + ': ' + value);\n            },\n            appendLine(line: string): void {\n                console.log(name + ': ' + line);\n            },\n            show(): void {\n                // no-op\n            },\n            dispose(): void {\n                // no-op\n            }\n        }\n        this.channels.set(name, channel)\n        return channel;\n    }\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { Disposable } from './services';\n\nexport {\n    Disposable\n}\n\nexport class DisposableCollection implements Disposable {\n    protected readonly disposables: Disposable[] = [];\n\n    dispose(): void {\n        while (this.disposables.length !== 0) {\n            this.disposables.pop()!.dispose();\n        }\n    }\n\n    push(disposable: Disposable): Disposable {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        return {\n            dispose(): void {\n                const index = disposables.indexOf(disposable);\n                if (index !== -1) {\n                    disposables.splice(index, 1);\n                }\n            }\n        }\n    }\n\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nexport * from './disposable';\nexport * from './services';\nexport * from './connection';\nexport * from './monaco-language-client';\nexport * from './monaco-commands';\nexport * from './console-window';\nexport * from './monaco-languages';\nexport * from './monaco-workspace';\nexport * from './monaco-services';\nexport * from './monaco-converter';\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { Commands, Disposable } from './services';\n\nexport class MonacoCommands implements Commands {\n\n    public constructor(protected readonly editor: monaco.editor.IStandaloneCodeEditor) { }\n\n    public registerCommand(command: string, callback: (...args: any[]) => any, thisArg?: any): Disposable {\n        return this.editor._commandService.addCommand({\n            id: command,\n            handler: (_accessor: any, ...args: any[]) => callback(...args)\n        });\n    }\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport * as ls from 'vscode-languageserver-protocol';\nimport * as Is from 'vscode-languageserver-protocol/lib/utils/is';\nimport {\n    CodeActionParams, CodeLensParams,\n    DocumentFormattingParams, DocumentOnTypeFormattingParams,\n    DocumentRangeFormattingParams, ReferenceParams,\n    RenameParams, TextDocumentPositionParams,\n    Position, TextDocumentIdentifier, CompletionItem, CompletionList,\n    CompletionParams, CompletionContext, CompletionTriggerKind,\n    InsertTextFormat, Range, Diagnostic, CompletionItemKind,\n    Hover, SignatureHelp, SignatureInformation, ParameterInformation,\n    Definition, DefinitionLink, Location, LocationLink, DocumentHighlight, DocumentHighlightKind,\n    SymbolInformation, DocumentSymbolParams, CodeActionContext, DiagnosticSeverity,\n    Command, CodeLens, FormattingOptions, TextEdit, WorkspaceEdit, DocumentLinkParams, DocumentLink,\n    MarkedString, MarkupContent, ColorInformation, ColorPresentation, FoldingRange, FoldingRangeKind,\n    DiagnosticRelatedInformation, MarkupKind, SymbolKind, DocumentSymbol, CodeAction, SignatureHelpContext, SignatureHelpTriggerKind\n} from './services';\nimport IReadOnlyModel = monaco.editor.IReadOnlyModel;\n\nexport type RecursivePartial<T> = {\n    [P in keyof T]?: RecursivePartial<T[P]>;\n};\n\nexport interface ProtocolDocumentLink extends monaco.languages.ILink {\n    data?: any;\n}\nexport namespace ProtocolDocumentLink {\n    export function is(item: any): item is ProtocolDocumentLink {\n        return !!item && 'data' in item;\n    }\n}\n\nexport interface ProtocolCodeLens extends monaco.languages.CodeLens {\n    data?: any;\n}\nexport namespace ProtocolCodeLens {\n    export function is(item: any): item is ProtocolCodeLens {\n        return !!item && 'data' in item;\n    }\n}\n\nexport interface ProtocolCompletionItem extends monaco.languages.CompletionItem {\n    data?: any;\n    fromEdit?: boolean;\n    documentationFormat?: string;\n    originalItemKind?: CompletionItemKind;\n    deprecated?: boolean;\n}\nexport namespace ProtocolCompletionItem {\n    export function is(item: any): item is ProtocolCompletionItem {\n        return !!item && 'data' in item;\n    }\n}\n\ntype RangeReplace = { insert: monaco.IRange; replace: monaco.IRange}\n\nfunction isRangeReplace(v: Partial<monaco.IRange> | RangeReplace) : v is RangeReplace {\n    return (v as RangeReplace).insert !== undefined;\n}\n\nexport class MonacoToProtocolConverter {\n    asPosition(lineNumber: undefined | null, column: undefined | null): {};\n    asPosition(lineNumber: number, column: undefined | null): Pick<Position, 'line'>;\n    asPosition(lineNumber: undefined | null, column: number): Pick<Position, 'character'>;\n    asPosition(lineNumber: number, column: number): Position;\n    asPosition(lineNumber: number | undefined | null, column: number | undefined | null): Partial<Position>;\n    asPosition(lineNumber: number | undefined | null, column: number | undefined | null): Partial<Position> {\n        const line = lineNumber === undefined || lineNumber === null ? undefined : lineNumber - 1;\n        const character = column === undefined || column === null ? undefined : column - 1;\n        return {\n            line, character\n        };\n    }\n\n    asRange(range: null): null;\n    asRange(range: undefined): undefined;\n    asRange(range: monaco.IRange): Range;\n    asRange(range: monaco.IRange | undefined): Range | undefined;\n    asRange(range: monaco.IRange | null): Range | null;\n    asRange(range: monaco.IRange | { insert: monaco.IRange; replace: monaco.IRange}) : Range;\n    asRange(range: Partial<monaco.IRange>): RecursivePartial<Range>;\n    asRange(range: Partial<monaco.IRange> | undefined): RecursivePartial<Range> | undefined;\n    asRange(range: Partial<monaco.IRange> | null): RecursivePartial<Range> | null;\n    asRange(range: Partial<monaco.IRange> | undefined | null | RangeReplace): RecursivePartial<Range> | undefined | null {\n        if (range === undefined) {\n            return undefined;\n        }\n        if (range === null) {\n            return null;\n        }\n\n        if (isRangeReplace(range)) {\n            return this.asRange(range.insert);\n\n        } else {\n            const start = this.asPosition(range.startLineNumber, range.startColumn);\n            const end = this.asPosition(range.endLineNumber, range.endColumn);\n            return {\n                start, end\n            };\n        }\n    }\n\n    asTextDocumentIdentifier(model: IReadOnlyModel): TextDocumentIdentifier {\n        return {\n            uri: model.uri.toString()\n        }\n    }\n\n    asTextDocumentPositionParams(model: IReadOnlyModel, position: monaco.Position): TextDocumentPositionParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column)\n        };\n    }\n\n    asCompletionParams(model: IReadOnlyModel, position: monaco.Position, context: monaco.languages.CompletionContext): CompletionParams {\n        return Object.assign(this.asTextDocumentPositionParams(model, position), {\n            context: this.asCompletionContext(context)\n        });\n    }\n\n    asCompletionContext(context: monaco.languages.CompletionContext): CompletionContext {\n        return {\n            triggerKind: this.asCompletionTriggerKind(context.triggerKind),\n            triggerCharacter: context.triggerCharacter\n        }\n    }\n\n    asSignatureHelpContext(context: monaco.languages.SignatureHelpContext) : SignatureHelpContext {\n        return {\n            triggerKind: this.asSignatureHelpTriggerKind(context.triggerKind),\n            triggerCharacter: context.triggerCharacter,\n            isRetrigger: context.isRetrigger,\n            activeSignatureHelp: this.asSignatureHelp(context.activeSignatureHelp)\n        };\n    }\n\n    asSignatureHelp(signatureHelp: monaco.languages.SignatureHelp | undefined) : SignatureHelp | undefined {\n        if(signatureHelp === undefined) {\n            return undefined;\n        }\n        return {\n            signatures: signatureHelp.signatures.map(signatureInfo => this.asSignatureInformation(signatureInfo)),\n            activeParameter: signatureHelp.activeParameter,\n            activeSignature: signatureHelp.activeSignature\n        };\n    }\n\n    asSignatureInformation(signatureInformation: monaco.languages.SignatureInformation) : SignatureInformation {\n        return {\n            documentation: this.asMarkupContent(signatureInformation.documentation),\n            label: signatureInformation.label,\n            parameters: signatureInformation.parameters.map(paramInfo => this.asParameterInformation(paramInfo))\n        };\n    }\n\n    asParameterInformation(parameterInformation: monaco.languages.ParameterInformation) : ParameterInformation {\n        return {\n            documentation: this.asMarkupContent(parameterInformation.documentation),\n            label: parameterInformation.label\n        };\n    }\n\n    asMarkupContent(markupContent: (string | monaco.IMarkdownString | undefined)): string | MarkupContent | undefined {\n        if(markupContent === undefined) {\n            return undefined;\n        }\n        if(typeof markupContent === \"string\") {\n            return markupContent;\n        }\n        return {\n            kind: MarkupKind.Markdown,\n            value: markupContent.value\n        };\n    }\n\n    asSignatureHelpTriggerKind(triggerKind: monaco.languages.SignatureHelpTriggerKind) : SignatureHelpTriggerKind {\n        switch  (triggerKind) {\n            case monaco.languages.SignatureHelpTriggerKind.ContentChange:\n                return SignatureHelpTriggerKind.ContentChange;\n            case monaco.languages.SignatureHelpTriggerKind.TriggerCharacter:\n                return SignatureHelpTriggerKind.TriggerCharacter;\n            default:\n                return SignatureHelpTriggerKind.Invoke;\n        }\n    }\n\n    asCompletionTriggerKind(triggerKind: monaco.languages.CompletionTriggerKind): CompletionTriggerKind {\n        switch (triggerKind) {\n            case monaco.languages.CompletionTriggerKind.TriggerCharacter:\n                return CompletionTriggerKind.TriggerCharacter;\n            case monaco.languages.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return CompletionTriggerKind.Invoked;\n        }\n    }\n\n    asCompletionItem(item: monaco.languages.CompletionItem): CompletionItem {\n        const result: CompletionItem = { label: item.label };\n        const protocolItem = ProtocolCompletionItem.is(item) ? item : undefined;\n        if (item.detail) { result.detail = item.detail; }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || !protocolItem.documentationFormat) {\n                result.documentation = item.documentation as string;\n            } else {\n                result.documentation = this.asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) { result.filterText = item.filterText; }\n        this.fillPrimaryInsertText(result, item as ProtocolCompletionItem);\n        if (Is.number(item.kind)) {\n            result.kind = this.asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) { result.sortText = item.sortText; }\n        if (item.additionalTextEdits) { result.additionalTextEdits = this.asTextEdits(item.additionalTextEdits); }\n        if (item.command) { result.command = this.asCommand(item.command); }\n        if (item.commitCharacters) { result.commitCharacters = item.commitCharacters.slice(); }\n        if (item.command) { result.command = this.asCommand(item.command); }\n        // TODO if (item.preselect === true || item.preselect === false) { result.preselect = item.preselect; }\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                result.deprecated = protocolItem.deprecated;\n            }\n        }\n        return result;\n    }\n\n    protected asCompletionItemKind(value: monaco.languages.CompletionItemKind, original: CompletionItemKind | undefined): CompletionItemKind {\n        if (original !== undefined) {\n            return original;\n        }\n        switch (value) {\n            case monaco.languages.CompletionItemKind.Method: return CompletionItemKind.Method;\n            case monaco.languages.CompletionItemKind.Function: return CompletionItemKind.Function;\n            case monaco.languages.CompletionItemKind.Constructor: return CompletionItemKind.Constructor;\n            case monaco.languages.CompletionItemKind.Field: return CompletionItemKind.Field;\n            case monaco.languages.CompletionItemKind.Variable: return CompletionItemKind.Variable;\n            case monaco.languages.CompletionItemKind.Class: return CompletionItemKind.Class;\n            case monaco.languages.CompletionItemKind.Struct: return CompletionItemKind.Struct;\n            case monaco.languages.CompletionItemKind.Interface: return CompletionItemKind.Interface;\n            case monaco.languages.CompletionItemKind.Module: return CompletionItemKind.Module;\n            case monaco.languages.CompletionItemKind.Property: return CompletionItemKind.Property;\n            case monaco.languages.CompletionItemKind.Event: return CompletionItemKind.Event;\n            case monaco.languages.CompletionItemKind.Operator: return CompletionItemKind.Operator;\n            case monaco.languages.CompletionItemKind.Unit: return CompletionItemKind.Unit;\n            case monaco.languages.CompletionItemKind.Value: return CompletionItemKind.Value;\n            case monaco.languages.CompletionItemKind.Constant: return CompletionItemKind.Constant;\n            case monaco.languages.CompletionItemKind.Enum: return CompletionItemKind.Enum;\n            case monaco.languages.CompletionItemKind.EnumMember: return CompletionItemKind.EnumMember;\n            case monaco.languages.CompletionItemKind.Keyword: return CompletionItemKind.Keyword;\n            case monaco.languages.CompletionItemKind.Text: return CompletionItemKind.Text;\n            case monaco.languages.CompletionItemKind.Color: return CompletionItemKind.Color;\n            case monaco.languages.CompletionItemKind.File: return CompletionItemKind.File;\n            case monaco.languages.CompletionItemKind.Reference: return CompletionItemKind.Reference;\n            case monaco.languages.CompletionItemKind.Customcolor: return CompletionItemKind.Color;\n            case monaco.languages.CompletionItemKind.Folder: return CompletionItemKind.Folder;\n            case monaco.languages.CompletionItemKind.TypeParameter: return CompletionItemKind.TypeParameter;\n            case monaco.languages.CompletionItemKind.Snippet: return CompletionItemKind.Snippet;\n            default: return value + 1 as CompletionItemKind;\n        }\n    }\n\n    protected asDocumentation(format: string, documentation: string | monaco.IMarkdownString): string | MarkupContent {\n        switch (format) {\n            case MarkupKind.PlainText:\n                return { kind: format, value: documentation as string };\n            case MarkupKind.Markdown:\n                return { kind: format, value: (documentation as monaco.IMarkdownString).value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n\n    protected fillPrimaryInsertText(target: CompletionItem, source: ProtocolCompletionItem): void {\n        let format: InsertTextFormat = InsertTextFormat.PlainText;\n        let text: string | undefined;\n        let range: Range | undefined;\n        if (source.insertTextRules !== undefined && (source.insertTextRules & monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet) === 0) {\n            format = InsertTextFormat.Snippet;\n            text = source.insertText;\n        }\n        target.insertTextFormat = format;\n\n        text = source.insertText;\n        if (source.range) {\n            range = this.asRange(source.range);\n        }\n\n        target.insertTextFormat = format;\n        if (source.fromEdit && text && range) {\n            target.textEdit = { newText: text, range: range };\n        } else {\n            target.insertText = text;\n        }\n    }\n\n    asTextEdit(edit: monaco.editor.ISingleEditOperation): TextEdit {\n        const range = this.asRange(edit.range)!;\n        return {\n            range,\n            newText: edit.text || ''\n        }\n    }\n\n    asTextEdits(items: monaco.editor.ISingleEditOperation[]): TextEdit[];\n    asTextEdits(items: undefined | null): undefined;\n    asTextEdits(items: monaco.editor.ISingleEditOperation[] | undefined | null): TextEdit[] | undefined;\n    asTextEdits(items: monaco.editor.ISingleEditOperation[] | undefined | null): TextEdit[] | undefined {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(item => this.asTextEdit(item));\n    }\n\n    asReferenceParams(model: IReadOnlyModel, position: monaco.Position, options: { includeDeclaration: boolean; }): ReferenceParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n\n    asDocumentSymbolParams(model: IReadOnlyModel): DocumentSymbolParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model)\n        }\n    }\n\n    asCodeLensParams(model: IReadOnlyModel): CodeLensParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model)\n        }\n    }\n\n    asDiagnosticSeverity(value: monaco.MarkerSeverity): DiagnosticSeverity | undefined {\n        switch (value) {\n            case monaco.MarkerSeverity.Error:\n                return DiagnosticSeverity.Error;\n            case monaco.MarkerSeverity.Warning:\n                return DiagnosticSeverity.Warning;\n            case monaco.MarkerSeverity.Info:\n                return DiagnosticSeverity.Information;\n            case monaco.MarkerSeverity.Hint:\n                return DiagnosticSeverity.Hint;\n        }\n        return undefined;\n    }\n\n    asDiagnostic(marker: monaco.editor.IMarkerData): Diagnostic {\n        const range = this.asRange(new monaco.Range(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn))\n        const severity = this.asDiagnosticSeverity(marker.severity);\n        return Diagnostic.create(range, marker.message, severity, marker.code, marker.source);\n    }\n\n    asDiagnostics(markers: monaco.editor.IMarkerData[]): Diagnostic[] {\n        if (markers === void 0 || markers === null) {\n            return markers;\n        }\n        return markers.map(marker => this.asDiagnostic(marker));\n    }\n\n    asCodeActionContext(context: monaco.languages.CodeActionContext): CodeActionContext {\n        if (context === void 0 || context === null) {\n            return context;\n        }\n        const diagnostics = this.asDiagnostics(context.markers);\n        return CodeActionContext.create(diagnostics, Is.string(context.only) ? [context.only] : undefined);\n    }\n\n    asCodeActionParams(model: IReadOnlyModel, range: monaco.Range, context: monaco.languages.CodeActionContext): CodeActionParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            range: this.asRange(range),\n            context: this.asCodeActionContext(context)\n        }\n    }\n\n    asCommand(item: monaco.languages.Command | undefined | null): Command | undefined {\n        if (item) {\n            let args = item.arguments || [];\n            return Command.create(item.title, item.id, ...args);\n        }\n        return undefined;\n    }\n\n    asCodeLens(item: monaco.languages.CodeLens): CodeLens {\n        let result = CodeLens.create(this.asRange(item.range));\n        if (item.command) { result.command = this.asCommand(item.command); }\n        if (ProtocolCodeLens.is(item)) {\n            if (item.data) { result.data = item.data };\n        }\n        return result;\n    }\n\n    asFormattingOptions(options: monaco.languages.FormattingOptions): FormattingOptions {\n        return { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n    }\n\n    asDocumentFormattingParams(model: IReadOnlyModel, options: monaco.languages.FormattingOptions): DocumentFormattingParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            options: this.asFormattingOptions(options)\n        }\n    }\n\n    asDocumentRangeFormattingParams(model: IReadOnlyModel, range: monaco.Range, options: monaco.languages.FormattingOptions): DocumentRangeFormattingParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            range: this.asRange(range),\n            options: this.asFormattingOptions(options)\n        }\n    }\n\n    asDocumentOnTypeFormattingParams(model: IReadOnlyModel, position: monaco.IPosition, ch: string, options: monaco.languages.FormattingOptions): DocumentOnTypeFormattingParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column),\n            ch,\n            options: this.asFormattingOptions(options)\n        }\n    }\n\n    asRenameParams(model: IReadOnlyModel, position: monaco.IPosition, newName: string): RenameParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model),\n            position: this.asPosition(position.lineNumber, position.column),\n            newName\n        }\n    }\n\n    asDocumentLinkParams(model: IReadOnlyModel): DocumentLinkParams {\n        return {\n            textDocument: this.asTextDocumentIdentifier(model)\n        }\n    }\n\n    asDocumentLink(item: monaco.languages.ILink): DocumentLink {\n        let result = DocumentLink.create(this.asRange(item.range));\n        if (item.url) { result.target = typeof item.url === 'string' ? item.url : item.url.toString(); }\n        if (ProtocolDocumentLink.is(item) && item.data) {\n            result.data = item.data;\n        }\n        return result;\n    }\n}\n\nexport class ProtocolToMonacoConverter {\n\n    asResourceEdits(resource: monaco.Uri, edits: TextEdit[], modelVersionId?: number): monaco.languages.ResourceTextEdit {\n        return {\n            resource: resource,\n            edits: this.asTextEdits(edits),\n            modelVersionId\n        }\n    }\n\n    asWorkspaceEdit(item: WorkspaceEdit): monaco.languages.WorkspaceEdit;\n    asWorkspaceEdit(item: undefined | null): undefined;\n    asWorkspaceEdit(item: WorkspaceEdit | undefined | null): monaco.languages.WorkspaceEdit | undefined;\n    asWorkspaceEdit(item: WorkspaceEdit | undefined | null): monaco.languages.WorkspaceEdit | undefined {\n        if (!item) {\n            return undefined;\n        }\n        const edits: (monaco.languages.ResourceTextEdit | monaco.languages.ResourceFileEdit)[] = [];\n        if (item.documentChanges) {\n            item.documentChanges.forEach(change => {\n                if (ls.CreateFile.is(change)) {\n                    edits.push(<monaco.languages.ResourceFileEdit>{\n                        newUri: monaco.Uri.parse(change.uri),\n                        options: change.options\n                    });\n                } else if (ls.RenameFile.is(change)) {\n                    edits.push(<monaco.languages.ResourceFileEdit>{\n                        oldUri: monaco.Uri.parse(change.oldUri),\n                        newUri: monaco.Uri.parse(change.newUri),\n                        options: change.options\n                    });\n                } else if (ls.DeleteFile.is(change)) {\n                    edits.push(<monaco.languages.ResourceFileEdit>{\n                        oldUri: monaco.Uri.parse(change.uri),\n                        options: change.options\n                    });\n                } else if (ls.TextDocumentEdit.is(change)) {\n                    const resource = monaco.Uri.parse(change.textDocument.uri);\n                    const version = typeof change.textDocument.version === 'number' ? change.textDocument.version : undefined;\n                    edits.push(this.asResourceEdits(resource, change.edits, version));\n                } else {\n                    console.error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            });\n        } else if (item.changes) {\n            for (const key of Object.keys(item.changes)) {\n                const resource = monaco.Uri.parse(key);\n                edits.push(this.asResourceEdits(resource, item.changes[key]));\n            }\n        }\n        return {\n            edits\n        };\n    }\n\n    asTextEdit(edit: TextEdit): monaco.languages.TextEdit;\n    asTextEdit(edit: undefined | null): undefined;\n    asTextEdit(edit: TextEdit | undefined | null): undefined;\n    asTextEdit(edit: TextEdit | undefined | null): monaco.languages.TextEdit | undefined {\n        if (!edit) {\n            return undefined;\n        }\n        const range = this.asRange(edit.range)!;\n        return {\n            range,\n            text: edit.newText\n        }\n    }\n\n    asTextEdits(items: TextEdit[]): monaco.languages.TextEdit[];\n    asTextEdits(items: undefined | null): undefined;\n    asTextEdits(items: TextEdit[] | undefined | null): monaco.languages.TextEdit[] | undefined;\n    asTextEdits(items: TextEdit[] | undefined | null): monaco.languages.TextEdit[] | undefined {\n        if (!items) {\n            return undefined;\n        }\n        return items.map(item => this.asTextEdit(item));\n    }\n\n    asCodeLens(item: CodeLens): monaco.languages.CodeLens;\n    asCodeLens(item: undefined | null): undefined;\n    asCodeLens(item: CodeLens | undefined | null): monaco.languages.CodeLens | undefined;\n    asCodeLens(item: CodeLens | undefined | null): monaco.languages.CodeLens | undefined {\n        if (!item) {\n            return undefined;\n        }\n        const range = this.asRange(item.range);\n        let result = <ProtocolCodeLens>{ range };\n        if (item.command) { result.command = this.asCommand(item.command); }\n        if (item.data !== void 0 && item.data !== null) { result.data = item.data; }\n        return result;\n    }\n\n    asCodeLensList(items: CodeLens[]): monaco.languages.CodeLensList;\n    asCodeLensList(items: undefined | null): undefined;\n    asCodeLensList(items: CodeLens[] | undefined | null): monaco.languages.CodeLensList | undefined;\n    asCodeLensList(items: CodeLens[] | undefined | null): monaco.languages.CodeLensList | undefined {\n        if (!items) {\n            return undefined;\n        }\n        return {\n            lenses: items.map((codeLens) => this.asCodeLens(codeLens)),\n            dispose: () => {}\n        };\n    }\n\n    asCodeActionList(actions: (Command | CodeAction)[]): monaco.languages.CodeActionList {\n        return {\n            actions: actions.map(action => this.asCodeAction(action)),\n            dispose: () => {}\n        };\n    }\n\n    asCodeAction(item: Command | CodeAction): monaco.languages.CodeAction {\n        if (CodeAction.is(item)) {\n            return {\n                title: item.title,\n                command: this.asCommand(item.command),\n                edit: this.asWorkspaceEdit(item.edit),\n                diagnostics: this.asDiagnostics(item.diagnostics),\n                kind: item.kind\n            };\n        }\n        return {\n            command: {\n                id: item.command,\n                title: item.title,\n                arguments: item.arguments\n            },\n            title: item.title\n        };\n    }\n\n    asCommand(command: Command): monaco.languages.Command;\n    asCommand(command: undefined): undefined;\n    asCommand(command: Command | undefined): monaco.languages.Command | undefined;\n    asCommand(command: Command | undefined): monaco.languages.Command | undefined {\n        if (!command) {\n            return undefined;\n        }\n        return {\n            id: command.command,\n            title: command.title,\n            arguments: command.arguments\n        };\n    }\n\n    asDocumentSymbol(value: DocumentSymbol): monaco.languages.DocumentSymbol {\n        const children = value.children && value.children.map(c => this.asDocumentSymbol(c));\n        return {\n            name: value.name,\n            detail: value.detail || \"\",\n            kind: this.asSymbolKind(value.kind),\n            tags: [],\n            range: this.asRange(value.range),\n            selectionRange: this.asRange(value.selectionRange),\n            children\n        };\n    }\n\n    asDocumentSymbols(values: SymbolInformation[] | DocumentSymbol[]): monaco.languages.DocumentSymbol[] {\n        if (DocumentSymbol.is(values[0])) {\n            return (values as DocumentSymbol[]).map(s => this.asDocumentSymbol(s));\n        }\n        return this.asSymbolInformations(values as SymbolInformation[]);\n    }\n\n    asSymbolInformations(values: SymbolInformation[], uri?: monaco.Uri): monaco.languages.DocumentSymbol[];\n    asSymbolInformations(values: undefined | null, uri?: monaco.Uri): undefined;\n    asSymbolInformations(values: SymbolInformation[] | undefined | null, uri?: monaco.Uri): monaco.languages.DocumentSymbol[] | undefined;\n    asSymbolInformations(values: SymbolInformation[] | undefined | null, uri?: monaco.Uri): monaco.languages.DocumentSymbol[] | undefined {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(information => this.asSymbolInformation(information, uri));\n    }\n\n    asSymbolInformation(item: SymbolInformation, uri?: monaco.Uri): monaco.languages.DocumentSymbol {\n        const location = this.asLocation(uri ? { ...item.location, uri: uri.toString() } : item.location);\n        return {\n            name: item.name,\n            detail: '',\n            containerName: item.containerName,\n            kind: this.asSymbolKind(item.kind),\n            tags: [],\n            range: location.range,\n            selectionRange: location.range\n        };\n    }\n\n    asSymbolKind(item: SymbolKind): monaco.languages.SymbolKind {\n        if (item <= SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return monaco.languages.SymbolKind.Property;\n    }\n\n    asDocumentHighlights(values: DocumentHighlight[]): monaco.languages.DocumentHighlight[];\n    asDocumentHighlights(values: undefined | null): undefined;\n    asDocumentHighlights(values: DocumentHighlight[] | undefined | null): monaco.languages.DocumentHighlight[] | undefined;\n    asDocumentHighlights(values: DocumentHighlight[] | undefined | null): monaco.languages.DocumentHighlight[] | undefined {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(item => this.asDocumentHighlight(item));\n    }\n\n    asDocumentHighlight(item: DocumentHighlight): monaco.languages.DocumentHighlight {\n        const range = this.asRange(item.range)!;\n        const kind = Is.number(item.kind) ? this.asDocumentHighlightKind(item.kind) : undefined!;\n        return { range, kind };\n    }\n\n    asDocumentHighlightKind(item: number): monaco.languages.DocumentHighlightKind {\n        switch (item) {\n            case DocumentHighlightKind.Text:\n                return monaco.languages.DocumentHighlightKind.Text;\n            case DocumentHighlightKind.Read:\n                return monaco.languages.DocumentHighlightKind.Read;\n            case DocumentHighlightKind.Write:\n                return monaco.languages.DocumentHighlightKind.Write;\n        }\n        return monaco.languages.DocumentHighlightKind.Text;\n    }\n\n    asReferences(values: Location[]): monaco.languages.Location[];\n    asReferences(values: undefined | null): monaco.languages.Location[] | undefined;\n    asReferences(values: Location[] | undefined | null): monaco.languages.Location[] | undefined;\n    asReferences(values: Location[] | undefined | null): monaco.languages.Location[] | undefined {\n        if (!values) {\n            return undefined;\n        }\n        return values.map(location => this.asLocation(location));\n    }\n\n    asDefinitionResult(item: Definition): monaco.languages.Definition;\n    asDefinitionResult(item: DefinitionLink[]): monaco.languages.Definition;\n    asDefinitionResult(item: undefined | null): undefined;\n    asDefinitionResult(item: Definition | DefinitionLink[] | undefined | null): monaco.languages.Definition | undefined;\n    asDefinitionResult(item: Definition | DefinitionLink[] | undefined | null): monaco.languages.Definition | undefined {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length == 0) {\n                return undefined;\n            } else if (LocationLink.is(item[0])) {\n                let links: LocationLink[] = item as LocationLink[];\n                return links.map((location) => this.asLocationLink(location));\n            } else {\n                let locations: Location[] = item as Location[];\n                return locations.map((location) => this.asLocation(location));\n            }\n        } else {\n            return this.asLocation(item);\n        }\n    }\n\n    asLocation(item: Location): monaco.languages.Location;\n    asLocation(item: undefined | null): undefined;\n    asLocation(item: Location | undefined | null): monaco.languages.Location | undefined;\n    asLocation(item: Location | undefined | null): monaco.languages.Location | undefined {\n        if (!item) {\n            return undefined;\n        }\n        const uri = monaco.Uri.parse(item.uri);\n        const range = this.asRange(item.range)!;\n        return {\n            uri, range\n        }\n    }\n\n    asLocationLink(item: undefined | null): undefined;\n\tasLocationLink(item: ls.LocationLink): monaco.languages.LocationLink;\n\tasLocationLink(item: ls.LocationLink | undefined | null): monaco.languages.LocationLink | undefined {\n\t\tif (!item) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet result: monaco.languages.LocationLink = {\n\t\t\turi: monaco.Uri.parse(item.targetUri),\n\t\t\trange: this.asRange(item.targetSelectionRange)!, // See issue: https://github.com/Microsoft/vscode/issues/58649\n\t\t\toriginSelectionRange: this.asRange(item.originSelectionRange),\n\t\t\ttargetSelectionRange: this.asRange(item.targetSelectionRange)\n\t\t};\n\t\tif (!result.targetSelectionRange) {\n\t\t\tthrow new Error(`targetSelectionRange must not be undefined or null`);\n\t\t}\n\t\treturn result;\n\t}\n\n    asSignatureHelpResult(item: undefined | null): undefined;\n    asSignatureHelpResult(item: SignatureHelp): monaco.languages.SignatureHelpResult;\n    asSignatureHelpResult(item: SignatureHelp | undefined | null): monaco.languages.SignatureHelpResult | undefined;\n    asSignatureHelpResult(item: SignatureHelp | undefined | null): monaco.languages.SignatureHelpResult | undefined {\n        if (!item) {\n            return undefined;\n        }\n        let result = <monaco.languages.SignatureHelp>{};\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        } else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        } else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = this.asSignatureInformations(item.signatures);\n        } else {\n            result.signatures = [];\n        }\n        return {\n            value: result,\n            dispose: () => {}\n        };\n    }\n\n    asSignatureInformations(items: SignatureInformation[]): monaco.languages.SignatureInformation[] {\n        return items.map(item => this.asSignatureInformation(item));\n    }\n\n    asSignatureInformation(item: SignatureInformation): monaco.languages.SignatureInformation {\n        let result = <monaco.languages.SignatureInformation>{ label: item.label };\n        if (item.documentation) { result.documentation = this.asDocumentation(item.documentation); }\n        if (item.parameters) {\n            result.parameters = this.asParameterInformations(item.parameters);\n        } else {\n            result.parameters = [];\n        }\n        return result;\n    }\n\n    asParameterInformations(item: ParameterInformation[]): monaco.languages.ParameterInformation[] {\n        return item.map(item => this.asParameterInformation(item));\n    }\n\n    asParameterInformation(item: ParameterInformation): monaco.languages.ParameterInformation {\n        let result = <monaco.languages.ParameterInformation>{ label: item.label };\n        if (item.documentation) { result.documentation = this.asDocumentation(item.documentation) };\n        return result;\n    }\n\n    asHover(hover: Hover): monaco.languages.Hover;\n    asHover(hover: undefined | null): undefined;\n    asHover(hover: Hover | undefined | null): monaco.languages.Hover | undefined;\n    asHover(hover: Hover | undefined | null): monaco.languages.Hover | undefined {\n        if (!hover) {\n            return undefined;\n        }\n        return {\n            contents: this.asHoverContent(hover.contents),\n            range: this.asRange(hover.range)\n        };\n    }\n\n    asHoverContent(contents: MarkedString | MarkedString[] | MarkupContent): monaco.IMarkdownString[] {\n        if (Array.isArray(contents)) {\n            return contents.map(content => this.asMarkdownString(content));\n        }\n        return [this.asMarkdownString(contents)];\n    }\n\n    asDocumentation(value: string | MarkupContent): string | monaco.IMarkdownString {\n        if (Is.string(value)) {\n            return value;\n        }\n        if (value.kind === MarkupKind.PlainText) {\n            return value.value;\n        }\n        return this.asMarkdownString(value);\n    }\n\n    asMarkdownString(content: MarkedString | MarkupContent): monaco.IMarkdownString {\n        if (MarkupContent.is(content)) {\n            return {\n                value: content.value\n            };\n        }\n        if (Is.string(content)) {\n            return { value: content };\n        }\n        const { language, value } = content;\n        return {\n            value: '```' + language + '\\n' + value + '\\n```'\n        };\n    }\n\n    asSeverity(severity?: number): monaco.MarkerSeverity {\n        if (severity === 1) {\n            return monaco.MarkerSeverity.Error;\n        }\n        if (severity === 2) {\n            return monaco.MarkerSeverity.Warning;\n        }\n        if (severity === 3) {\n            return monaco.MarkerSeverity.Info;\n        }\n        return monaco.MarkerSeverity.Hint;\n    }\n\n    asDiagnostics(diagnostics: undefined): undefined;\n    asDiagnostics(diagnostics: Diagnostic[]): monaco.editor.IMarkerData[];\n    asDiagnostics(diagnostics: Diagnostic[] | undefined): monaco.editor.IMarkerData[] | undefined;\n    asDiagnostics(diagnostics: Diagnostic[] | undefined): monaco.editor.IMarkerData[] | undefined {\n        if (!diagnostics) {\n            return undefined;\n        }\n        return diagnostics.map(diagnostic => this.asDiagnostic(diagnostic));\n    }\n\n    asDiagnostic(diagnostic: Diagnostic): monaco.editor.IMarkerData {\n        return {\n            code: typeof diagnostic.code === \"number\" ? diagnostic.code.toString() : diagnostic.code,\n            severity: this.asSeverity(diagnostic.severity),\n            message: diagnostic.message,\n            source: diagnostic.source,\n            startLineNumber: diagnostic.range.start.line + 1,\n            startColumn: diagnostic.range.start.character + 1,\n            endLineNumber: diagnostic.range.end.line + 1,\n            endColumn: diagnostic.range.end.character + 1,\n            relatedInformation: this.asRelatedInformations(diagnostic.relatedInformation)\n        }\n    }\n\n    asRelatedInformations(relatedInformation?: DiagnosticRelatedInformation[]): monaco.editor.IRelatedInformation[] | undefined {\n        if (!relatedInformation) {\n            return undefined;\n        }\n        return relatedInformation.map(item => this.asRelatedInformation(item));\n    }\n\n    asRelatedInformation(relatedInformation: DiagnosticRelatedInformation): monaco.editor.IRelatedInformation {\n        return {\n            resource: monaco.Uri.parse(relatedInformation.location.uri),\n            startLineNumber: relatedInformation.location.range.start.line + 1,\n            startColumn: relatedInformation.location.range.start.character + 1,\n            endLineNumber: relatedInformation.location.range.end.line + 1,\n            endColumn: relatedInformation.location.range.end.character + 1,\n            message: relatedInformation.message\n        }\n    }\n\n    asCompletionResult(result: CompletionItem[] | CompletionList | null | undefined, defaultRange: monaco.IRange): monaco.languages.CompletionList {\n        if (!result) {\n            return {\n                incomplete: false,\n                suggestions: []\n            }\n        }\n        if (Array.isArray(result)) {\n            const suggestions = result.map(item => this.asCompletionItem(item, defaultRange));\n            return {\n                incomplete: false,\n                suggestions\n            }\n        }\n        return {\n            incomplete: result.isIncomplete,\n            suggestions: result.items.map(item => this.asCompletionItem(item, defaultRange))\n        }\n    }\n\n    asCompletionItem(item: CompletionItem, defaultRange: monaco.IRange | RangeReplace): ProtocolCompletionItem {\n        const result = <ProtocolCompletionItem>{ label: item.label };\n        if (item.detail) { result.detail = item.detail; }\n        if (item.documentation) {\n            result.documentation = this.asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? undefined : item.documentation.kind;\n        };\n        if (item.filterText) { result.filterText = item.filterText; }\n        const insertText = this.asCompletionInsertText(item, defaultRange);\n        result.insertText = insertText.insertText;\n        result.range = insertText.range;\n        result.fromEdit = insertText.fromEdit;\n        if (insertText.isSnippet) {\n            result.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = this.asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) { result.sortText = item.sortText; }\n        if (item.additionalTextEdits) { result.additionalTextEdits = this.asTextEdits(item.additionalTextEdits); }\n        if (Is.stringArray(item.commitCharacters)) { result.commitCharacters = item.commitCharacters.slice(); }\n        if (item.command) { result.command = this.asCommand(item.command); }\n        if (item.deprecated === true || item.deprecated === false) { result.deprecated = item.deprecated; }\n        if (item.preselect === true || item.preselect === false) { result.preselect = item.preselect; }\n        if (item.data !== undefined) { result.data = item.data; }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n        }\n        return result;\n    }\n\n    asCompletionItemKind(value: CompletionItemKind): [monaco.languages.CompletionItemKind, CompletionItemKind | undefined] {\n        if (CompletionItemKind.Text <= value && value <= CompletionItemKind.TypeParameter) {\n            switch (value) {\n                case CompletionItemKind.Text: return [monaco.languages.CompletionItemKind.Text, undefined];\n                case CompletionItemKind.Method: return [monaco.languages.CompletionItemKind.Method, undefined];\n                case CompletionItemKind.Function: return [monaco.languages.CompletionItemKind.Function, undefined];\n                case CompletionItemKind.Constructor: return [monaco.languages.CompletionItemKind.Constructor, undefined];\n                case CompletionItemKind.Field: return [monaco.languages.CompletionItemKind.Field, undefined];\n                case CompletionItemKind.Variable: return [monaco.languages.CompletionItemKind.Variable, undefined];\n                case CompletionItemKind.Class: return [monaco.languages.CompletionItemKind.Class, undefined];\n                case CompletionItemKind.Interface: return [monaco.languages.CompletionItemKind.Interface, undefined];\n                case CompletionItemKind.Module: return [monaco.languages.CompletionItemKind.Module, undefined];\n                case CompletionItemKind.Property: return [monaco.languages.CompletionItemKind.Property, undefined];\n                case CompletionItemKind.Unit: return [monaco.languages.CompletionItemKind.Unit, undefined];\n                case CompletionItemKind.Value: return [monaco.languages.CompletionItemKind.Value, undefined];\n                case CompletionItemKind.Enum: return [monaco.languages.CompletionItemKind.Enum, undefined];\n                case CompletionItemKind.Keyword: return [monaco.languages.CompletionItemKind.Keyword, undefined];\n                case CompletionItemKind.Snippet: return [monaco.languages.CompletionItemKind.Snippet, undefined];\n                case CompletionItemKind.Color: return [monaco.languages.CompletionItemKind.Color, undefined];\n                case CompletionItemKind.File: return [monaco.languages.CompletionItemKind.File, undefined];\n                case CompletionItemKind.Reference: return [monaco.languages.CompletionItemKind.Reference, undefined];\n                case CompletionItemKind.Folder: return [monaco.languages.CompletionItemKind.Folder, undefined];\n                case CompletionItemKind.EnumMember: return [monaco.languages.CompletionItemKind.EnumMember, undefined];\n                case CompletionItemKind.Constant: return [monaco.languages.CompletionItemKind.Constant, undefined];\n                case CompletionItemKind.Struct: return [monaco.languages.CompletionItemKind.Struct, undefined];\n                case CompletionItemKind.Event: return [monaco.languages.CompletionItemKind.Event, undefined];\n                case CompletionItemKind.Operator: return [monaco.languages.CompletionItemKind.Operator, undefined];\n                case CompletionItemKind.TypeParameter: return [monaco.languages.CompletionItemKind.TypeParameter, undefined];\n                default: return [value - 1, undefined];\n            }\n\n        };\n        return [CompletionItemKind.Text, value];\n    }\n\n    asCompletionInsertText(item: CompletionItem, defaultRange: monaco.IRange | RangeReplace)\n        : { insertText: string, range: monaco.IRange | RangeReplace, fromEdit: boolean, isSnippet: boolean } {\n        const isSnippet = item.insertTextFormat === InsertTextFormat.Snippet;\n        if (item.textEdit) {\n            const range = this.asRange(item.textEdit.range);\n            const value = item.textEdit.newText;\n            return { isSnippet, insertText: value, range, fromEdit: true, };\n        }\n        if (item.insertText) {\n            return { isSnippet, insertText: item.insertText, fromEdit: false, range: defaultRange };\n        }\n        return { insertText: item.label, range: defaultRange, fromEdit: false, isSnippet: false };\n    }\n\n    asDocumentLinks(documentLinks: DocumentLink[]): monaco.languages.ILinksList {\n        const links = documentLinks.map(link => this.asDocumentLink(link));\n        return { links };\n    }\n\n    asDocumentLink(documentLink: DocumentLink): ProtocolDocumentLink {\n        return {\n            range: this.asRange(documentLink.range),\n            url: documentLink.target,\n            data: documentLink.data\n        };\n    }\n\n    asRange(range: null): null;\n    asRange(range: undefined): undefined;\n    asRange(range: Range): monaco.Range;\n    asRange(range: Range | undefined): monaco.Range | undefined;\n    asRange(range: Range | null): monaco.Range | null;\n    asRange(range: RecursivePartial<Range>): Partial<monaco.IRange>;\n    asRange(range: RecursivePartial<Range> | undefined): monaco.Range | Partial<monaco.IRange> | undefined;\n    asRange(range: RecursivePartial<Range> | null): monaco.Range | Partial<monaco.IRange> | null;\n    asRange(range: RecursivePartial<Range> | undefined | null): monaco.Range | Partial<monaco.IRange> | undefined | null {\n        if (range === undefined) {\n            return undefined;\n        }\n        if (range === null) {\n            return null;\n        }\n        const start = this.asPosition(range.start);\n        const end = this.asPosition(range.end);\n        if (start instanceof monaco.Position && end instanceof monaco.Position) {\n            return new monaco.Range(start.lineNumber, start.column, end.lineNumber, end.column);\n        }\n        const startLineNumber = !start || start.lineNumber === undefined ? undefined : start.lineNumber;\n        const startColumn = !start || start.column === undefined ? undefined : start.column;\n        const endLineNumber = !end || end.lineNumber === undefined ? undefined : end.lineNumber;\n        const endColumn = !end || end.column === undefined ? undefined : end.column;\n        return { startLineNumber, startColumn, endLineNumber, endColumn };\n    }\n\n    asPosition(position: null): null;\n    asPosition(position: undefined): undefined;\n    asPosition(position: Position): monaco.Position;\n    asPosition(position: Position | undefined): monaco.Position | undefined;\n    asPosition(position: Position | null): monaco.Position | null;\n    asPosition(position: Partial<Position>): Partial<monaco.IPosition>;\n    asPosition(position: Partial<Position> | undefined): monaco.Position | Partial<monaco.IPosition> | undefined;\n    asPosition(position: Partial<Position> | null): monaco.Position | Partial<monaco.IPosition> | null;\n    asPosition(position: Partial<Position> | undefined | null): monaco.Position | Partial<monaco.IPosition> | undefined | null {\n        if (position === undefined) {\n            return undefined;\n        }\n        if (position === null) {\n            return null;\n        }\n        const { line, character } = position;\n        const lineNumber = line === undefined ? undefined : line + 1;\n        const column = character === undefined ? undefined : character + 1;\n        if (lineNumber !== undefined && column !== undefined) {\n            return new monaco.Position(lineNumber, column);\n        }\n        return { lineNumber, column };\n    }\n\n    asColorInformations(items: ColorInformation[]): monaco.languages.IColorInformation[] {\n        return items.map(item => this.asColorInformation(item));\n    }\n\n    asColorInformation(item: ColorInformation): monaco.languages.IColorInformation {\n        return {\n            range: this.asRange(item.range),\n            color: item.color\n        }\n    }\n\n    asColorPresentations(items: ColorPresentation[]): monaco.languages.IColorPresentation[] {\n        return items.map(item => this.asColorPresentation(item));\n    }\n\n    asColorPresentation(item: ColorPresentation): monaco.languages.IColorPresentation {\n        return {\n            label: item.label,\n            textEdit: this.asTextEdit(item.textEdit),\n            additionalTextEdits: this.asTextEdits(item.additionalTextEdits)\n        }\n    }\n\n    asFoldingRanges(items: undefined | null): undefined | null;\n    asFoldingRanges(items: FoldingRange[]): monaco.languages.FoldingRange[];\n    asFoldingRanges(items: FoldingRange[] | undefined | null): monaco.languages.FoldingRange[] | undefined | null {\n        if (!items) {\n            return items;\n        }\n        return items.map(item => this.asFoldingRange(item));\n    }\n\n    asFoldingRange(item: FoldingRange): monaco.languages.FoldingRange {\n        return {\n            start: item.startLine + 1,\n            end: item.endLine + 1,\n            kind: this.asFoldingRangeKind(item.kind)\n        };\n    }\n\n    asFoldingRangeKind(kind?: string): monaco.languages.FoldingRangeKind | undefined {\n        if (kind) {\n            switch (kind) {\n                case FoldingRangeKind.Comment:\n                    return monaco.languages.FoldingRangeKind.Comment;\n                case FoldingRangeKind.Imports:\n                    return monaco.languages.FoldingRangeKind.Imports;\n                case FoldingRangeKind.Region:\n                    return monaco.languages.FoldingRangeKind.Region;\n            };\n        }\n        return undefined;\n    }\n\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { DiagnosticCollection, Diagnostic } from './services';\nimport { DisposableCollection, Disposable } from './disposable';\nimport { ProtocolToMonacoConverter } from './monaco-converter';\nimport IModel = monaco.editor.IModel;\nimport IMarkerData = monaco.editor.IMarkerData;\n\nexport class MonacoDiagnosticCollection implements DiagnosticCollection {\n\n    protected readonly diagnostics = new Map<string, MonacoModelDiagnostics | undefined>();\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(\n        protected readonly name: string,\n        protected readonly p2m: ProtocolToMonacoConverter) {\n    }\n\n    dispose() {\n        this.toDispose.dispose();\n    }\n\n    get(uri: string): Diagnostic[] {\n        const diagnostics = this.diagnostics.get(uri);\n        return !!diagnostics ? diagnostics.diagnostics : [];\n    }\n\n    set(uri: string, diagnostics: Diagnostic[]): void {\n        const existing = this.diagnostics.get(uri);\n        if (existing) {\n            existing.diagnostics = diagnostics;\n        } else {\n            const modelDiagnostics = new MonacoModelDiagnostics(uri, diagnostics, this.name, this.p2m);\n            this.diagnostics.set(uri, modelDiagnostics);\n            this.toDispose.push(Disposable.create(() => {\n                this.diagnostics.delete(uri);\n                modelDiagnostics.dispose();\n            }));\n        }\n    }\n\n}\n\nexport class MonacoModelDiagnostics implements Disposable {\n    readonly uri: monaco.Uri;\n    protected _markers: IMarkerData[] = [];\n    protected _diagnostics: Diagnostic[] = [];\n    constructor(\n        uri: string,\n        diagnostics: Diagnostic[],\n        readonly owner: string,\n        protected readonly p2m: ProtocolToMonacoConverter\n    ) {\n        this.uri = monaco.Uri.parse(uri);\n        this.diagnostics = diagnostics;\n        monaco.editor.onDidCreateModel(model => this.doUpdateModelMarkers(model));\n    }\n\n    set diagnostics(diagnostics: Diagnostic[]) {\n        this._diagnostics = diagnostics;\n        this._markers = this.p2m.asDiagnostics(diagnostics);\n        this.updateModelMarkers();\n    }\n\n    get diagnostics(): Diagnostic[] {\n        return this._diagnostics;\n    }\n\n    get markers(): ReadonlyArray<IMarkerData> {\n        return this._markers;\n    }\n\n    dispose(): void {\n        this._markers = [];\n        this.updateModelMarkers();\n    }\n\n    updateModelMarkers(): void {\n        const model = monaco.editor.getModel(this.uri);\n        this.doUpdateModelMarkers(model ? model : undefined);\n    }\n\n    protected doUpdateModelMarkers(model: IModel | undefined): void {\n        if (model && this.uri.toString() === model.uri.toString()) {\n            monaco.editor.setModelMarkers(model, this.owner, this._markers);\n        }\n    }\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport {\n    BaseLanguageClient, MessageTransports, LanguageClientOptions,\n    CompletionParams, WillSaveTextDocumentParams, StaticFeature, DynamicFeature\n} from \"vscode-languageclient/lib/client\";\nimport { TypeDefinitionFeature } from \"vscode-languageclient/lib/typeDefinition\";\nimport { ConfigurationFeature as PullConfigurationFeature } from \"vscode-languageclient/lib/configuration\";\nimport { ImplementationFeature } from \"vscode-languageclient/lib/implementation\";\nimport { ColorProviderFeature } from \"vscode-languageclient/lib/colorProvider\";\nimport { WorkspaceFoldersFeature } from \"vscode-languageclient/lib/workspaceFolders\";\nimport { FoldingRangeFeature } from \"vscode-languageclient/lib/foldingRange\";\nimport * as p2c from 'vscode-languageclient/lib/protocolConverter';\nimport * as c2p from 'vscode-languageclient/lib/codeConverter';\nimport { IConnectionProvider, IConnection } from './connection';\nimport { DeclarationFeature } from \"vscode-languageclient/lib/declaration\";\n\nexport * from 'vscode-languageclient/lib/client';\n\nexport class MonacoLanguageClient extends BaseLanguageClient {\n\n    static bypassConversion = (result: any) => result || undefined;\n\n    protected readonly connectionProvider: IConnectionProvider;\n\n    constructor({ id, name, clientOptions, connectionProvider }: MonacoLanguageClient.Options) {\n        super(id || name.toLowerCase(), name, clientOptions);\n        this.connectionProvider = connectionProvider;\n        (this as any).createConnection = this.doCreateConnection.bind(this);\n\n        // bypass LSP <=> VS Code conversion\n        const self: {\n            _p2c: p2c.Converter,\n            _c2p: c2p.Converter\n        } = this as any;\n        self._p2c = new Proxy(self._p2c, {\n            get: (target: any, prop: string) => {\n                if (prop === 'asUri') {\n                    return target[prop];\n                }\n                return MonacoLanguageClient.bypassConversion;\n            }\n        });\n        self._c2p = new Proxy(self._c2p, {\n            get: (target: c2p.Converter, prop: string) => {\n                if (prop === 'asUri') {\n                    return target[prop];\n                }\n                if (prop === 'asCompletionParams') {\n                    return (textDocument: any, position: any, context: any): CompletionParams => {\n                        return {\n                            textDocument: target.asTextDocumentIdentifier(textDocument),\n                            position,\n                            context\n                        }\n                    }\n                }\n                if (prop === 'asWillSaveTextDocumentParams') {\n                    return (event: any): WillSaveTextDocumentParams => {\n                        return {\n                            textDocument: target.asTextDocumentIdentifier(event.document),\n                            reason: event.reason\n                        }\n                    }\n                }\n                if (prop.endsWith('Params')) {\n                    return (target as any)[prop];\n                }\n                return MonacoLanguageClient.bypassConversion;\n            }\n        });\n    }\n\n    protected doCreateConnection(): Thenable<IConnection> {\n        const errorHandler = (this as any).handleConnectionError.bind(this);\n        const closeHandler = this.handleConnectionClosed.bind(this);\n        return this.connectionProvider.get(errorHandler, closeHandler, this.outputChannel);\n    }\n\n    protected createMessageTransports(encoding: string): Promise<MessageTransports> {\n        throw new Error('Unsupported');\n    }\n\n    protected registerBuiltinFeatures(): void {\n        super.registerBuiltinFeatures();\n        this.registerFeature(new PullConfigurationFeature(this));\n        this.registerFeature(new TypeDefinitionFeature(this));\n        this.registerFeature(new ImplementationFeature(this));\n        this.registerFeature(new ColorProviderFeature(this));\n        this.registerFeature(new WorkspaceFoldersFeature(this));\n        const foldingRangeFeature = new FoldingRangeFeature(this);\n        foldingRangeFeature['asFoldingRanges'] = MonacoLanguageClient.bypassConversion;\n        this.registerFeature(foldingRangeFeature);\n        this.registerFeature(new DeclarationFeature(this));\n\n        const features = this['_features'] as ((StaticFeature | DynamicFeature<any>)[]);\n        for (const feature of features) {\n            if (feature instanceof ColorProviderFeature) {\n                feature['asColor'] = MonacoLanguageClient.bypassConversion;\n                feature['asColorInformations'] = MonacoLanguageClient.bypassConversion;\n                feature['asColorPresentations'] = MonacoLanguageClient.bypassConversion;\n            }\n        }\n    }\n\n}\nexport namespace MonacoLanguageClient {\n    export interface Options {\n        name: string;\n        id?: string;\n        clientOptions: LanguageClientOptions;\n        connectionProvider: IConnectionProvider;\n    }\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport globToRegExp = require('glob-to-regexp');\nimport {\n    Languages, DiagnosticCollection, CompletionItemProvider, DocumentIdentifier, HoverProvider,\n    SignatureHelpProvider, DefinitionProvider, ReferenceProvider, DocumentHighlightProvider,\n    DocumentSymbolProvider, CodeActionProvider, CodeLensProvider, DocumentFormattingEditProvider, DocumentRangeFormattingEditProvider,\n    OnTypeFormattingEditProvider, RenameProvider,\n    DocumentFilter, DocumentSelector, DocumentLinkProvider, ImplementationProvider, TypeDefinitionProvider, DocumentColorProvider,\n    FoldingRangeProvider\n} from \"./services\";\nimport { MonacoDiagnosticCollection } from './monaco-diagnostic-collection';\nimport { ProtocolToMonacoConverter, MonacoToProtocolConverter } from './monaco-converter';\nimport { DisposableCollection, Disposable } from './disposable';\n\nexport interface MonacoModelIdentifier {\n    uri: monaco.Uri;\n    languageId: string;\n}\n\nexport namespace MonacoModelIdentifier {\n    export function fromDocument(document: DocumentIdentifier): MonacoModelIdentifier {\n        return {\n            uri: monaco.Uri.parse(document.uri),\n            languageId: document.languageId\n        }\n    }\n    export function fromModel(model: monaco.editor.IReadOnlyModel): MonacoModelIdentifier {\n        return {\n            uri: model.uri,\n            languageId: model.getModeId()\n        }\n    }\n}\n\nexport function testGlob(pattern: string, value: string): boolean {\n    const regExp = globToRegExp(pattern, {\n        extended: true,\n        globstar: true\n    });\n    return regExp.test(value);\n}\n\nexport class MonacoLanguages implements Languages {\n\n    constructor(\n        protected readonly p2m: ProtocolToMonacoConverter,\n        protected readonly m2p: MonacoToProtocolConverter\n    ) { }\n\n    match(selector: DocumentSelector, document: DocumentIdentifier): boolean {\n        return this.matchModel(selector, MonacoModelIdentifier.fromDocument(document));\n    }\n\n    createDiagnosticCollection(name?: string): DiagnosticCollection {\n        return new MonacoDiagnosticCollection(name || 'default', this.p2m);\n    }\n\n    registerCompletionItemProvider(selector: DocumentSelector, provider: CompletionItemProvider, ...triggerCharacters: string[]): Disposable {\n        const completionProvider = this.createCompletionProvider(selector, provider, ...triggerCharacters);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerCompletionItemProvider(language, completionProvider))\n        };\n        return providers;\n    }\n\n    protected createCompletionProvider(selector: DocumentSelector, provider: CompletionItemProvider, ...triggerCharacters: string[]): monaco.languages.CompletionItemProvider {\n        return {\n            triggerCharacters,\n            provideCompletionItems: async (model, position, context, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const wordUntil = model.getWordUntilPosition(position);\n                const defaultRange = new monaco.Range(position.lineNumber, wordUntil.startColumn, position.lineNumber, wordUntil.endColumn);\n                const params = this.m2p.asCompletionParams(model, position, context);\n                const result = await provider.provideCompletionItems(params, token);\n                return result && this.p2m.asCompletionResult(result, defaultRange);\n            },\n            resolveCompletionItem: provider.resolveCompletionItem ? async (model, position, item, token) => {\n                const protocolItem = this.m2p.asCompletionItem(item);\n                const resolvedItem = await provider.resolveCompletionItem!(protocolItem, token);\n                if (resolvedItem) {\n                    const resolvedCompletionItem = this.p2m.asCompletionItem(resolvedItem, item.range);\n                    Object.assign(item, resolvedCompletionItem);\n                }\n                return item;\n            } : undefined\n        };\n    }\n\n    registerHoverProvider(selector: DocumentSelector, provider: HoverProvider): Disposable {\n        const hoverProvider = this.createHoverProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerHoverProvider(language, hoverProvider));\n        }\n        return providers;\n    }\n\n    protected createHoverProvider(selector: DocumentSelector, provider: HoverProvider): monaco.languages.HoverProvider {\n        return {\n            provideHover: async (model, position, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asTextDocumentPositionParams(model, position);\n                const hover = await provider.provideHover(params, token);\n                return hover && this.p2m.asHover(hover);\n            }\n        }\n    }\n\n    registerSignatureHelpProvider(selector: DocumentSelector, provider: SignatureHelpProvider, ...triggerCharacters: string[]): Disposable {\n        const signatureHelpProvider = this.createSignatureHelpProvider(selector, provider, ...triggerCharacters);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerSignatureHelpProvider(language, signatureHelpProvider));\n        }\n        return providers;\n    }\n\n    protected createSignatureHelpProvider(selector: DocumentSelector, provider: SignatureHelpProvider, ...triggerCharacters: string[]): monaco.languages.SignatureHelpProvider {\n        const signatureHelpTriggerCharacters = [...(provider.triggerCharacters || triggerCharacters || [])];\n        return {\n            signatureHelpTriggerCharacters,\n            signatureHelpRetriggerCharacters: provider.retriggerCharacters,\n            provideSignatureHelp: async (model, position, token, context) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asTextDocumentPositionParams(model, position);\n                const signatureHelp = await provider.provideSignatureHelp(params, token, this.m2p.asSignatureHelpContext(context))\n                return signatureHelp && this.p2m.asSignatureHelpResult(signatureHelp);\n            }\n        }\n    }\n\n    registerDefinitionProvider(selector: DocumentSelector, provider: DefinitionProvider): Disposable {\n        const definitionProvider = this.createDefinitionProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerDefinitionProvider(language, definitionProvider));\n        }\n        return providers;\n    }\n\n    protected createDefinitionProvider(selector: DocumentSelector, provider: DefinitionProvider): monaco.languages.DefinitionProvider {\n        return {\n            provideDefinition: async (model, position, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asTextDocumentPositionParams(model, position);\n                const result = await provider.provideDefinition(params, token);\n                return result && this.p2m.asDefinitionResult(result);\n            }\n        }\n    }\n\n    registerReferenceProvider(selector: DocumentSelector, provider: ReferenceProvider): Disposable {\n        const referenceProvider = this.createReferenceProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerReferenceProvider(language, referenceProvider));\n        }\n        return providers;\n    }\n\n    protected createReferenceProvider(selector: DocumentSelector, provider: ReferenceProvider): monaco.languages.ReferenceProvider {\n        return {\n            provideReferences: async (model, position, context, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asReferenceParams(model, position, context);\n                const result = await provider.provideReferences(params, token);\n                return result && this.p2m.asReferences(result);\n            }\n        }\n    }\n\n    registerDocumentHighlightProvider(selector: DocumentSelector, provider: DocumentHighlightProvider): Disposable {\n        const documentHighlightProvider = this.createDocumentHighlightProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerDocumentHighlightProvider(language, documentHighlightProvider));\n        }\n        return providers;\n    }\n\n    protected createDocumentHighlightProvider(selector: DocumentSelector, provider: DocumentHighlightProvider): monaco.languages.DocumentHighlightProvider {\n        return {\n            provideDocumentHighlights: async (model, position, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asTextDocumentPositionParams(model, position);\n                const result = await provider.provideDocumentHighlights(params, token);\n                return result && this.p2m.asDocumentHighlights(result);\n            }\n        }\n    }\n\n    registerDocumentSymbolProvider(selector: DocumentSelector, provider: DocumentSymbolProvider): Disposable {\n        const documentSymbolProvider = this.createDocumentSymbolProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerDocumentSymbolProvider(language, documentSymbolProvider));\n        }\n        return providers;\n    }\n\n    protected createDocumentSymbolProvider(selector: DocumentSelector, provider: DocumentSymbolProvider): monaco.languages.DocumentSymbolProvider {\n        return {\n            provideDocumentSymbols: async (model, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asDocumentSymbolParams(model);\n                const result = await provider.provideDocumentSymbols(params, token);\n                return result && this.p2m.asDocumentSymbols(result);\n            }\n        }\n    }\n\n    registerCodeActionsProvider(selector: DocumentSelector, provider: CodeActionProvider): Disposable {\n        const codeActionProvider = this.createCodeActionProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerCodeActionProvider(language, codeActionProvider));\n        }\n        return providers;\n    }\n\n    protected createCodeActionProvider(selector: DocumentSelector, provider: CodeActionProvider): monaco.languages.CodeActionProvider {\n        return {\n            provideCodeActions: async (model, range, context, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    // FIXME: get rid of `!` when https://github.com/microsoft/monaco-editor/issues/1560 is resolved\n                    return undefined!;\n                }\n                const params = this.m2p.asCodeActionParams(model, range, context);\n                const result = await provider.provideCodeActions(params, token);\n                // FIXME: get rid of `|| undefined!` when https://github.com/microsoft/monaco-editor/issues/1560 is resolved\n                return result && this.p2m.asCodeActionList(result) || undefined!;\n            }\n        }\n    }\n\n    registerCodeLensProvider(selector: DocumentSelector, provider: CodeLensProvider): Disposable {\n        const codeLensProvider = this.createCodeLensProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerCodeLensProvider(language, codeLensProvider));\n        }\n        return providers;\n    }\n\n    protected createCodeLensProvider(selector: DocumentSelector, provider: CodeLensProvider): monaco.languages.CodeLensProvider {\n        return {\n            provideCodeLenses: async (model, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asCodeLensParams(model);\n                const result = await provider.provideCodeLenses(params, token);\n                return result && this.p2m.asCodeLensList(result);\n            },\n            resolveCodeLens: provider.resolveCodeLens ? async (model, codeLens, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return codeLens;\n                }\n                const protocolCodeLens = this.m2p.asCodeLens(codeLens);\n                const result = await provider.resolveCodeLens!(protocolCodeLens, token);\n                if (result) {\n                    const resolvedCodeLens = this.p2m.asCodeLens(result);\n                    Object.assign(codeLens, resolvedCodeLens);\n                }\n                return codeLens;\n            } : ((_, codeLens) => codeLens)\n        }\n    }\n\n    registerDocumentFormattingEditProvider(selector: DocumentSelector, provider: DocumentFormattingEditProvider): Disposable {\n        const documentFormattingEditProvider = this.createDocumentFormattingEditProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerDocumentFormattingEditProvider(language, documentFormattingEditProvider));\n        }\n        return providers;\n    }\n\n    protected createDocumentFormattingEditProvider(selector: DocumentSelector, provider: DocumentFormattingEditProvider): monaco.languages.DocumentFormattingEditProvider {\n        return {\n            provideDocumentFormattingEdits: async (model, options, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asDocumentFormattingParams(model, options);\n                const result = await provider.provideDocumentFormattingEdits(params, token);\n                return result && this.p2m.asTextEdits(result);\n            }\n        }\n    }\n\n    registerDocumentRangeFormattingEditProvider(selector: DocumentSelector, provider: DocumentRangeFormattingEditProvider): Disposable {\n        const documentRangeFormattingEditProvider = this.createDocumentRangeFormattingEditProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerDocumentRangeFormattingEditProvider(language, documentRangeFormattingEditProvider));\n        }\n        return providers;\n    }\n\n    createDocumentRangeFormattingEditProvider(selector: DocumentSelector, provider: DocumentRangeFormattingEditProvider): monaco.languages.DocumentRangeFormattingEditProvider {\n        return {\n            provideDocumentRangeFormattingEdits: async (model, range, options, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asDocumentRangeFormattingParams(model, range, options);\n                const result = await provider.provideDocumentRangeFormattingEdits(params, token);\n                return result && this.p2m.asTextEdits(result);\n            }\n        }\n    }\n\n    registerOnTypeFormattingEditProvider(selector: DocumentSelector, provider: OnTypeFormattingEditProvider, firstTriggerCharacter: string, ...moreTriggerCharacter: string[]): Disposable {\n        const onTypeFormattingEditProvider = this.createOnTypeFormattingEditProvider(selector, provider, firstTriggerCharacter, ...moreTriggerCharacter);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerOnTypeFormattingEditProvider(language, onTypeFormattingEditProvider));\n        }\n        return providers;\n    }\n\n    protected createOnTypeFormattingEditProvider(selector: DocumentSelector, provider: OnTypeFormattingEditProvider, firstTriggerCharacter: string, ...moreTriggerCharacter: string[]): monaco.languages.OnTypeFormattingEditProvider {\n        const autoFormatTriggerCharacters = [firstTriggerCharacter].concat(moreTriggerCharacter)\n        return {\n            autoFormatTriggerCharacters,\n            provideOnTypeFormattingEdits: async (model, position, ch, options, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asDocumentOnTypeFormattingParams(model, position, ch, options);\n                const result = await provider.provideOnTypeFormattingEdits(params, token);\n                return result && this.p2m.asTextEdits(result);\n            }\n        }\n    }\n\n    registerRenameProvider(selector: DocumentSelector, provider: RenameProvider): Disposable {\n        const renameProvider = this.createRenameProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerRenameProvider(language, renameProvider));\n        }\n        return providers;\n    }\n\n    protected createRenameProvider(selector: DocumentSelector, provider: RenameProvider): monaco.languages.RenameProvider {\n        return {\n            provideRenameEdits: async (model, position, newName, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asRenameParams(model, position, newName);\n                const result = await provider.provideRenameEdits(params, token);\n                return result && this.p2m.asWorkspaceEdit(result);\n            }\n        }\n    }\n\n    registerDocumentLinkProvider(selector: DocumentSelector, provider: DocumentLinkProvider): Disposable {\n        const linkProvider = this.createDocumentLinkProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerLinkProvider(language, linkProvider));\n        }\n        return providers;\n    }\n\n    protected createDocumentLinkProvider(selector: DocumentSelector, provider: DocumentLinkProvider): monaco.languages.LinkProvider {\n        return {\n            provideLinks: async (model, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asDocumentLinkParams(model);\n                const result = await provider.provideDocumentLinks(params, token);\n                return result && this.p2m.asDocumentLinks(result);\n            },\n            resolveLink: async (link: monaco.languages.ILink, token) => {\n                // resolve the link if the provider supports it\n                // and the link doesn't have a url set\n                if (provider.resolveDocumentLink && (link.url === null || link.url === undefined)) {\n                    const documentLink = this.m2p.asDocumentLink(link);\n                    const result = await provider.resolveDocumentLink(documentLink, token);\n                    if (result) {\n                        const resolvedLink = this.p2m.asDocumentLink(result);\n                        Object.assign(link, resolvedLink);\n                    }\n                }\n                return link;\n            }\n        }\n    }\n\n    registerImplementationProvider(selector: DocumentSelector, provider: ImplementationProvider): Disposable {\n        const implementationProvider = this.createImplementationProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerImplementationProvider(language, implementationProvider));\n        }\n        return providers;\n    }\n\n    protected createImplementationProvider(selector: DocumentSelector, provider: ImplementationProvider): monaco.languages.ImplementationProvider {\n        return {\n            provideImplementation: async (model, position, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asTextDocumentPositionParams(model, position);\n                const result = await provider.provideImplementation(params, token);\n                return result && this.p2m.asDefinitionResult(result);\n            }\n        }\n    }\n\n    registerTypeDefinitionProvider(selector: DocumentSelector, provider: TypeDefinitionProvider): Disposable {\n        const typeDefinitionProvider = this.createTypeDefinitionProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerTypeDefinitionProvider(language, typeDefinitionProvider));\n        }\n        return providers;\n    }\n\n    protected createTypeDefinitionProvider(selector: DocumentSelector, provider: TypeDefinitionProvider): monaco.languages.TypeDefinitionProvider {\n        return {\n            provideTypeDefinition: async (model, position, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const params = this.m2p.asTextDocumentPositionParams(model, position);\n                const result = await provider.provideTypeDefinition(params, token);\n                return result && this.p2m.asDefinitionResult(result);\n            }\n        }\n    }\n\n    registerColorProvider(selector: DocumentSelector, provider: DocumentColorProvider): Disposable {\n        const documentColorProvider = this.createDocumentColorProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerColorProvider(language, documentColorProvider));\n        }\n        return providers;\n    }\n\n    protected createDocumentColorProvider(selector: DocumentSelector, provider: DocumentColorProvider): monaco.languages.DocumentColorProvider {\n        return {\n            provideDocumentColors: async (model, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const textDocument = this.m2p.asTextDocumentIdentifier(model);\n                const result = await provider.provideDocumentColors({ textDocument }, token);\n                return result && this.p2m.asColorInformations(result);\n            },\n            provideColorPresentations: async (model, info, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const textDocument = this.m2p.asTextDocumentIdentifier(model);\n                const range = this.m2p.asRange(info.range);\n                const result = await provider.provideColorPresentations({\n                    textDocument,\n                    color: info.color,\n                    range\n                }, token);\n                return result && this.p2m.asColorPresentations(result);\n            }\n        }\n    }\n\n    registerFoldingRangeProvider(selector: DocumentSelector, provider: FoldingRangeProvider): Disposable {\n        const foldingRangeProvider = this.createFoldingRangeProvider(selector, provider);\n        const providers = new DisposableCollection();\n        for (const language of this.matchLanguage(selector)) {\n            providers.push(monaco.languages.registerFoldingRangeProvider(language, foldingRangeProvider));\n        }\n        return providers;\n    }\n\n    protected createFoldingRangeProvider(selector: DocumentSelector, provider: FoldingRangeProvider): monaco.languages.FoldingRangeProvider {\n        return {\n            provideFoldingRanges: async (model, context, token) => {\n                if (!this.matchModel(selector, MonacoModelIdentifier.fromModel(model))) {\n                    return undefined;\n                }\n                const textDocument = this.m2p.asTextDocumentIdentifier(model);\n                const result = await provider.provideFoldingRanges({\n                    textDocument\n                }, token);\n                return result && this.p2m.asFoldingRanges(result);\n            }\n        }\n    }\n\n    protected matchModel(selector: string | DocumentFilter | DocumentSelector, model: MonacoModelIdentifier): boolean {\n        if (Array.isArray(selector)) {\n            return selector.some(filter => this.matchModel(filter, model));\n        }\n        if (DocumentFilter.is(selector)) {\n            if (!!selector.language && selector.language !== model.languageId) {\n                return false;\n            }\n            if (!!selector.scheme && selector.scheme !== model.uri.scheme) {\n                return false;\n            }\n            if (!!selector.pattern && !testGlob(selector.pattern, model.uri.path)) {\n                return false;\n            }\n            return true;\n        }\n        return selector === model.languageId;\n    }\n\n    protected matchLanguage(selector: string | DocumentFilter | DocumentSelector): Set<string> {\n        const languages = new Set<string>();\n        if (Array.isArray(selector)) {\n            for (const filter of selector) {\n                languages.add(this.matchLanguageByFilter(filter));\n            }\n        } else {\n            languages.add(this.matchLanguageByFilter(selector));\n        }\n        return languages;\n    }\n\n    protected matchLanguageByFilter(selector: string | DocumentFilter): string {\n        if (DocumentFilter.is(selector)) {\n            if (!selector.language) {\n                return '*';\n            }\n            return selector.language;\n        }\n        return selector;\n    }\n\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { MonacoToProtocolConverter, ProtocolToMonacoConverter } from \"./monaco-converter\";\nimport { MonacoCommands } from './monaco-commands';\nimport { MonacoLanguages } from \"./monaco-languages\";\nimport { MonacoWorkspace } from \"./monaco-workspace\";\nimport { ConsoleWindow } from \"./console-window\";\nimport { Services } from \"./services\";\n\nexport interface MonacoServices extends Services {\n    commands: MonacoCommands\n    languages: MonacoLanguages\n    workspace: MonacoWorkspace\n    window: ConsoleWindow\n}\nexport namespace MonacoServices {\n    export interface Options {\n        rootUri?: string\n    }\n    export type Provider = () => MonacoServices;\n    export function create(editor: monaco.editor.IStandaloneCodeEditor, options: Options = {}): MonacoServices {\n        const m2p = new MonacoToProtocolConverter();\n        const p2m = new ProtocolToMonacoConverter();\n        return {\n            commands: new MonacoCommands(editor),\n            languages: new MonacoLanguages(p2m, m2p),\n            workspace: new MonacoWorkspace(p2m, m2p, options.rootUri),\n            window: new ConsoleWindow()\n        }\n    }\n    export function install(editor: monaco.editor.IStandaloneCodeEditor, options: Options = {}): MonacoServices {\n        const services = create(editor, options);\n        Services.install(services);\n        return services;\n    }\n    export function get(): MonacoServices {\n        return Services.get() as MonacoServices;\n    }\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { MonacoToProtocolConverter, ProtocolToMonacoConverter } from './monaco-converter';\nimport { Workspace, WorkspaceEdit, TextDocumentDidChangeEvent, TextDocument, Event, Emitter } from './services';\nimport IModel = monaco.editor.IModel;\nimport IIdentifiedSingleEditOperation = monaco.editor.IIdentifiedSingleEditOperation;\n\nexport class MonacoWorkspace implements Workspace {\n\n    protected readonly documents = new Map<string, TextDocument>();\n    protected readonly onDidOpenTextDocumentEmitter = new Emitter<TextDocument>();\n    protected readonly onDidCloseTextDocumentEmitter = new Emitter<TextDocument>();\n    protected readonly onDidChangeTextDocumentEmitter = new Emitter<TextDocumentDidChangeEvent>();\n\n    constructor(\n        protected readonly p2m: ProtocolToMonacoConverter,\n        protected readonly m2p: MonacoToProtocolConverter,\n        protected _rootUri: string | null = null) {\n        for (const model of monaco.editor.getModels()) {\n            this.addModel(model);\n        }\n        monaco.editor.onDidCreateModel(model => this.addModel(model));\n        monaco.editor.onWillDisposeModel(model => this.removeModel(model));\n    }\n\n    get rootUri() {\n        return this._rootUri;\n    }\n\n    protected removeModel(model: IModel): void {\n        const uri = model.uri.toString();\n        const document = this.documents.get(uri);\n        if (document) {\n            this.documents.delete(uri);\n            this.onDidCloseTextDocumentEmitter.fire(document);\n        }\n    }\n\n    protected addModel(model: IModel): void {\n        const uri = model.uri.toString();\n        const document = this.setModel(uri, model);\n        this.onDidOpenTextDocumentEmitter.fire(document)\n        model.onDidChangeContent(event =>\n            this.onDidChangeContent(uri, model, event)\n        );\n    }\n\n    protected onDidChangeContent(uri: string, model: IModel, event: monaco.editor.IModelContentChangedEvent) {\n        const textDocument = this.setModel(uri, model);\n        const contentChanges = [];\n        for (const change of event.changes) {\n            const range = this.m2p.asRange(change.range);\n            const rangeLength = change.rangeLength;\n            const text = change.text;\n            contentChanges.push({ range, rangeLength, text });\n        }\n        this.onDidChangeTextDocumentEmitter.fire({\n            textDocument,\n            contentChanges\n        });\n    }\n\n    protected setModel(uri: string, model: IModel): TextDocument {\n        const document = TextDocument.create(uri, model.getModeId(), model.getVersionId(), model.getValue());\n        this.documents.set(uri, document);\n        return document;\n    }\n\n    get textDocuments(): TextDocument[] {\n        return Array.from(this.documents.values());\n    }\n\n    get onDidOpenTextDocument(): Event<TextDocument> {\n        return this.onDidOpenTextDocumentEmitter.event;\n    }\n\n    get onDidCloseTextDocument(): Event<TextDocument> {\n        return this.onDidCloseTextDocumentEmitter.event;\n    }\n\n    get onDidChangeTextDocument(): Event<TextDocumentDidChangeEvent> {\n        return this.onDidChangeTextDocumentEmitter.event;\n    }\n\n    public applyEdit(workspaceEdit: WorkspaceEdit): Promise<boolean> {\n        const edit: monaco.languages.WorkspaceEdit = this.p2m.asWorkspaceEdit(workspaceEdit);\n\n        // Collect all referenced models\n        const models: { [uri: string]: monaco.editor.IModel } = edit.edits ? edit.edits.reduce(\n            (acc: { [uri: string]: monaco.editor.IModel }, currentEdit) => {\n                const textEdit = currentEdit as monaco.languages.ResourceTextEdit;\n                acc[textEdit.resource.toString()] = monaco.editor.getModel(textEdit.resource) as monaco.editor.ITextModel;\n                return acc;\n            }, {}\n        ) : {};\n\n        // If any of the models do not exist, refuse to apply the edit.\n        if (!Object.keys(models).map(uri => models[uri]).every(model => !!model)) {\n            return Promise.resolve(false);\n        }\n\n        // Group edits by resource so we can batch them when applying\n        const editsByResource: { [uri: string]: IIdentifiedSingleEditOperation[] } = edit.edits ? edit.edits.reduce(\n            (acc: { [uri: string]: IIdentifiedSingleEditOperation[] }, currentEdit) => {\n                const textEdit = currentEdit as monaco.languages.ResourceTextEdit;\n                const uri = textEdit.resource.toString();\n                if (!(uri in acc)) {\n                    acc[uri] = [];\n                }\n                const operations = textEdit.edits.map(edit => {\n                    return {\n                        range: monaco.Range.lift(edit.range as monaco.IRange),\n                        text: edit.text as string,\n                    }\n                });\n                acc[uri].push(...operations);\n                return acc;\n            }, {}\n        ) : {};\n\n        // Apply edits for each resource\n        Object.keys(editsByResource).forEach(uri => {\n            models[uri].pushEditOperations(\n                [],  // Do not try and preserve editor selections.\n                editsByResource[uri].map(resourceEdit => {\n                    return {\n                        identifier: { major: 1, minor: 0 },\n                        range: resourceEdit.range,\n                        text: resourceEdit.text,\n                        forceMoveMarkers: true,\n                    };\n                }),\n                () => [],  // Do not try and preserve editor selections.\n            );\n        });\n        return Promise.resolve(true);\n    }\n\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\n\nimport {\n    DocumentSelector, MessageActionItem, MessageType,\n    TextDocumentPositionParams, ReferenceParams, CodeActionParams, CodeLensParams, DocumentFormattingParams,\n    DocumentRangeFormattingParams, DocumentOnTypeFormattingParams, RenameParams, DocumentLinkParams,\n    WorkspaceClientCapabilities, DidChangeTextDocumentParams, Diagnostic, TextDocument, CompletionItem, CompletionList,\n    Hover, SignatureHelp, Definition, Location, DocumentHighlight,\n    SymbolInformation, Command, CodeLens, TextEdit, WorkspaceEdit,\n    DocumentLink, TextDocumentSaveReason, DocumentSymbolParams,\n    WorkspaceSymbolParams, TextDocumentContentChangeEvent, CompletionParams,\n    ColorInformation, ColorPresentation, DocumentColorParams, ColorPresentationParams,\n    FoldingRange, FoldingRangeRequestParam, DocumentFilter, DocumentSymbol, CodeAction,\n    Declaration, SelectionRangeParams, SelectionRange\n} from 'vscode-languageserver-protocol';\n\nimport {\n    Disposable, CancellationToken, Event, Emitter\n} from 'vscode-jsonrpc';\n\nimport { URI as Uri } from 'vscode-uri';\n\nexport {\n    Disposable, CancellationToken, Event, Emitter\n}\nexport * from 'vscode-languageserver-protocol/lib/main';\n\nexport interface Services {\n    languages: Languages;\n    workspace: Workspace;\n    commands?: Commands;\n    window?: Window;\n}\nexport namespace Services {\n    const global = window as any;\n    const symbol = Symbol('Services');\n    export type Provider = () => Services;\n    export const get: Provider = () => {\n        const services = global[symbol];\n        if (!services) {\n            throw new Error('Language Client services has not been installed');\n        }\n        return services;\n    }\n    export function install(services: Services): Disposable {\n        if (global[symbol]) {\n            console.error(new Error('Language Client services has been overridden'));\n        }\n        global[symbol] = services;\n\n        return Disposable.create(() => global[symbol] = undefined)\n    }\n}\n\nexport function isDocumentSelector(selector: any): selector is DocumentSelector {\n    if (!selector || !Array.isArray(selector)) {\n        return false;\n    }\n    return selector.every(value => typeof value === 'string' || DocumentFilter.is(value));\n}\n\nexport interface DiagnosticCollection extends Disposable {\n    set(uri: string, diagnostics: Diagnostic[]): void;\n}\n\nexport type ProviderResult<T> = T | undefined | null | PromiseLike<T | undefined | null>;\n\nexport interface CompletionItemProvider {\n    provideCompletionItems(params: CompletionParams, token: CancellationToken): ProviderResult<CompletionItem[] | CompletionList>;\n    resolveCompletionItem?(item: CompletionItem, token: CancellationToken): ProviderResult<CompletionItem>;\n}\n\nexport interface HoverProvider {\n    provideHover(params: TextDocumentPositionParams, token: CancellationToken): ProviderResult<Hover>;\n}\n\nexport enum SignatureHelpTriggerKind {\n    Invoke = 1,\n    TriggerCharacter = 2,\n    ContentChange = 3\n}\n\n// runtime support\nexport enum VsCodeDiagnosticSeverity {\n    Error = 0,\n    Warning = 1,\n    Information = 2,\n    Hint = 3\n}\n\nexport interface SignatureHelpContext {\n    readonly triggerKind: SignatureHelpTriggerKind;\n    readonly triggerCharacter?: string;\n    readonly isRetrigger: boolean;\n    readonly activeSignatureHelp?: SignatureHelp;\n}\n\nexport interface SignatureHelpProvider {\n    readonly triggerCharacters?: ReadonlyArray<string>;\n    readonly retriggerCharacters?: ReadonlyArray<string>;\n    provideSignatureHelp(params: TextDocumentPositionParams, token: CancellationToken, context: SignatureHelpContext): ProviderResult<SignatureHelp>;\n}\n\nexport interface DefinitionProvider {\n    provideDefinition(params: TextDocumentPositionParams, token: CancellationToken): ProviderResult<Definition>;\n}\n\nexport interface ReferenceProvider {\n    provideReferences(params: ReferenceParams, token: CancellationToken): ProviderResult<Location[]>;\n}\n\nexport interface DocumentHighlightProvider {\n    provideDocumentHighlights(params: TextDocumentPositionParams, token: CancellationToken): ProviderResult<DocumentHighlight[]>;\n}\n\nexport interface DocumentSymbolProvider {\n    provideDocumentSymbols(params: DocumentSymbolParams, token: CancellationToken): ProviderResult<SymbolInformation[] | DocumentSymbol[]>;\n}\n\nexport interface WorkspaceSymbolProvider {\n    provideWorkspaceSymbols(params: WorkspaceSymbolParams, token: CancellationToken): ProviderResult<SymbolInformation[]>;\n}\n\nexport interface CodeActionProvider {\n    provideCodeActions(params: CodeActionParams, token: CancellationToken): ProviderResult<(Command | CodeAction)[]>;\n}\n\nexport interface CodeLensProvider {\n    provideCodeLenses(params: CodeLensParams, token: CancellationToken): ProviderResult<CodeLens[]>;\n    resolveCodeLens?(codeLens: CodeLens, token: CancellationToken): ProviderResult<CodeLens>;\n}\n\nexport interface DocumentFormattingEditProvider {\n    provideDocumentFormattingEdits(params: DocumentFormattingParams, token: CancellationToken): ProviderResult<TextEdit[]>;\n}\n\nexport interface DocumentRangeFormattingEditProvider {\n    provideDocumentRangeFormattingEdits(params: DocumentRangeFormattingParams, token: CancellationToken): ProviderResult<TextEdit[]>;\n}\n\nexport interface OnTypeFormattingEditProvider {\n    provideOnTypeFormattingEdits(params: DocumentOnTypeFormattingParams, token: CancellationToken): ProviderResult<TextEdit[]>;\n}\n\nexport interface RenameProvider {\n    provideRenameEdits(params: RenameParams, token: CancellationToken): ProviderResult<WorkspaceEdit>;\n}\n\nexport interface DocumentLinkProvider {\n    provideDocumentLinks(params: DocumentLinkParams, token: CancellationToken): ProviderResult<DocumentLink[]>;\n    resolveDocumentLink?(link: DocumentLink, token: CancellationToken): ProviderResult<DocumentLink>;\n}\n\nexport interface DocumentIdentifier {\n    uri: string;\n    languageId: string;\n}\nexport namespace DocumentIdentifier {\n    export function is(arg: any): arg is DocumentIdentifier {\n        return !!arg && ('uri' in arg) && ('languageId' in arg);\n    }\n}\n\nexport interface ImplementationProvider {\n    provideImplementation(params: TextDocumentPositionParams, token: CancellationToken): ProviderResult<Definition>;\n}\n\nexport interface TypeDefinitionProvider {\n    provideTypeDefinition(params: TextDocumentPositionParams, token: CancellationToken): ProviderResult<Definition>;\n}\n\nexport interface DeclarationProvider {\n    provideDeclaration(params: TextDocumentPositionParams, token: CancellationToken): ProviderResult<Declaration>;\n}\n\nexport interface DocumentColorProvider {\n    provideDocumentColors(params: DocumentColorParams, token: CancellationToken): ProviderResult<ColorInformation[]>;\n    provideColorPresentations(params: ColorPresentationParams, token: CancellationToken): ProviderResult<ColorPresentation[]>;\n}\n\nexport interface FoldingRangeProvider {\n    provideFoldingRanges(params: FoldingRangeRequestParam, token: CancellationToken): ProviderResult<FoldingRange[]>;\n}\n\nexport interface SelectionRangeProvider {\n    provideSelectionRanges(params: SelectionRangeParams, token: CancellationToken): ProviderResult<SelectionRange[]>;\n}\n\nexport interface Languages {\n    match(selector: DocumentSelector, document: DocumentIdentifier): boolean;\n    createDiagnosticCollection?(name?: string): DiagnosticCollection;\n    registerCompletionItemProvider?(selector: DocumentSelector, provider: CompletionItemProvider, ...triggerCharacters: string[]): Disposable;\n    registerHoverProvider?(selector: DocumentSelector, provider: HoverProvider): Disposable;\n    registerSignatureHelpProvider?(selector: DocumentSelector, provider: SignatureHelpProvider): Disposable;\n    registerDefinitionProvider?(selector: DocumentSelector, provider: DefinitionProvider): Disposable;\n    registerReferenceProvider?(selector: DocumentSelector, provider: ReferenceProvider): Disposable;\n    registerDocumentHighlightProvider?(selector: DocumentSelector, provider: DocumentHighlightProvider): Disposable;\n    registerDocumentSymbolProvider?(selector: DocumentSelector, provider: DocumentSymbolProvider): Disposable;\n    registerWorkspaceSymbolProvider?(provider: WorkspaceSymbolProvider): Disposable;\n    registerCodeActionsProvider?(selector: DocumentSelector, provider: CodeActionProvider): Disposable;\n    registerCodeLensProvider?(selector: DocumentSelector, provider: CodeLensProvider): Disposable;\n    registerDocumentFormattingEditProvider?(selector: DocumentSelector, provider: DocumentFormattingEditProvider): Disposable;\n    registerDocumentRangeFormattingEditProvider?(selector: DocumentSelector, provider: DocumentRangeFormattingEditProvider): Disposable;\n    registerOnTypeFormattingEditProvider?(selector: DocumentSelector, provider: OnTypeFormattingEditProvider, firstTriggerCharacter: string, ...moreTriggerCharacter: string[]): Disposable;\n    registerRenameProvider?(selector: DocumentSelector, provider: RenameProvider): Disposable;\n    registerDocumentLinkProvider?(selector: DocumentSelector, provider: DocumentLinkProvider): Disposable;\n    registerImplementationProvider?(selector: DocumentSelector, provider: ImplementationProvider): Disposable;\n    registerTypeDefinitionProvider?(selector: DocumentSelector, provider: TypeDefinitionProvider): Disposable;\n    registerDeclarationProvider?(selector: DocumentSelector, provider: DeclarationProvider): Disposable;\n    registerColorProvider?(selector: DocumentSelector, provider: DocumentColorProvider): Disposable;\n    registerFoldingRangeProvider?(selector: DocumentSelector, provider: FoldingRangeProvider): Disposable;\n    registerSelectionRangeProvider?(selector: DocumentSelector, provider: SelectionRangeProvider): Disposable;\n}\n\nexport interface TextDocumentDidChangeEvent {\n    readonly textDocument: TextDocument;\n    readonly contentChanges: TextDocumentContentChangeEvent[];\n}\n\nexport interface TextDocumentWillSaveEvent {\n    readonly textDocument: TextDocument;\n    readonly reason: TextDocumentSaveReason;\n    waitUntil?(PromiseLike: PromiseLike<TextEdit[]>): void;\n}\n\nexport enum ConfigurationTarget {\n    Global = 1,\n    Workspace = 2,\n    WorkspaceFolder = 3\n}\n\nexport interface WorkspaceConfiguration {\n    toJSON(): any;\n    get<T>(section: string): T | undefined;\n    get<T>(section: string, defaultValue: T): T;\n    has(section: string): boolean;\n    readonly [key: string]: any;\n}\n\nexport interface FileSystemWatcher extends Disposable {\n    readonly onDidCreate: Event<Uri>;\n    readonly onDidChange: Event<Uri>;\n    readonly onDidDelete: Event<Uri>;\n}\n\nexport interface ConfigurationChangeEvent {\n    affectsConfiguration(section: string): boolean;\n}\nexport interface Configurations {\n    getConfiguration(section?: string, resource?: string): WorkspaceConfiguration;\n    readonly onDidChangeConfiguration: Event<ConfigurationChangeEvent>;\n}\n\nexport interface Workspace {\n    readonly capabilities?: WorkspaceClientCapabilities;\n    readonly rootPath?: string | null;\n    readonly rootUri: string | null;\n    readonly workspaceFolders?: typeof import('vscode').workspace.workspaceFolders;\n    readonly onDidChangeWorkspaceFolders?: typeof import('vscode').workspace.onDidChangeWorkspaceFolders\n    readonly textDocuments: TextDocument[];\n    readonly onDidOpenTextDocument: Event<TextDocument>;\n    readonly onDidCloseTextDocument: Event<TextDocument>;\n    readonly onDidChangeTextDocument: Event<DidChangeTextDocumentParams>;\n    readonly configurations?: Configurations;\n    readonly onWillSaveTextDocument?: Event<TextDocumentWillSaveEvent>;\n    readonly onDidSaveTextDocument?: Event<TextDocument>;\n    applyEdit(changes: WorkspaceEdit): PromiseLike<boolean>;\n    createFileSystemWatcher?(globPattern: string, ignoreCreateEvents?: boolean, ignoreChangeEvents?: boolean, ignoreDeleteEvents?: boolean): FileSystemWatcher;\n}\n\nexport interface Commands {\n    registerCommand(command: string, callback: (...args: any[]) => any, thisArg?: any): Disposable;\n}\n\nexport interface OutputChannel extends Disposable {\n    append(value: string): void;\n    appendLine(line: string): void;\n    show(preserveFocus?: boolean): void;\n}\n\nexport interface Window {\n    showMessage<T extends MessageActionItem>(type: MessageType, message: string, ...actions: T[]): PromiseLike<T | undefined>;\n    createOutputChannel?(name: string): OutputChannel;\n    withProgress?: typeof import('vscode').window.withProgress\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport * as vscode from \"vscode\";\nimport { URI } from \"vscode-uri\"\nimport { Disposable } from \"./disposable\";\nimport {\n    Services, Event, DiagnosticCollection, WorkspaceEdit, isDocumentSelector,\n    MessageType, OutputChannel, CompletionTriggerKind, DocumentIdentifier,\n    SignatureHelpTriggerKind\n} from \"./services\";\nimport * as ServicesModule from \"./services\"\nimport { DiagnosticSeverity } from \"vscode-languageserver-protocol\";\n\nexport function createVSCodeApi(servicesProvider: Services.Provider): typeof vscode {\n    const unsupported = () => { throw new Error('unsupported') };\n    const Uri: typeof vscode.Uri = URI;\n    class CompletionItem implements vscode.CompletionItem {\n        constructor(public label: string, public kind?: vscode.CompletionItemKind) { }\n    }\n    class CodeLens implements vscode.CodeLens {\n        constructor(\n            public range: vscode.Range,\n            public command?: vscode.Command\n        ) { }\n\n        get isResolved(): boolean {\n            return !!this.command;\n        }\n    }\n    class DocumentLink implements vscode.DocumentLink {\n        constructor(public range: vscode.Range, public target?: vscode.Uri) { }\n    }\n    class CodeActionKind implements vscode.CodeActionKind {\n        private static readonly sep = '.';\n\n        static Empty = new CodeActionKind('');\n        static QuickFix = new CodeActionKind('quickfix');\n        static Refactor = new CodeActionKind('refactor');\n        static RefactorExtract = CodeActionKind.Refactor.append('extract');\n        static RefactorInline = CodeActionKind.Refactor.append('inline');\n        static RefactorRewrite = CodeActionKind.Refactor.append('rewrite');\n        static Source = new CodeActionKind('source');\n        static SourceOrganizeImports = CodeActionKind.Source.append('organizeImports');\n        static SourceFixAll = CodeActionKind.Source.append('fixAll');\n        private constructor(readonly value: string) { }\n        public append(parts: string): CodeActionKind {\n            return new CodeActionKind(this.value ? this.value + CodeActionKind.sep + parts : parts);\n        }\n        contains = unsupported\n        intersects = unsupported\n    }\n\n    class EmptyFileSystem implements vscode.FileSystem {\n        stat(uri: vscode.Uri): Thenable<vscode.FileStat> {\n            throw new Error(\"Method not implemented.\");\n        }\n        readDirectory(uri: vscode.Uri): Thenable<[string, vscode.FileType][]> {\n            return Promise.resolve([]);\n        }\n        createDirectory(uri: vscode.Uri): Thenable<void> {\n            return Promise.resolve();\n        }\n        readFile(uri: vscode.Uri): Thenable<Uint8Array> {\n            return Promise.resolve(new Uint8Array(0));\n        }\n        writeFile(uri: vscode.Uri, content: Uint8Array): Thenable<void> {\n            return Promise.resolve();\n        }\n        delete(uri: vscode.Uri,\n            options?: { recursive?: boolean | undefined; useTrash?: boolean | undefined; } | undefined): Thenable<void> {\n            return Promise.resolve();\n        }\n        rename(source: vscode.Uri,\n            target: vscode.Uri,\n            options?: { overwrite?: boolean | undefined; } | undefined): Thenable<void> {\n            return Promise.resolve();\n        }\n\n        copy(source: vscode.Uri,\n            target: vscode.Uri,\n            options?: { overwrite?: boolean | undefined; } | undefined): Thenable<void> {\n            return Promise.resolve();\n        }\n    }\n\n    const workspace: typeof vscode.workspace = {\n        fs: new EmptyFileSystem(),\n        workspaceFile: undefined,\n        createFileSystemWatcher(globPattern, ignoreCreateEvents, ignoreChangeEvents, ignoreDeleteEvents): vscode.FileSystemWatcher {\n            const services = servicesProvider();\n            if (typeof globPattern !== 'string') {\n                throw new Error('unsupported');\n            }\n            if (services.workspace.createFileSystemWatcher) {\n                const watcher = services.workspace.createFileSystemWatcher(globPattern, ignoreCreateEvents, ignoreChangeEvents, ignoreDeleteEvents);\n                return Object.assign(watcher, {\n                    ignoreCreateEvents: !!ignoreCreateEvents,\n                    ignoreChangeEvents: !!ignoreChangeEvents,\n                    ignoreDeleteEvents: !!ignoreDeleteEvents,\n                });\n            }\n            return {\n                ignoreCreateEvents: !!ignoreCreateEvents,\n                ignoreChangeEvents: !!ignoreChangeEvents,\n                ignoreDeleteEvents: !!ignoreDeleteEvents,\n                onDidCreate: Event.None,\n                onDidChange: Event.None,\n                onDidDelete: Event.None,\n                dispose: () => { }\n            }\n        },\n        applyEdit: async (edit) => {\n            const services = servicesProvider();\n            if (WorkspaceEdit.is(edit)) {\n                return services.workspace.applyEdit(edit);\n            }\n            throw new Error('unsupported');\n        },\n        getConfiguration(section, resource): vscode.WorkspaceConfiguration {\n            const { workspace } = servicesProvider();\n            const configuration = workspace.configurations ?\n                workspace.configurations.getConfiguration(section, resource ? resource.toString() : undefined) :\n                undefined;\n            const result: vscode.WorkspaceConfiguration = {\n                get: (section: string, defaultValue?: any) => {\n                    return configuration ? configuration.get(section, defaultValue) : defaultValue;\n                },\n                has: (section: string) => {\n                    return configuration ? configuration.has(section) : false;\n                },\n                inspect: unsupported,\n                update: unsupported\n            };\n            return Object.assign(result, {\n                toJSON: () => configuration ? configuration.toJSON() : undefined\n            });\n        },\n        get onDidChangeConfiguration(): typeof vscode.workspace.onDidChangeConfiguration {\n            const services = servicesProvider();\n            if (services.workspace.configurations) {\n                return services.workspace.configurations.onDidChangeConfiguration;\n            }\n            return Event.None;\n        },\n        get workspaceFolders(): typeof vscode.workspace.workspaceFolders {\n            const services = servicesProvider();\n            if ('workspaceFolders' in services.workspace) {\n                return services.workspace.workspaceFolders;\n            }\n            const rootUri = services.workspace.rootUri;\n            if (!rootUri) {\n                return undefined;\n            }\n            const uri = Uri.parse(rootUri);\n            return [{\n                uri,\n                index: 0,\n                name: uri.toString()\n            }];\n        },\n        get onDidChangeWorkspaceFolders(): typeof vscode.workspace.onDidChangeWorkspaceFolders {\n            const services = servicesProvider();\n            return services.workspace.onDidChangeWorkspaceFolders || Event.None;\n        },\n        get textDocuments(): typeof vscode.workspace.textDocuments {\n            const services = servicesProvider();\n            return services.workspace.textDocuments as any;\n        },\n        get onDidOpenTextDocument(): typeof vscode.workspace.onDidOpenTextDocument {\n            const services = servicesProvider();\n            return services.workspace.onDidOpenTextDocument as any;\n        },\n        get onDidCloseTextDocument(): typeof vscode.workspace.onDidCloseTextDocument {\n            const services = servicesProvider();\n            return services.workspace.onDidCloseTextDocument as any;\n        },\n        get onDidChangeTextDocument(): typeof vscode.workspace.onDidChangeTextDocument {\n            const services = servicesProvider();\n            return (listener: (e: vscode.TextDocumentChangeEvent) => any, thisArgs?: any, disposables?: Disposable[]): Disposable => {\n                return services.workspace.onDidChangeTextDocument(({ textDocument, contentChanges }) => {\n                    const l: (e: vscode.TextDocumentChangeEvent) => any = listener.bind(thisArgs);\n                    l({\n                        document: <any>textDocument,\n                        contentChanges: <any>contentChanges\n                    });\n                }, undefined, disposables);\n            }\n        },\n        get onWillSaveTextDocument(): typeof vscode.workspace.onWillSaveTextDocument {\n            const services = servicesProvider();\n            const onWillSaveTextDocument = services.workspace.onWillSaveTextDocument;\n            if (!onWillSaveTextDocument) {\n                return Event.None;\n            }\n            return (listener: (e: vscode.TextDocumentWillSaveEvent) => any, thisArgs?: any, disposables?: Disposable[]): Disposable => {\n                return onWillSaveTextDocument(({ textDocument, reason, waitUntil }) => {\n                    const l: (e: vscode.TextDocumentWillSaveEvent) => any = listener.bind(thisArgs);\n                    l({\n                        document: <any>textDocument,\n                        reason: reason,\n                        waitUntil: (edits: PromiseLike<vscode.TextEdit[]>) => {\n                            if (waitUntil) {\n                                waitUntil(edits);\n                            }\n                        }\n                    });\n                }, undefined, disposables);\n            }\n        },\n        get onDidSaveTextDocument(): typeof vscode.workspace.onDidSaveTextDocument {\n            const services = servicesProvider();\n            return (services.workspace.onDidSaveTextDocument as any) || Event.None;\n        },\n\n        get onWillCreateFiles(): vscode.Event<vscode.FileWillCreateEvent> {\n            return Event.None;\n        },\n\n        get onDidCreateFiles(): vscode.Event<vscode.FileCreateEvent> {\n            return Event.None;\n        },\n\n        get onWillDeleteFiles(): vscode.Event<vscode.FileWillDeleteEvent> {\n            return Event.None;\n        },\n\n        get onDidDeleteFiles(): vscode.Event<vscode.FileDeleteEvent> {\n            return Event.None;\n        },\n\n        get onWillRenameFiles(): vscode.Event<vscode.FileWillRenameEvent> {\n            return Event.None;\n        },\n\n        get onDidRenameFiles(): vscode.Event<vscode.FileRenameEvent> {\n            return Event.None\n        },\n\n        getWorkspaceFolder: unsupported,\n        asRelativePath: unsupported,\n        updateWorkspaceFolders: unsupported,\n        findFiles: unsupported,\n        saveAll: unsupported,\n        openTextDocument: unsupported,\n        registerTextDocumentContentProvider: unsupported,\n        registerTaskProvider: unsupported,\n        registerFileSystemProvider: unsupported,\n        rootPath: undefined,\n        name: undefined\n    };\n\n    function isVsCodeUri(v: vscode.Uri | ReadonlyArray<[vscode.Uri, ReadonlyArray<vscode.Diagnostic> | undefined]>): v is vscode.Uri {\n        return (v instanceof URI) !== undefined;\n    }\n\n    class ApiDiagnosticCollection implements vscode.DiagnosticCollection {\n        readonly name: string;\n        private readonly services: Services;\n        private readonly collection: DiagnosticCollection | undefined;\n\n        constructor(name?: string) {\n            this.name = name || 'default',\n                this.services = servicesProvider();\n            this.collection = this.services.languages.createDiagnosticCollection\n                ? this.services.languages.createDiagnosticCollection(name)\n                : undefined;\n        }\n\n        entries() {\n        }\n\n        set(entries: ReadonlyArray<[vscode.Uri, ReadonlyArray<vscode.Diagnostic> | undefined]>): void;\n        set(uri: vscode.Uri, arg1: ReadonlyArray<vscode.Diagnostic> | undefined): void;\n        set(arg0: vscode.Uri | ReadonlyArray<[vscode.Uri, ReadonlyArray<vscode.Diagnostic> | undefined]>,\n            arg1?: ReadonlyArray<vscode.Diagnostic>): void {\n\n            function toInternalSeverity(severity: vscode.DiagnosticSeverity): DiagnosticSeverity {\n                // there is a typing mismatch, trying to use the proper switch\n                // mixes error with warnings etc...\n                // just cast for now, this as the correct behaviour\n                return severity as DiagnosticSeverity;\n                // we don't want to rely on the runtime vscode module here, so we use our version\n                // of the enum\n                /*\n                switch ((severity as unknown) as VsCodeDiagnosticSeverity)\n                {\n                    case VsCodeDiagnosticSeverity.Warning:\n                        return DiagnosticSeverity.Warning;\n                    case VsCodeDiagnosticSeverity.Information:\n                        return DiagnosticSeverity.Information;\n                    case VsCodeDiagnosticSeverity.Hint:\n                        return DiagnosticSeverity.Hint;\n                    case VsCodeDiagnosticSeverity.Error:\n                        return DiagnosticSeverity.Error;\n                }\n                return DiagnosticSeverity.Error;\n                // */\n            }\n\n            if (isVsCodeUri(arg0)) {\n                if (this.collection) {\n                    if (arg1) {\n                        this.collection.set(arg0.toString(), arg1.map(diag => {\n                            return {\n                                range: diag.range,\n                                code: diag.code,\n                                source: diag.source,\n                                message: diag.message,\n                                tags: diag.tags,\n                                relatedInformation: undefined,\n                                severity: toInternalSeverity(diag.severity)\n                            };\n                        }));\n                    } else {\n                        this.collection.set(arg0.toString(), []);\n                    }\n                }\n            } else {\n                arg0.forEach(element => {\n                    this.set(element[0], element[1]);\n                });\n            }\n        }\n\n        dispose(): void {\n            if (this.collection) {\n                this.collection.dispose();\n            }\n        }\n\n        delete(uri: vscode.Uri) { }\n        clear() { }\n        forEach(callback: any, thisArg?: any) { }\n        get(uri: vscode.Uri) { return undefined; }\n        has(uri: vscode.Uri) { return false; }\n    }\n\n    const languages: typeof vscode.languages = {\n        match(selector, document): number {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            if (!DocumentIdentifier.is(document)) {\n                throw new Error('unexpected document: ' + JSON.stringify(document));\n            }\n            const services = servicesProvider();\n            const result = services.languages.match(selector, document);\n            return result ? 1 : 0;\n        },\n        registerCallHierarchyProvider(\n            selector: vscode.DocumentSelector,\n            provider: vscode.CallHierarchyProvider): vscode.Disposable {\n\n            /* empty stub for now */\n            return {\n                dispose(): void {\n                }\n            }\n        },\n        createDiagnosticCollection(name?: string): vscode.DiagnosticCollection {\n            return new ApiDiagnosticCollection(name);\n        },\n        registerCompletionItemProvider(selector, provider, ...triggerCharacters) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerCompletionItemProvider) {\n                return Disposable.create(() => { });\n            }\n            const resolveCompletionItem = provider.resolveCompletionItem;\n            return languages.registerCompletionItemProvider(selector, {\n                provideCompletionItems({ textDocument, position, context }, token) {\n                    return provider.provideCompletionItems(<any>textDocument, <any>position, token, context || {\n                        triggerKind: CompletionTriggerKind.Invoked\n                    }) as any;\n                },\n                resolveCompletionItem: resolveCompletionItem ? (item, token) => {\n                    return resolveCompletionItem(item as any, token) as any;\n                } : undefined\n            }, ...triggerCharacters);\n        },\n        registerCodeActionsProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerCodeActionsProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerCodeActionsProvider(selector, {\n                provideCodeActions({ textDocument, range, context }, token) {\n                    return provider.provideCodeActions(<any>textDocument, <any>range, <any>context, token) as any;\n                }\n            });\n        },\n        registerCodeLensProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerCodeLensProvider) {\n                return Disposable.create(() => { });\n            }\n            const resolveCodeLens = provider.resolveCodeLens;\n            return languages.registerCodeLensProvider(selector, {\n                provideCodeLenses({ textDocument }, token) {\n                    return provider.provideCodeLenses(<any>textDocument, token) as any;\n                },\n                resolveCodeLens: resolveCodeLens ? (codeLens, token) => {\n                    return resolveCodeLens(<any>codeLens, token) as any;\n                } : undefined\n            });\n        },\n        registerDefinitionProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerDefinitionProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerDefinitionProvider(selector, {\n                provideDefinition({ textDocument, position }, token) {\n                    return provider.provideDefinition(<any>textDocument, <any>position, token) as any;\n                }\n            });\n        },\n        registerImplementationProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerImplementationProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerImplementationProvider(selector, {\n                provideImplementation({ textDocument, position }, token) {\n                    return provider.provideImplementation(<any>textDocument, <any>position, token) as any;\n                }\n            });\n        },\n        registerTypeDefinitionProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerTypeDefinitionProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerTypeDefinitionProvider(selector, {\n                provideTypeDefinition({ textDocument, position }, token) {\n                    return provider.provideTypeDefinition(<any>textDocument, <any>position, token) as any;\n                }\n            });\n        },\n        registerDeclarationProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerDeclarationProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerDeclarationProvider(selector, {\n                provideDeclaration({ textDocument, position }, token) {\n                    return provider.provideDeclaration(<any>textDocument, <any>position, token) as any;\n                }\n            })\n        },\n        registerHoverProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (languages.registerHoverProvider) {\n                return languages.registerHoverProvider(selector, {\n                    provideHover({ textDocument, position }, token) {\n                        return provider.provideHover(<any>textDocument, <any>position, token) as any;\n                    }\n                });\n            }\n            return Disposable.create(() => { });\n        },\n        registerDocumentHighlightProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerDocumentHighlightProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerDocumentHighlightProvider(selector, {\n                provideDocumentHighlights({ textDocument, position }, token) {\n                    return provider.provideDocumentHighlights(<any>textDocument, <any>position, token) as any;\n                }\n            });\n        },\n        registerDocumentSymbolProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerDocumentSymbolProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerDocumentSymbolProvider(selector, {\n                provideDocumentSymbols({ textDocument }, token) {\n                    return provider.provideDocumentSymbols(<any>textDocument, token) as any;\n                }\n            });\n        },\n        registerWorkspaceSymbolProvider(provider) {\n            const { languages } = servicesProvider();\n            if (!languages.registerWorkspaceSymbolProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerWorkspaceSymbolProvider({\n                provideWorkspaceSymbols({ query }, token) {\n                    return provider.provideWorkspaceSymbols(query, token) as any;\n                }\n            });\n        },\n        registerReferenceProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerReferenceProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerReferenceProvider(selector, {\n                provideReferences({ textDocument, position, context }, token) {\n                    return provider.provideReferences(<any>textDocument, <any>position, context, token) as any\n                }\n            });\n        },\n        registerRenameProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerRenameProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerRenameProvider(selector, {\n                provideRenameEdits({ textDocument, position, newName }, token) {\n                    return provider.provideRenameEdits(<any>textDocument, <any>position, newName, token) as any\n                }\n            });\n        },\n        registerDocumentFormattingEditProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerDocumentFormattingEditProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerDocumentFormattingEditProvider(selector, {\n                provideDocumentFormattingEdits({ textDocument, options }, token) {\n                    return provider.provideDocumentFormattingEdits(<any>textDocument, <any>options, token) as any\n                }\n            });\n        },\n        registerDocumentRangeFormattingEditProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerDocumentRangeFormattingEditProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerDocumentRangeFormattingEditProvider(selector, {\n                provideDocumentRangeFormattingEdits({ textDocument, range, options }, token) {\n                    return provider.provideDocumentRangeFormattingEdits(<any>textDocument, <any>range, <any>options, token) as any\n                }\n            });\n        },\n        registerOnTypeFormattingEditProvider(selector, provider, firstTriggerCharacter, ...moreTriggerCharacter) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerOnTypeFormattingEditProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerOnTypeFormattingEditProvider(selector, {\n                provideOnTypeFormattingEdits({ textDocument, position, ch, options }, token) {\n                    return provider.provideOnTypeFormattingEdits(<any>textDocument, <any>position, ch, <any>options, token) as any\n                }\n            }, firstTriggerCharacter, ...moreTriggerCharacter);\n        },\n        registerSignatureHelpProvider(selector: vscode.DocumentSelector, provider: vscode.SignatureHelpProvider, firstItem?: string | vscode.SignatureHelpProviderMetadata, ...remaining: string[]) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerSignatureHelpProvider) {\n                return Disposable.create(() => { });\n            }\n            let triggerCharacters;\n            let retriggerCharacters;\n            if (typeof firstItem === 'string') {\n                triggerCharacters = [firstItem, ...remaining];\n            } else if (firstItem) {\n                triggerCharacters = firstItem.triggerCharacters;\n                retriggerCharacters = firstItem.retriggerCharacters;\n            }\n            return languages.registerSignatureHelpProvider(selector, {\n                triggerCharacters,\n                retriggerCharacters,\n                provideSignatureHelp({ textDocument, position }, token, context) {\n                    return provider.provideSignatureHelp(<any>textDocument, <any>position, token, <any>context) as any\n                }\n            });\n        },\n        registerDocumentLinkProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerDocumentLinkProvider) {\n                return Disposable.create(() => { });\n            }\n            const resolveDocumentLink = provider.resolveDocumentLink;\n            return languages.registerDocumentLinkProvider(selector, {\n                provideDocumentLinks({ textDocument }, token) {\n                    return provider.provideDocumentLinks(<any>textDocument, token) as any\n                },\n                resolveDocumentLink: resolveDocumentLink ? (link, token) => {\n                    return resolveDocumentLink(<any>link, token) as any\n                } : undefined\n            });\n        },\n        registerColorProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerColorProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerColorProvider(selector, {\n                provideDocumentColors({ textDocument }, token) {\n                    return provider.provideDocumentColors(<any>textDocument, token) as any\n                },\n                provideColorPresentations({ textDocument, color, range }, token) {\n                    return provider.provideColorPresentations(color, {\n                        document: <any>textDocument,\n                        range: <any>range\n                    }, token) as any\n                }\n            });\n        },\n        registerFoldingRangeProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerFoldingRangeProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerFoldingRangeProvider(selector, {\n                provideFoldingRanges({ textDocument }, token) {\n                    return provider.provideFoldingRanges(<any>textDocument, {}, token) as any;\n                }\n            });\n        },\n        registerSelectionRangeProvider(selector, provider) {\n            if (!isDocumentSelector(selector)) {\n                throw new Error('unexpected selector: ' + JSON.stringify(selector));\n            }\n            const { languages } = servicesProvider();\n            if (!languages.registerSelectionRangeProvider) {\n                return Disposable.create(() => { });\n            }\n            return languages.registerSelectionRangeProvider(selector, {\n                provideSelectionRanges({ textDocument, positions }, token) {\n                    return provider.provideSelectionRanges(<any>textDocument, <any>positions, token) as any;\n                }\n            });\n        },\n        getLanguages: unsupported,\n        setTextDocumentLanguage: unsupported,\n        getDiagnostics: unsupported,\n        setLanguageConfiguration: unsupported,\n        onDidChangeDiagnostics: unsupported\n    };\n    function showMessage(type: MessageType, arg0: any, ...arg1: any[]): Thenable<any> {\n        if (typeof arg0 !== \"string\") {\n            throw new Error('unexpected message: ' + JSON.stringify(arg0));\n        }\n        const message: string = arg0;\n        if (arg1 !== undefined && !Array.isArray(arg1)) {\n            throw new Error('unexpected actions: ' + JSON.stringify(arg1));\n        }\n        const actions: vscode.MessageItem[] = arg1 || [];\n        const { window } = servicesProvider();\n        if (!window) {\n            return Promise.resolve(undefined);\n        }\n        return window.showMessage(type, message, ...actions);\n    }\n    const window: typeof vscode.window = {\n        showInformationMessage: showMessage.bind(undefined, MessageType.Info),\n        showWarningMessage: showMessage.bind(undefined, MessageType.Warning),\n        showErrorMessage: showMessage.bind(undefined, MessageType.Error),\n        createOutputChannel(name: string): vscode.OutputChannel {\n            const { window } = servicesProvider();\n            const createOutputChannel = window ? window.createOutputChannel : undefined;\n            const channel: OutputChannel | undefined = createOutputChannel ? createOutputChannel.bind(window)(name) : undefined;\n            return {\n                name,\n                append: channel ? channel.append.bind(channel) : () => { },\n                appendLine: channel ? channel.appendLine.bind(channel) : () => { },\n                clear: unsupported,\n                show: (arg: any) => {\n                    if (arg !== undefined && typeof arg !== 'boolean') {\n                        throw new Error('unexpected preserveFocus argument: ' + JSON.stringify(arg, undefined, 4));\n                    }\n                    return channel ? channel.show(arg) : () => { }\n                },\n                hide: unsupported,\n                dispose: channel ? channel.dispose.bind(channel) : () => { }\n            };\n        },\n        withProgress: (options, task) => {\n            const { window } = servicesProvider();\n            if (window && window.withProgress) {\n                return window.withProgress(options, task);\n            }\n            return task({ report: () => { } }, new vscode.CancellationTokenSource().token);\n        },\n        showTextDocument: unsupported,\n        createTextEditorDecorationType: unsupported,\n        showQuickPick: unsupported,\n        showWorkspaceFolderPick: unsupported,\n        showOpenDialog: unsupported,\n        showSaveDialog: unsupported,\n        showInputBox: unsupported,\n        createWebviewPanel: unsupported,\n        setStatusBarMessage: unsupported,\n        withScmProgress: unsupported,\n        createStatusBarItem: unsupported,\n        createTerminal: unsupported,\n        registerTreeDataProvider: unsupported,\n        createTreeView: unsupported,\n        registerWebviewPanelSerializer: unsupported,\n        get activeTextEditor() {\n            return unsupported();\n        },\n        get visibleTextEditors() {\n            return unsupported();\n        },\n        onDidChangeActiveTextEditor: unsupported,\n        onDidChangeVisibleTextEditors: unsupported,\n        onDidChangeTextEditorSelection: unsupported,\n        onDidChangeTextEditorVisibleRanges: unsupported,\n        onDidChangeTextEditorOptions: unsupported,\n        onDidChangeTextEditorViewColumn: unsupported,\n        get terminals() {\n            return unsupported();\n        },\n        get activeTerminal() {\n            return unsupported();\n        },\n        onDidChangeActiveTerminal: unsupported,\n        onDidOpenTerminal: unsupported,\n        onDidCloseTerminal: unsupported,\n        get state() {\n            return unsupported();\n        },\n        onDidChangeWindowState: unsupported,\n        createQuickPick: unsupported,\n        createInputBox: unsupported,\n        registerUriHandler: unsupported\n    };\n    const commands: typeof vscode.commands = {\n        registerCommand(command, callback, thisArg): Disposable {\n            const { commands } = servicesProvider();\n            if (!commands) {\n                return Disposable.create(() => { });\n            }\n            return commands.registerCommand(command, callback, thisArg);\n        },\n        registerTextEditorCommand: unsupported,\n        executeCommand: unsupported,\n        getCommands: unsupported\n    };\n    class CodeDisposable implements vscode.Disposable {\n        constructor(public callOnDispose: Function) { }\n        dispose() {\n            this.callOnDispose();\n        }\n    }\n    return {\n        workspace,\n        languages,\n        window,\n        commands,\n        Uri,\n        CompletionItem,\n        CodeLens,\n        DocumentLink,\n        CodeActionKind,\n        Disposable: CodeDisposable,\n        SignatureHelpTriggerKind: SignatureHelpTriggerKind,\n        DiagnosticSeverity: ServicesModule.DiagnosticSeverity\n    } as any;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) 2018 TypeFox GmbH (http://www.typefox.io). All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport { createVSCodeApi } from \"./vscode-api\";\nimport { Services } from \"./services\";\n\nexport = createVSCodeApi(Services.get);","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset_) {\n  var offset = offset_ || 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (byteToHex[buf[offset + 0]] + byteToHex[buf[offset + 1]] + byteToHex[buf[offset + 2]] + byteToHex[buf[offset + 3]] + '-' + byteToHex[buf[offset + 4]] + byteToHex[buf[offset + 5]] + '-' + byteToHex[buf[offset + 6]] + byteToHex[buf[offset + 7]] + '-' + byteToHex[buf[offset + 8]] + byteToHex[buf[offset + 9]] + '-' + byteToHex[buf[offset + 10]] + byteToHex[buf[offset + 11]] + byteToHex[buf[offset + 12]] + byteToHex[buf[offset + 13]] + byteToHex[buf[offset + 14]] + byteToHex[buf[offset + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || bytesToUuid(b);\n}\n\nexport default v1;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = uuidToBytes(namespace);\n    }\n\n    if (!Array.isArray(value)) {\n      throw TypeError('value must be an array of bytes');\n    }\n\n    if (!Array.isArray(namespace) || namespace.length !== 16) {\n      throw TypeError('namespace must be uuid string or an Array of 16 byte values');\n    } // Per 4.3\n\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return bytesToUuid(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst c2p = require(\"./codeConverter\");\r\nconst p2c = require(\"./protocolConverter\");\r\nconst Is = require(\"./utils/is\");\r\nconst async_1 = require(\"./utils/async\");\r\nconst UUID = require(\"./utils/uuid\");\r\nconst progressPart_1 = require(\"./progressPart\");\r\n__export(require(\"vscode-languageserver-protocol\"));\r\nclass ConsoleLogger {\r\n    error(message) {\r\n        console.error(message);\r\n    }\r\n    warn(message) {\r\n        console.warn(message);\r\n    }\r\n    info(message) {\r\n        console.info(message);\r\n    }\r\n    log(message) {\r\n        console.log(message);\r\n    }\r\n}\r\nfunction createConnection(input, output, errorHandler, closeHandler) {\r\n    let logger = new ConsoleLogger();\r\n    let connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger);\r\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\r\n    connection.onClose(closeHandler);\r\n    let result = {\r\n        listen: () => connection.listen(),\r\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\r\n        onRequest: (type, handler) => connection.onRequest(Is.string(type) ? type : type.method, handler),\r\n        sendNotification: (type, params) => connection.sendNotification(Is.string(type) ? type : type.method, params),\r\n        onNotification: (type, handler) => connection.onNotification(Is.string(type) ? type : type.method, handler),\r\n        onProgress: connection.onProgress,\r\n        sendProgress: connection.sendProgress,\r\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\r\n            const defaultTraceOptions = {\r\n                sendNotification: false,\r\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\r\n            };\r\n            if (sendNotificationOrTraceOptions === void 0) {\r\n                connection.trace(value, tracer, defaultTraceOptions);\r\n            }\r\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n            else {\r\n                connection.trace(value, tracer, sendNotificationOrTraceOptions);\r\n            }\r\n        },\r\n        initialize: (params) => connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params),\r\n        shutdown: () => connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined),\r\n        exit: () => connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type),\r\n        onLogMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, handler),\r\n        onShowMessage: (handler) => connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, handler),\r\n        onTelemetry: (handler) => connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, handler),\r\n        didChangeConfiguration: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, params),\r\n        didChangeWatchedFiles: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, params),\r\n        didOpenTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, params),\r\n        didChangeTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params),\r\n        didCloseTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, params),\r\n        didSaveTextDocument: (params) => connection.sendNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, params),\r\n        onDiagnostics: (handler) => connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, handler),\r\n        dispose: () => connection.dispose()\r\n    };\r\n    return result;\r\n}\r\n/**\r\n * An action to be performed when the connection is producing errors.\r\n */\r\nvar ErrorAction;\r\n(function (ErrorAction) {\r\n    /**\r\n     * Continue running the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\r\n    /**\r\n     * Shutdown the server.\r\n     */\r\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\r\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\r\n/**\r\n * An action to be performed when the connection to a server got closed.\r\n */\r\nvar CloseAction;\r\n(function (CloseAction) {\r\n    /**\r\n     * Don't restart the server. The connection stays closed.\r\n     */\r\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\r\n    /**\r\n     * Restart the server.\r\n     */\r\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\r\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\r\nclass DefaultErrorHandler {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.restarts = [];\r\n    }\r\n    error(_error, _message, count) {\r\n        if (count && count <= 3) {\r\n            return ErrorAction.Continue;\r\n        }\r\n        return ErrorAction.Shutdown;\r\n    }\r\n    closed() {\r\n        this.restarts.push(Date.now());\r\n        if (this.restarts.length < 5) {\r\n            return CloseAction.Restart;\r\n        }\r\n        else {\r\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\r\n            if (diff <= 3 * 60 * 1000) {\r\n                vscode_1.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`);\r\n                return CloseAction.DoNotRestart;\r\n            }\r\n            else {\r\n                this.restarts.shift();\r\n                return CloseAction.Restart;\r\n            }\r\n        }\r\n    }\r\n}\r\nvar RevealOutputChannelOn;\r\n(function (RevealOutputChannelOn) {\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\r\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\r\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\r\n    State[State[\"Starting\"] = 3] = \"Starting\";\r\n    State[State[\"Running\"] = 2] = \"Running\";\r\n})(State = exports.State || (exports.State = {}));\r\nvar ClientState;\r\n(function (ClientState) {\r\n    ClientState[ClientState[\"Initial\"] = 0] = \"Initial\";\r\n    ClientState[ClientState[\"Starting\"] = 1] = \"Starting\";\r\n    ClientState[ClientState[\"StartFailed\"] = 2] = \"StartFailed\";\r\n    ClientState[ClientState[\"Running\"] = 3] = \"Running\";\r\n    ClientState[ClientState[\"Stopping\"] = 4] = \"Stopping\";\r\n    ClientState[ClientState[\"Stopped\"] = 5] = \"Stopped\";\r\n})(ClientState || (ClientState = {}));\r\nconst SupportedSymbolKinds = [\r\n    vscode_languageserver_protocol_1.SymbolKind.File,\r\n    vscode_languageserver_protocol_1.SymbolKind.Module,\r\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\r\n    vscode_languageserver_protocol_1.SymbolKind.Package,\r\n    vscode_languageserver_protocol_1.SymbolKind.Class,\r\n    vscode_languageserver_protocol_1.SymbolKind.Method,\r\n    vscode_languageserver_protocol_1.SymbolKind.Property,\r\n    vscode_languageserver_protocol_1.SymbolKind.Field,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\r\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\r\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\r\n    vscode_languageserver_protocol_1.SymbolKind.Function,\r\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\r\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\r\n    vscode_languageserver_protocol_1.SymbolKind.String,\r\n    vscode_languageserver_protocol_1.SymbolKind.Number,\r\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\r\n    vscode_languageserver_protocol_1.SymbolKind.Array,\r\n    vscode_languageserver_protocol_1.SymbolKind.Object,\r\n    vscode_languageserver_protocol_1.SymbolKind.Key,\r\n    vscode_languageserver_protocol_1.SymbolKind.Null,\r\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\r\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\r\n    vscode_languageserver_protocol_1.SymbolKind.Event,\r\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\r\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\r\n];\r\nconst SupportedCompletionItemKinds = [\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\r\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\r\n];\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nvar DynamicFeature;\r\n(function (DynamicFeature) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.register) && Is.func(candidate.unregister) && Is.func(candidate.dispose) && candidate.messages !== void 0;\r\n    }\r\n    DynamicFeature.is = is;\r\n})(DynamicFeature || (DynamicFeature = {}));\r\nclass DocumentNotifiactions {\r\n    constructor(_client, _event, _type, _middleware, _createParams, _selectorFilter) {\r\n        this._client = _client;\r\n        this._event = _event;\r\n        this._type = _type;\r\n        this._middleware = _middleware;\r\n        this._createParams = _createParams;\r\n        this._selectorFilter = _selectorFilter;\r\n        this._selectors = new Map();\r\n    }\r\n    static textDocumentFilter(selectors, textDocument) {\r\n        for (const selector of selectors) {\r\n            if (vscode_1.languages.match(selector, textDocument)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = this._event(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(data) {\r\n        if (!this._selectorFilter || this._selectorFilter(this._selectors.values(), data)) {\r\n            if (this._middleware) {\r\n                this._middleware(data, (data) => this._client.sendNotification(this._type, this._createParams(data)));\r\n            }\r\n            else {\r\n                this._client.sendNotification(this._type, this._createParams(data));\r\n            }\r\n            this.notificationSent(data);\r\n        }\r\n    }\r\n    notificationSent(_data) {\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    getProvider(document) {\r\n        for (const selector of this._selectors.values()) {\r\n            if (vscode_1.languages.match(selector, document)) {\r\n                return {\r\n                    send: (data) => {\r\n                        this.callback(data);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        throw new Error(`No provider available for the given text document`);\r\n    }\r\n}\r\nclass DidOpenTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, client.clientOptions.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    register(message, data) {\r\n        super.register(message, data);\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let documentSelector = data.registerOptions.documentSelector;\r\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\r\n            let uri = textDocument.uri.toString();\r\n            if (this._syncedDocuments.has(uri)) {\r\n                return;\r\n            }\r\n            if (vscode_1.languages.match(documentSelector, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didOpen = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                if (middleware.didOpen) {\r\n                    middleware.didOpen(textDocument, didOpen);\r\n                }\r\n                else {\r\n                    didOpen(textDocument);\r\n                }\r\n                this._syncedDocuments.set(uri, textDocument);\r\n            }\r\n        });\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\r\n    }\r\n}\r\nclass DidCloseTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client, _syncedDocuments) {\r\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, client.clientOptions.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), DocumentNotifiactions.textDocumentFilter);\r\n        this._syncedDocuments = _syncedDocuments;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\r\n            this.register(this.messages, { id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\r\n        }\r\n    }\r\n    notificationSent(textDocument) {\r\n        super.notificationSent(textDocument);\r\n        this._syncedDocuments.delete(textDocument.uri.toString());\r\n    }\r\n    unregister(id) {\r\n        let selector = this._selectors.get(id);\r\n        // The super call removed the selector from the map\r\n        // of selectors.\r\n        super.unregister(id);\r\n        let selectors = this._selectors.values();\r\n        this._syncedDocuments.forEach((textDocument) => {\r\n            if (vscode_1.languages.match(selector, textDocument) && !this._selectorFilter(selectors, textDocument)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                let didClose = (textDocument) => {\r\n                    this._client.sendNotification(this._type, this._createParams(textDocument));\r\n                };\r\n                this._syncedDocuments.delete(textDocument.uri.toString());\r\n                if (middleware.didClose) {\r\n                    middleware.didClose(textDocument, didClose);\r\n                }\r\n                else {\r\n                    didClose(textDocument);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nclass DidChangeTextDocumentFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._changeData = new Map();\r\n        this._forcingDelivery = false;\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== void 0 && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\r\n        }\r\n        this._changeData.set(data.id, {\r\n            documentSelector: data.registerOptions.documentSelector,\r\n            syncKind: data.registerOptions.syncKind\r\n        });\r\n    }\r\n    callback(event) {\r\n        // Text document changes are send for dirty changes as well. We don't\r\n        // have dirty / undirty events in the LSP so we ignore content changes\r\n        // with length zero.\r\n        if (event.contentChanges.length === 0) {\r\n            return;\r\n        }\r\n        for (const changeData of this._changeData.values()) {\r\n            if (vscode_1.languages.match(changeData.documentSelector, event.document)) {\r\n                let middleware = this._client.clientOptions.middleware;\r\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\r\n                    let params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, () => this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params));\r\n                    }\r\n                    else {\r\n                        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\r\n                    }\r\n                }\r\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\r\n                    let didChange = (event) => {\r\n                        if (this._changeDelayer) {\r\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\r\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\r\n                                this.forceDelivery();\r\n                                this._changeDelayer.uri = event.document.uri.toString();\r\n                            }\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            });\r\n                        }\r\n                        else {\r\n                            this._changeDelayer = {\r\n                                uri: event.document.uri.toString(),\r\n                                delayer: new async_1.Delayer(200)\r\n                            };\r\n                            this._changeDelayer.delayer.trigger(() => {\r\n                                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document));\r\n                            }, -1);\r\n                        }\r\n                    };\r\n                    if (middleware.didChange) {\r\n                        middleware.didChange(event, didChange);\r\n                    }\r\n                    else {\r\n                        didChange(event);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._changeData.delete(id);\r\n        if (this._changeData.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._changeDelayer = undefined;\r\n        this._forcingDelivery = false;\r\n        this._changeData.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    forceDelivery() {\r\n        if (this._forcingDelivery || !this._changeDelayer) {\r\n            return;\r\n        }\r\n        try {\r\n            this._forcingDelivery = true;\r\n            this._changeDelayer.delayer.forceDelivery();\r\n        }\r\n        finally {\r\n            this._forcingDelivery = false;\r\n        }\r\n    }\r\n    getProvider(document) {\r\n        for (const changeData of this._changeData.values()) {\r\n            if (vscode_1.languages.match(changeData.documentSelector, document)) {\r\n                return {\r\n                    send: (event) => {\r\n                        this.callback(event);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        throw new Error(`No provider available for the given text document`);\r\n    }\r\n}\r\nclass WillSaveFeature extends DocumentNotifiactions {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, client.clientOptions.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (selectors, willSaveEvent) => DocumentNotifiactions.textDocumentFilter(selectors, willSaveEvent.document));\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n}\r\nclass WillSaveWaitUntilFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._selectors = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        let value = ensure(ensure(capabilities, 'textDocument'), 'synchronization');\r\n        value.willSaveWaitUntil = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: { documentSelector: documentSelector }\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        if (!this._listener) {\r\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\r\n        }\r\n        this._selectors.set(data.id, data.registerOptions.documentSelector);\r\n    }\r\n    callback(event) {\r\n        if (DocumentNotifiactions.textDocumentFilter(this._selectors.values(), event.document)) {\r\n            let middleware = this._client.clientOptions.middleware;\r\n            let willSaveWaitUntil = (event) => {\r\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then((edits) => {\r\n                    let vEdits = this._client.protocol2CodeConverter.asTextEdits(edits);\r\n                    return vEdits === void 0 ? [] : vEdits;\r\n                });\r\n            };\r\n            event.waitUntil(middleware.willSaveWaitUntil\r\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\r\n                : willSaveWaitUntil(event));\r\n        }\r\n    }\r\n    unregister(id) {\r\n        this._selectors.delete(id);\r\n        if (this._selectors.size === 0 && this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n    dispose() {\r\n        this._selectors.clear();\r\n        if (this._listener) {\r\n            this._listener.dispose();\r\n            this._listener = undefined;\r\n        }\r\n    }\r\n}\r\nclass DidSaveTextDocumentFeature extends DocumentNotifiactions {\r\n    constructor(client) {\r\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, client.clientOptions.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), DocumentNotifiactions.textDocumentFilter);\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'textDocument'), 'synchronization').didSave = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\r\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { includeText: !!textDocumentSyncOptions.save.includeText })\r\n            });\r\n        }\r\n    }\r\n    register(method, data) {\r\n        this._includeText = !!data.registerOptions.includeText;\r\n        super.register(method, data);\r\n    }\r\n}\r\nclass FileSystemWatcherFeature {\r\n    constructor(_client, _notifyFileEvent) {\r\n        this._client = _client;\r\n        this._notifyFileEvent = _notifyFileEvent;\r\n        this._watchers = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\r\n    }\r\n    initialize(_capabilities, _documentSelector) {\r\n    }\r\n    register(_method, data) {\r\n        if (!Array.isArray(data.registerOptions.watchers)) {\r\n            return;\r\n        }\r\n        let disposeables = [];\r\n        for (let watcher of data.registerOptions.watchers) {\r\n            if (!Is.string(watcher.globPattern)) {\r\n                continue;\r\n            }\r\n            let watchCreate = true, watchChange = true, watchDelete = true;\r\n            if (watcher.kind !== void 0 && watcher.kind !== null) {\r\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\r\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\r\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\r\n            }\r\n            let fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(watcher.globPattern, !watchCreate, !watchChange, !watchDelete);\r\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete);\r\n            disposeables.push(fileSystemWatcher);\r\n        }\r\n        this._watchers.set(data.id, disposeables);\r\n    }\r\n    registerRaw(id, fileSystemWatchers) {\r\n        let disposeables = [];\r\n        for (let fileSystemWatcher of fileSystemWatchers) {\r\n            this.hookListeners(fileSystemWatcher, true, true, true, disposeables);\r\n        }\r\n        this._watchers.set(id, disposeables);\r\n    }\r\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\r\n        if (watchCreate) {\r\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\r\n            }), null, listeners);\r\n        }\r\n        if (watchChange) {\r\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\r\n            }), null, listeners);\r\n        }\r\n        if (watchDelete) {\r\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\r\n                uri: this._client.code2ProtocolConverter.asUri(resource),\r\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\r\n            }), null, listeners);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposeables = this._watchers.get(id);\r\n        if (disposeables) {\r\n            for (let disposable of disposeables) {\r\n                disposable.dispose();\r\n            }\r\n        }\r\n    }\r\n    dispose() {\r\n        this._watchers.forEach((disposeables) => {\r\n            for (let disposable of disposeables) {\r\n                disposable.dispose();\r\n            }\r\n        });\r\n        this._watchers.clear();\r\n    }\r\n}\r\nclass TextDocumentFeature {\r\n    constructor(_client, _message) {\r\n        this._client = _client;\r\n        this._message = _message;\r\n        this._registrations = new Map();\r\n    }\r\n    get messages() {\r\n        return this._message;\r\n    }\r\n    register(message, data) {\r\n        if (message.method !== this.messages.method) {\r\n            throw new Error(`Register called on wrong feature. Requested ${message.method} but reached feature ${this.messages.method}`);\r\n        }\r\n        if (!data.registerOptions.documentSelector) {\r\n            return;\r\n        }\r\n        let registration = this.registerLanguageProvider(data.registerOptions);\r\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\r\n    }\r\n    unregister(id) {\r\n        let registration = this._registrations.get(id);\r\n        if (registration !== undefined) {\r\n            registration.disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._registrations.forEach((value) => {\r\n            value.disposable.dispose();\r\n        });\r\n        this._registrations.clear();\r\n    }\r\n    getRegistration(documentSelector, capability) {\r\n        if (!capability) {\r\n            return [undefined, undefined];\r\n        }\r\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\r\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\r\n            const selector = capability.documentSelector || documentSelector;\r\n            if (selector) {\r\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\r\n            }\r\n        }\r\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\r\n            if (!documentSelector) {\r\n                return [undefined, undefined];\r\n            }\r\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\r\n            return [UUID.generateUuid(), options];\r\n        }\r\n        return [undefined, undefined];\r\n    }\r\n    getRegistrationOptions(documentSelector, capability) {\r\n        if (!documentSelector || !capability) {\r\n            return undefined;\r\n        }\r\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\r\n    }\r\n    getProvider(textDocument) {\r\n        for (const registration of this._registrations.values()) {\r\n            let selector = registration.data.registerOptions.documentSelector;\r\n            if (selector !== null && vscode_1.languages.match(selector, textDocument)) {\r\n                return registration.provider;\r\n            }\r\n        }\r\n        throw new Error(`The feature has no registration for the provided text document ${textDocument.uri.toString()}`);\r\n    }\r\n}\r\nexports.TextDocumentFeature = TextDocumentFeature;\r\nclass WorkspaceFeature {\r\n    constructor(_client, _message) {\r\n        this._client = _client;\r\n        this._message = _message;\r\n        this._registrations = new Map();\r\n    }\r\n    get messages() {\r\n        return this._message;\r\n    }\r\n    register(message, data) {\r\n        if (message.method !== this.messages.method) {\r\n            throw new Error(`Register called on wron feature. Requested ${message.method} but reached feature ${this.messages.method}`);\r\n        }\r\n        const registration = this.registerLanguageProvider(data.registerOptions);\r\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\r\n    }\r\n    unregister(id) {\r\n        let registration = this._registrations.get(id);\r\n        if (registration !== undefined) {\r\n            registration.disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        this._registrations.forEach((registration) => {\r\n            registration.disposable.dispose();\r\n        });\r\n        this._registrations.clear();\r\n    }\r\n    getProviders() {\r\n        const result = [];\r\n        for (const registration of this._registrations.values()) {\r\n            result.push(registration.provider);\r\n        }\r\n        return result;\r\n    }\r\n}\r\nclass CompletionItemFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let completion = ensure(ensure(capabilites, 'textDocument'), 'completion');\r\n        completion.dynamicRegistration = true;\r\n        completion.contextSupport = true;\r\n        completion.completionItem = {\r\n            snippetSupport: true,\r\n            commitCharactersSupport: true,\r\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\r\n            deprecatedSupport: true,\r\n            preselectSupport: true,\r\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] }\r\n        };\r\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const triggerCharacters = options.triggerCharacters || [];\r\n        const provider = {\r\n            provideCompletionItems: (document, position, token, context) => {\r\n                const client = this._client;\r\n                const middleware = this._client.clientOptions.middleware;\r\n                const provideCompletionItems = (document, position, context, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then(client.protocol2CodeConverter.asCompletionResult, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                return middleware.provideCompletionItem\r\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\r\n                    : provideCompletionItems(document, position, context, token);\r\n            },\r\n            resolveCompletionItem: options.resolveProvider\r\n                ? (item, token) => {\r\n                    const client = this._client;\r\n                    const middleware = this._client.clientOptions.middleware;\r\n                    const resolveCompletionItem = (item, token) => {\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item), token).then(client.protocol2CodeConverter.asCompletionItem, (error) => {\r\n                            client.logFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, error);\r\n                            return Promise.resolve(item);\r\n                        });\r\n                    };\r\n                    return middleware.resolveCompletionItem\r\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\r\n                        : resolveCompletionItem(item, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerCompletionItemProvider(options.documentSelector, provider, ...triggerCharacters), provider];\r\n    }\r\n}\r\nclass HoverFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const hoverCapability = (ensure(ensure(capabilites, 'textDocument'), 'hover'));\r\n        hoverCapability.dynamicRegistration = true;\r\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideHover: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideHover = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asHover, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideHover\r\n                    ? middleware.provideHover(document, position, token, provideHover)\r\n                    : provideHover(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerHoverProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass SignatureHelpFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let config = ensure(ensure(capabilites, 'textDocument'), 'signatureHelp');\r\n        config.dynamicRegistration = true;\r\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\r\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\r\n        config.contextSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: options\r\n        });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideSignatureHelp: (document, position, token, context) => {\r\n                const client = this._client;\r\n                const providerSignatureHelp = (document, position, context, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then(client.protocol2CodeConverter.asSignatureHelp, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideSignatureHelp\r\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\r\n                    : providerSignatureHelp(document, position, context, token);\r\n            }\r\n        };\r\n        let disposable;\r\n        if (options.retriggerCharacters === undefined) {\r\n            const triggerCharacters = options.triggerCharacters || [];\r\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, ...triggerCharacters);\r\n        }\r\n        else {\r\n            const metaData = {\r\n                triggerCharacters: options.triggerCharacters || [],\r\n                retriggerCharacters: options.retriggerCharacters || []\r\n            };\r\n            disposable = vscode_1.languages.registerSignatureHelpProvider(options.documentSelector, provider, metaData);\r\n        }\r\n        return [disposable, provider];\r\n    }\r\n}\r\nclass DefinitionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let definitionSupport = ensure(ensure(capabilites, 'textDocument'), 'definition');\r\n        definitionSupport.dynamicRegistration = true;\r\n        definitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDefinition: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideDefinition = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDefinition\r\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\r\n                    : provideDefinition(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDefinitionProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass ReferencesFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'references').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideReferences: (document, position, options, token) => {\r\n                const client = this._client;\r\n                const _providerReferences = (document, position, options, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then(client.protocol2CodeConverter.asReferences, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideReferences\r\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\r\n                    : _providerReferences(document, position, options, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerReferenceProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentHighlightFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentHighlights: (document, position, token) => {\r\n                const client = this._client;\r\n                const _provideDocumentHighlights = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDocumentHighlights, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentHighlights\r\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\r\n                    : _provideDocumentHighlights(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDocumentHighlightProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentSymbolFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let symbolCapabilities = ensure(ensure(capabilites, 'textDocument'), 'documentSymbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentSymbols: (document, token) => {\r\n                const client = this._client;\r\n                const _provideDocumentSymbols = (document, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then((data) => {\r\n                        if (data === null) {\r\n                            return undefined;\r\n                        }\r\n                        if (data.length === 0) {\r\n                            return [];\r\n                        }\r\n                        else {\r\n                            let element = data[0];\r\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(element)) {\r\n                                return client.protocol2CodeConverter.asDocumentSymbols(data);\r\n                            }\r\n                            else {\r\n                                return client.protocol2CodeConverter.asSymbolInformations(data);\r\n                            }\r\n                        }\r\n                    }, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentSymbols\r\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\r\n                    : _provideDocumentSymbols(document, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDocumentSymbolProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass WorkspaceSymbolFeature extends WorkspaceFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let symbolCapabilities = ensure(ensure(capabilites, 'workspace'), 'symbol');\r\n        symbolCapabilities.dynamicRegistration = true;\r\n        symbolCapabilities.symbolKind = {\r\n            valueSet: SupportedSymbolKinds\r\n        };\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.workspaceSymbolProvider) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\r\n        });\r\n    }\r\n    registerLanguageProvider(_options) {\r\n        const provider = {\r\n            provideWorkspaceSymbols: (query, token) => {\r\n                const client = this._client;\r\n                const provideWorkspaceSymbols = (query, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then(client.protocol2CodeConverter.asSymbolInformations, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideWorkspaceSymbols\r\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\r\n                    : provideWorkspaceSymbols(query, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\r\n    }\r\n}\r\nclass CodeActionFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const cap = ensure(ensure(capabilites, 'textDocument'), 'codeAction');\r\n        cap.dynamicRegistration = true;\r\n        cap.isPreferredSupport = true;\r\n        cap.codeActionLiteralSupport = {\r\n            codeActionKind: {\r\n                valueSet: [\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\r\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\r\n                ]\r\n            }\r\n        };\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideCodeActions: (document, range, context, token) => {\r\n                const client = this._client;\r\n                const _provideCodeActions = (document, range, context, token) => {\r\n                    const params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        range: client.code2ProtocolConverter.asRange(range),\r\n                        context: client.code2ProtocolConverter.asCodeActionContext(context)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\r\n                        if (values === null) {\r\n                            return undefined;\r\n                        }\r\n                        const result = [];\r\n                        for (let item of values) {\r\n                            if (vscode_languageserver_protocol_1.Command.is(item)) {\r\n                                result.push(client.protocol2CodeConverter.asCommand(item));\r\n                            }\r\n                            else {\r\n                                result.push(client.protocol2CodeConverter.asCodeAction(item));\r\n                            }\r\n                        }\r\n                        return result;\r\n                    }, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideCodeActions\r\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\r\n                    : _provideCodeActions(document, range, context, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerCodeActionsProvider(options.documentSelector, provider, (options.codeActionKinds\r\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\r\n                : undefined)), provider];\r\n    }\r\n}\r\nclass CodeLensFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'codeLens').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideCodeLenses: (document, token) => {\r\n                const client = this._client;\r\n                const provideCodeLenses = (document, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then(client.protocol2CodeConverter.asCodeLenses, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideCodeLenses\r\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\r\n                    : provideCodeLenses(document, token);\r\n            },\r\n            resolveCodeLens: (options.resolveProvider)\r\n                ? (codeLens, token) => {\r\n                    const client = this._client;\r\n                    const resolveCodeLens = (codeLens, token) => {\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then(client.protocol2CodeConverter.asCodeLens, (error) => {\r\n                            client.logFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, error);\r\n                            return codeLens;\r\n                        });\r\n                    };\r\n                    const middleware = client.clientOptions.middleware;\r\n                    return middleware.resolveCodeLens\r\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\r\n                        : resolveCodeLens(codeLens, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerCodeLensProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'formatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentFormattingEdits: (document, options, token) => {\r\n                const client = this._client;\r\n                const provideDocumentFormattingEdits = (document, options, token) => {\r\n                    const params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentFormattingEdits\r\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\r\n                    : provideDocumentFormattingEdits(document, options, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentRangeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\r\n                const client = this._client;\r\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\r\n                    let params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        range: client.code2ProtocolConverter.asRange(range),\r\n                        options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                let middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentRangeFormattingEdits\r\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\r\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentOnTypeFormattingFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\r\n                const client = this._client;\r\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\r\n                    let params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        position: client.code2ProtocolConverter.asPosition(position),\r\n                        ch: ch,\r\n                        options: client.code2ProtocolConverter.asFormattingOptions(options)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then(client.protocol2CodeConverter.asTextEdits, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideOnTypeFormattingEdits\r\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\r\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\r\n            }\r\n        };\r\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\r\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(options.documentSelector, provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\r\n    }\r\n}\r\nclass RenameFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let rename = ensure(ensure(capabilites, 'textDocument'), 'rename');\r\n        rename.dynamicRegistration = true;\r\n        rename.prepareSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        if (Is.boolean(capabilities.renameProvider)) {\r\n            options.prepareProvider = false;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideRenameEdits: (document, position, newName, token) => {\r\n                const client = this._client;\r\n                const provideRenameEdits = (document, position, newName, token) => {\r\n                    let params = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                        position: client.code2ProtocolConverter.asPosition(position),\r\n                        newName: newName\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then(client.protocol2CodeConverter.asWorkspaceEdit, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, error);\r\n                        return Promise.reject(new Error(error.message));\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideRenameEdits\r\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\r\n                    : provideRenameEdits(document, position, newName, token);\r\n            },\r\n            prepareRename: options.prepareProvider\r\n                ? (document, position, token) => {\r\n                    const client = this._client;\r\n                    const prepareRename = (document, position, token) => {\r\n                        let params = {\r\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\r\n                            position: client.code2ProtocolConverter.asPosition(position),\r\n                        };\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\r\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\r\n                                return client.protocol2CodeConverter.asRange(result);\r\n                            }\r\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\r\n                                return {\r\n                                    range: client.protocol2CodeConverter.asRange(result.range),\r\n                                    placeholder: result.placeholder\r\n                                };\r\n                            }\r\n                            // To cancel the rename vscode API expects a rejected promise.\r\n                            return Promise.reject(new Error(`The element can't be renamed.`));\r\n                        }, (error) => {\r\n                            client.logFailedRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, error);\r\n                            return Promise.reject(new Error(error.message));\r\n                        });\r\n                    };\r\n                    const middleware = client.clientOptions.middleware;\r\n                    return middleware.prepareRename\r\n                        ? middleware.prepareRename(document, position, token, prepareRename)\r\n                        : prepareRename(document, position, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerRenameProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass DocumentLinkFeature extends TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const documentLinkCapabilities = ensure(ensure(capabilites, 'textDocument'), 'documentLink');\r\n        documentLinkCapabilities.dynamicRegistration = true;\r\n        documentLinkCapabilities.tooltipSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\r\n        if (!options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: UUID.generateUuid(), registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDocumentLinks: (document, token) => {\r\n                const client = this._client;\r\n                const provideDocumentLinks = (document, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then(client.protocol2CodeConverter.asDocumentLinks, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, error);\r\n                        return Promise.resolve([]);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentLinks\r\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\r\n                    : provideDocumentLinks(document, token);\r\n            },\r\n            resolveDocumentLink: options.resolveProvider\r\n                ? (link, token) => {\r\n                    const client = this._client;\r\n                    let resolveDocumentLink = (link, token) => {\r\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then(client.protocol2CodeConverter.asDocumentLink, (error) => {\r\n                            client.logFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, error);\r\n                            return Promise.resolve(link);\r\n                        });\r\n                    };\r\n                    const middleware = client.clientOptions.middleware;\r\n                    return middleware.resolveDocumentLink\r\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\r\n                        : resolveDocumentLink(link, token);\r\n                }\r\n                : undefined\r\n        };\r\n        return [vscode_1.languages.registerDocumentLinkProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\r\n    }\r\n    initialize() {\r\n        let section = this._client.clientOptions.synchronize.configurationSection;\r\n        if (section !== void 0) {\r\n            this.register(this.messages, {\r\n                id: UUID.generateUuid(),\r\n                registerOptions: {\r\n                    section: section\r\n                }\r\n            });\r\n        }\r\n    }\r\n    register(_message, data) {\r\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\r\n        });\r\n        this._listeners.set(data.id, disposable);\r\n        if (data.registerOptions.section !== void 0) {\r\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable) {\r\n            this._listeners.delete(id);\r\n            disposable.dispose();\r\n        }\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    onDidChangeConfiguration(configurationSection, event) {\r\n        let sections;\r\n        if (Is.string(configurationSection)) {\r\n            sections = [configurationSection];\r\n        }\r\n        else {\r\n            sections = configurationSection;\r\n        }\r\n        if (sections !== void 0 && event !== void 0) {\r\n            let affected = sections.some((section) => event.affectsConfiguration(section));\r\n            if (!affected) {\r\n                return;\r\n            }\r\n        }\r\n        let didChangeConfiguration = (sections) => {\r\n            if (sections === void 0) {\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\r\n                return;\r\n            }\r\n            this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\r\n        };\r\n        let middleware = this.getMiddleware();\r\n        middleware\r\n            ? middleware(sections, didChangeConfiguration)\r\n            : didChangeConfiguration(sections);\r\n    }\r\n    extractSettingsInformation(keys) {\r\n        function ensurePath(config, path) {\r\n            let current = config;\r\n            for (let i = 0; i < path.length - 1; i++) {\r\n                let obj = current[path[i]];\r\n                if (!obj) {\r\n                    obj = Object.create(null);\r\n                    current[path[i]] = obj;\r\n                }\r\n                current = obj;\r\n            }\r\n            return current;\r\n        }\r\n        let resource = this._client.clientOptions.workspaceFolder\r\n            ? this._client.clientOptions.workspaceFolder.uri\r\n            : undefined;\r\n        let result = Object.create(null);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i];\r\n            let index = key.indexOf('.');\r\n            let config = null;\r\n            if (index >= 0) {\r\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\r\n            }\r\n            else {\r\n                config = vscode_1.workspace.getConfiguration(key, resource);\r\n            }\r\n            if (config) {\r\n                let path = keys[i].split('.');\r\n                ensurePath(result, path)[path[path.length - 1]] = config;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    getMiddleware() {\r\n        let middleware = this._client.clientOptions.middleware;\r\n        if (middleware.workspace && middleware.workspace.didChangeConfiguration) {\r\n            return middleware.workspace.didChangeConfiguration;\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\nclass ExecuteCommandFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._commands = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        ensure(ensure(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities) {\r\n        if (!capabilities.executeCommandProvider) {\r\n            return;\r\n        }\r\n        this.register(this.messages, {\r\n            id: UUID.generateUuid(),\r\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\r\n        });\r\n    }\r\n    register(_message, data) {\r\n        const client = this._client;\r\n        const middleware = client.clientOptions.middleware;\r\n        const executeCommand = (command, args) => {\r\n            let params = {\r\n                command,\r\n                arguments: args\r\n            };\r\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\r\n                client.logFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, error);\r\n            });\r\n        };\r\n        if (data.registerOptions.commands) {\r\n            const disposeables = [];\r\n            for (const command of data.registerOptions.commands) {\r\n                disposeables.push(vscode_1.commands.registerCommand(command, (...args) => {\r\n                    return middleware.executeCommand\r\n                        ? middleware.executeCommand(command, args, executeCommand)\r\n                        : executeCommand(command, args);\r\n                }));\r\n            }\r\n            this._commands.set(data.id, disposeables);\r\n        }\r\n    }\r\n    unregister(id) {\r\n        let disposeables = this._commands.get(id);\r\n        if (disposeables) {\r\n            disposeables.forEach(disposable => disposable.dispose());\r\n        }\r\n    }\r\n    dispose() {\r\n        this._commands.forEach((value) => {\r\n            value.forEach(disposable => disposable.dispose());\r\n        });\r\n        this._commands.clear();\r\n    }\r\n}\r\nvar MessageTransports;\r\n(function (MessageTransports) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\r\n    }\r\n    MessageTransports.is = is;\r\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\r\nclass OnReady {\r\n    constructor(_resolve, _reject) {\r\n        this._resolve = _resolve;\r\n        this._reject = _reject;\r\n        this._used = false;\r\n    }\r\n    get isUsed() {\r\n        return this._used;\r\n    }\r\n    resolve() {\r\n        this._used = true;\r\n        this._resolve();\r\n    }\r\n    reject(error) {\r\n        this._used = true;\r\n        this._reject(error);\r\n    }\r\n}\r\nclass BaseLanguageClient {\r\n    constructor(id, name, clientOptions) {\r\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        this._features = [];\r\n        this._method2Message = new Map();\r\n        this._dynamicFeatures = new Map();\r\n        this._id = id;\r\n        this._name = name;\r\n        clientOptions = clientOptions || {};\r\n        this._clientOptions = {\r\n            documentSelector: clientOptions.documentSelector || [],\r\n            synchronize: clientOptions.synchronize || {},\r\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\r\n            outputChannelName: clientOptions.outputChannelName || this._name,\r\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn || RevealOutputChannelOn.Error,\r\n            stdioEncoding: clientOptions.stdioEncoding || 'utf8',\r\n            initializationOptions: clientOptions.initializationOptions,\r\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\r\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\r\n            errorHandler: clientOptions.errorHandler || new DefaultErrorHandler(this._name),\r\n            middleware: clientOptions.middleware || {},\r\n            uriConverters: clientOptions.uriConverters,\r\n            workspaceFolder: clientOptions.workspaceFolder\r\n        };\r\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\r\n        this.state = ClientState.Initial;\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        this._initializeResult = undefined;\r\n        if (clientOptions.outputChannel) {\r\n            this._outputChannel = clientOptions.outputChannel;\r\n            this._disposeOutputChannel = false;\r\n        }\r\n        else {\r\n            this._outputChannel = undefined;\r\n            this._disposeOutputChannel = true;\r\n        }\r\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\r\n        this._listeners = undefined;\r\n        this._providers = undefined;\r\n        this._diagnostics = undefined;\r\n        this._fileEvents = [];\r\n        this._fileEventDelayer = new async_1.Delayer(250);\r\n        this._onReady = new Promise((resolve, reject) => {\r\n            this._onReadyCallbacks = new OnReady(resolve, reject);\r\n        });\r\n        this._onStop = undefined;\r\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\r\n        this._tracer = {\r\n            log: (messageOrDataObject, data) => {\r\n                if (Is.string(messageOrDataObject)) {\r\n                    this.logTrace(messageOrDataObject, data);\r\n                }\r\n                else {\r\n                    this.logObjectTrace(messageOrDataObject);\r\n                }\r\n            },\r\n        };\r\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\r\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined);\r\n        this._syncedDocuments = new Map();\r\n        this.registerBuiltinFeatures();\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    set state(value) {\r\n        let oldState = this.getPublicState();\r\n        this._state = value;\r\n        let newState = this.getPublicState();\r\n        if (newState !== oldState) {\r\n            this._stateChangeEmitter.fire({ oldState, newState });\r\n        }\r\n    }\r\n    getPublicState() {\r\n        if (this.state === ClientState.Running) {\r\n            return State.Running;\r\n        }\r\n        else if (this.state === ClientState.Starting) {\r\n            return State.Starting;\r\n        }\r\n        else {\r\n            return State.Stopped;\r\n        }\r\n    }\r\n    get initializeResult() {\r\n        return this._initializeResult;\r\n    }\r\n    sendRequest(type, ...params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            return this._resolvedConnection.sendRequest(type, ...params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onRequest(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            this._resolvedConnection.onRequest(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering request handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    sendNotification(type, params) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            this._resolvedConnection.sendNotification(type, params);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onNotification(type, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            this._resolvedConnection.onNotification(type, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering notification handler ${Is.string(type) ? type : type.method} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    onProgress(type, token, handler) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        try {\r\n            return this._resolvedConnection.onProgress(type, token, handler);\r\n        }\r\n        catch (error) {\r\n            this.error(`Registering progress handler for token ${token} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    sendProgress(type, token, value) {\r\n        if (!this.isConnectionActive()) {\r\n            throw new Error('Language client is not ready yet');\r\n        }\r\n        this.forceDocumentSync();\r\n        try {\r\n            this._resolvedConnection.sendProgress(type, token, value);\r\n        }\r\n        catch (error) {\r\n            this.error(`Sending progress for token ${token} failed.`, error);\r\n            throw error;\r\n        }\r\n    }\r\n    get clientOptions() {\r\n        return this._clientOptions;\r\n    }\r\n    get protocol2CodeConverter() {\r\n        return this._p2c;\r\n    }\r\n    get code2ProtocolConverter() {\r\n        return this._c2p;\r\n    }\r\n    get onTelemetry() {\r\n        return this._telemetryEmitter.event;\r\n    }\r\n    get onDidChangeState() {\r\n        return this._stateChangeEmitter.event;\r\n    }\r\n    get outputChannel() {\r\n        if (!this._outputChannel) {\r\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\r\n        }\r\n        return this._outputChannel;\r\n    }\r\n    get traceOutputChannel() {\r\n        if (this._traceOutputChannel) {\r\n            return this._traceOutputChannel;\r\n        }\r\n        return this.outputChannel;\r\n    }\r\n    get diagnostics() {\r\n        return this._diagnostics;\r\n    }\r\n    createDefaultErrorHandler() {\r\n        return new DefaultErrorHandler(this._name);\r\n    }\r\n    set trace(value) {\r\n        this._trace = value;\r\n        this.onReady().then(() => {\r\n            this.resolveConnection().then((connection) => {\r\n                connection.trace(this._trace, this._tracer, {\r\n                    sendNotification: false,\r\n                    traceFormat: this._traceFormat\r\n                });\r\n            });\r\n        }, () => {\r\n        });\r\n    }\r\n    data2String(data) {\r\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n            const responseError = data;\r\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\r\n        }\r\n        if (data instanceof Error) {\r\n            if (Is.string(data.stack)) {\r\n                return data.stack;\r\n            }\r\n            return data.message;\r\n        }\r\n        if (Is.string(data)) {\r\n            return data;\r\n        }\r\n        return data.toString();\r\n    }\r\n    info(message, data, showNotification = true) {\r\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\r\n            this.showNotificationMessage();\r\n        }\r\n    }\r\n    warn(message, data, showNotification = true) {\r\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\r\n            this.showNotificationMessage();\r\n        }\r\n    }\r\n    error(message, data, showNotification = true) {\r\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.outputChannel.appendLine(this.data2String(data));\r\n        }\r\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error) {\r\n            this.showNotificationMessage();\r\n        }\r\n    }\r\n    showNotificationMessage() {\r\n        vscode_1.window.showInformationMessage('A request has failed. See the output for more information.', 'Go to output').then(() => {\r\n            this.outputChannel.show(true);\r\n        });\r\n    }\r\n    logTrace(message, data) {\r\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\r\n        if (data) {\r\n            this.traceOutputChannel.appendLine(this.data2String(data));\r\n        }\r\n    }\r\n    logObjectTrace(data) {\r\n        if (data.isLSPMessage && data.type) {\r\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        else {\r\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\r\n        }\r\n        if (data) {\r\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\r\n        }\r\n    }\r\n    needsStart() {\r\n        return this.state === ClientState.Initial || this.state === ClientState.Stopping || this.state === ClientState.Stopped;\r\n    }\r\n    needsStop() {\r\n        return this.state === ClientState.Starting || this.state === ClientState.Running;\r\n    }\r\n    onReady() {\r\n        return this._onReady;\r\n    }\r\n    isConnectionActive() {\r\n        return this.state === ClientState.Running && !!this._resolvedConnection;\r\n    }\r\n    start() {\r\n        if (this._onReadyCallbacks.isUsed) {\r\n            this._onReady = new Promise((resolve, reject) => {\r\n                this._onReadyCallbacks = new OnReady(resolve, reject);\r\n            });\r\n        }\r\n        this._listeners = [];\r\n        this._providers = [];\r\n        // If we restart then the diagnostics collection is reused.\r\n        if (!this._diagnostics) {\r\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\r\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\r\n                : vscode_1.languages.createDiagnosticCollection();\r\n        }\r\n        this.state = ClientState.Starting;\r\n        this.resolveConnection().then((connection) => {\r\n            connection.onLogMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        this.error(message.message, undefined, false);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        this.warn(message.message, undefined, false);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        this.info(message.message, undefined, false);\r\n                        break;\r\n                    default:\r\n                        this.outputChannel.appendLine(message.message);\r\n                }\r\n            });\r\n            connection.onShowMessage((message) => {\r\n                switch (message.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        vscode_1.window.showErrorMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        vscode_1.window.showWarningMessage(message.message);\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                        break;\r\n                    default:\r\n                        vscode_1.window.showInformationMessage(message.message);\r\n                }\r\n            });\r\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\r\n                let messageFunc;\r\n                switch (params.type) {\r\n                    case vscode_languageserver_protocol_1.MessageType.Error:\r\n                        messageFunc = vscode_1.window.showErrorMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\r\n                        messageFunc = vscode_1.window.showWarningMessage;\r\n                        break;\r\n                    case vscode_languageserver_protocol_1.MessageType.Info:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                        break;\r\n                    default:\r\n                        messageFunc = vscode_1.window.showInformationMessage;\r\n                }\r\n                let actions = params.actions || [];\r\n                return messageFunc(params.message, ...actions);\r\n            });\r\n            connection.onTelemetry((data) => {\r\n                this._telemetryEmitter.fire(data);\r\n            });\r\n            connection.listen();\r\n            // Error is handled in the initialize call.\r\n            return this.initialize(connection);\r\n        }).then(undefined, (error) => {\r\n            this.state = ClientState.StartFailed;\r\n            this._onReadyCallbacks.reject(error);\r\n            this.error('Starting client failed', error);\r\n            vscode_1.window.showErrorMessage(`Couldn't start client ${this._name}`);\r\n        });\r\n        return new vscode_1.Disposable(() => {\r\n            if (this.needsStop()) {\r\n                this.stop();\r\n            }\r\n        });\r\n    }\r\n    resolveConnection() {\r\n        if (!this._connectionPromise) {\r\n            this._connectionPromise = this.createConnection();\r\n        }\r\n        return this._connectionPromise;\r\n    }\r\n    initialize(connection) {\r\n        this.refreshTrace(connection, false);\r\n        let initOption = this._clientOptions.initializationOptions;\r\n        let rootPath = this._clientOptions.workspaceFolder\r\n            ? this._clientOptions.workspaceFolder.uri.fsPath\r\n            : this._clientGetRootPath();\r\n        let initParams = {\r\n            processId: process.pid,\r\n            clientInfo: {\r\n                name: 'vscode',\r\n                version: vscode_1.version\r\n            },\r\n            rootPath: rootPath ? rootPath : null,\r\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\r\n            capabilities: this.computeClientCapabilities(),\r\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\r\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\r\n            workspaceFolders: null\r\n        };\r\n        this.fillInitializeParams(initParams);\r\n        if (this._clientOptions.progressOnInitialization) {\r\n            const token = UUID.generateUuid();\r\n            const part = new progressPart_1.ProgressPart(connection, token);\r\n            initParams.workDoneToken = token;\r\n            return this.doInitialize(connection, initParams).then((result) => {\r\n                part.done();\r\n                return result;\r\n            }, (error) => {\r\n                part.cancel();\r\n                throw error;\r\n            });\r\n        }\r\n        else {\r\n            return this.doInitialize(connection, initParams);\r\n        }\r\n    }\r\n    doInitialize(connection, initParams) {\r\n        return connection.initialize(initParams).then((result) => {\r\n            this._resolvedConnection = connection;\r\n            this._initializeResult = result;\r\n            this.state = ClientState.Running;\r\n            let textDocumentSyncOptions = undefined;\r\n            if (Is.number(result.capabilities.textDocumentSync)) {\r\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: false,\r\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\r\n                        save: undefined\r\n                    };\r\n                }\r\n                else {\r\n                    textDocumentSyncOptions = {\r\n                        openClose: true,\r\n                        change: result.capabilities.textDocumentSync,\r\n                        save: {\r\n                            includeText: false\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n            else if (result.capabilities.textDocumentSync !== void 0 && result.capabilities.textDocumentSync !== null) {\r\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\r\n            }\r\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\r\n            connection.onDiagnostics(params => this.handleDiagnostics(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\r\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\r\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\r\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\r\n            connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\r\n            this.hookFileEvents(connection);\r\n            this.hookConfigurationChanged(connection);\r\n            this.initializeFeatures(connection);\r\n            this._onReadyCallbacks.resolve();\r\n            return result;\r\n        }).then(undefined, (error) => {\r\n            if (this._clientOptions.initializationFailedHandler) {\r\n                if (this._clientOptions.initializationFailedHandler(error)) {\r\n                    this.initialize(connection);\r\n                }\r\n                else {\r\n                    this.stop();\r\n                    this._onReadyCallbacks.reject(error);\r\n                }\r\n            }\r\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\r\n                vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\r\n                    if (item && item.id === 'retry') {\r\n                        this.initialize(connection);\r\n                    }\r\n                    else {\r\n                        this.stop();\r\n                        this._onReadyCallbacks.reject(error);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (error && error.message) {\r\n                    vscode_1.window.showErrorMessage(error.message);\r\n                }\r\n                this.error('Server initialization failed.', error);\r\n                this.stop();\r\n                this._onReadyCallbacks.reject(error);\r\n            }\r\n            throw error;\r\n        });\r\n    }\r\n    _clientGetRootPath() {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        if (!folders || folders.length === 0) {\r\n            return undefined;\r\n        }\r\n        let folder = folders[0];\r\n        if (folder.uri.scheme === 'file') {\r\n            return folder.uri.fsPath;\r\n        }\r\n        return undefined;\r\n    }\r\n    stop() {\r\n        this._initializeResult = undefined;\r\n        if (!this._connectionPromise) {\r\n            this.state = ClientState.Stopped;\r\n            return Promise.resolve();\r\n        }\r\n        if (this.state === ClientState.Stopping && this._onStop) {\r\n            return this._onStop;\r\n        }\r\n        this.state = ClientState.Stopping;\r\n        this.cleanUp(false);\r\n        // unhook listeners\r\n        return this._onStop = this.resolveConnection().then(connection => {\r\n            return connection.shutdown().then(() => {\r\n                connection.exit();\r\n                connection.dispose();\r\n                this.state = ClientState.Stopped;\r\n                this.cleanUpChannel();\r\n                this._onStop = undefined;\r\n                this._connectionPromise = undefined;\r\n                this._resolvedConnection = undefined;\r\n            });\r\n        });\r\n    }\r\n    cleanUp(channel = true, diagnostics = true) {\r\n        if (this._listeners) {\r\n            this._listeners.forEach(listener => listener.dispose());\r\n            this._listeners = undefined;\r\n        }\r\n        if (this._providers) {\r\n            this._providers.forEach(provider => provider.dispose());\r\n            this._providers = undefined;\r\n        }\r\n        if (this._syncedDocuments) {\r\n            this._syncedDocuments.clear();\r\n        }\r\n        for (let handler of this._dynamicFeatures.values()) {\r\n            handler.dispose();\r\n        }\r\n        if (channel) {\r\n            this.cleanUpChannel();\r\n        }\r\n        if (diagnostics && this._diagnostics) {\r\n            this._diagnostics.dispose();\r\n            this._diagnostics = undefined;\r\n        }\r\n    }\r\n    cleanUpChannel() {\r\n        if (this._outputChannel && this._disposeOutputChannel) {\r\n            this._outputChannel.dispose();\r\n            this._outputChannel = undefined;\r\n        }\r\n    }\r\n    notifyFileEvent(event) {\r\n        var _a, _b;\r\n        const client = this;\r\n        function didChangeWatchedFile(event) {\r\n            client._fileEvents.push(event);\r\n            client._fileEventDelayer.trigger(() => {\r\n                client.onReady().then(() => {\r\n                    client.resolveConnection().then(connection => {\r\n                        if (client.isConnectionActive()) {\r\n                            client.forceDocumentSync();\r\n                            connection.didChangeWatchedFiles({ changes: client._fileEvents });\r\n                        }\r\n                        client._fileEvents = [];\r\n                    });\r\n                }, (error) => {\r\n                    client.error(`Notify file events failed.`, error);\r\n                });\r\n            });\r\n        }\r\n        const workSpaceMiddleware = (_a = this.clientOptions.middleware) === null || _a === void 0 ? void 0 : _a.workspace;\r\n        ((_b = workSpaceMiddleware) === null || _b === void 0 ? void 0 : _b.didChangeWatchedFile) ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event);\r\n    }\r\n    forceDocumentSync() {\r\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method).forceDelivery();\r\n    }\r\n    handleDiagnostics(params) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        let uri = this._p2c.asUri(params.uri);\r\n        let diagnostics = this._p2c.asDiagnostics(params.diagnostics);\r\n        let middleware = this.clientOptions.middleware;\r\n        if (middleware.handleDiagnostics) {\r\n            middleware.handleDiagnostics(uri, diagnostics, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\r\n        }\r\n        else {\r\n            this.setDiagnostics(uri, diagnostics);\r\n        }\r\n    }\r\n    setDiagnostics(uri, diagnostics) {\r\n        if (!this._diagnostics) {\r\n            return;\r\n        }\r\n        this._diagnostics.set(uri, diagnostics);\r\n    }\r\n    createConnection() {\r\n        let errorHandler = (error, message, count) => {\r\n            this.handleConnectionError(error, message, count);\r\n        };\r\n        let closeHandler = () => {\r\n            this.handleConnectionClosed();\r\n        };\r\n        return this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8').then((transports) => {\r\n            return createConnection(transports.reader, transports.writer, errorHandler, closeHandler);\r\n        });\r\n    }\r\n    handleConnectionClosed() {\r\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\r\n        if (this.state === ClientState.Stopping || this.state === ClientState.Stopped) {\r\n            return;\r\n        }\r\n        try {\r\n            if (this._resolvedConnection) {\r\n                this._resolvedConnection.dispose();\r\n            }\r\n        }\r\n        catch (error) {\r\n            // Disposing a connection could fail if error cases.\r\n        }\r\n        let action = CloseAction.DoNotRestart;\r\n        try {\r\n            action = this._clientOptions.errorHandler.closed();\r\n        }\r\n        catch (error) {\r\n            // Ignore errors coming from the error handler.\r\n        }\r\n        this._connectionPromise = undefined;\r\n        this._resolvedConnection = undefined;\r\n        if (action === CloseAction.DoNotRestart) {\r\n            this.error('Connection to server got closed. Server will not be restarted.');\r\n            this.state = ClientState.Stopped;\r\n            this.cleanUp(false, true);\r\n        }\r\n        else if (action === CloseAction.Restart) {\r\n            this.info('Connection to server got closed. Server will restart.');\r\n            this.cleanUp(false, false);\r\n            this.state = ClientState.Initial;\r\n            this.start();\r\n        }\r\n    }\r\n    handleConnectionError(error, message, count) {\r\n        let action = this._clientOptions.errorHandler.error(error, message, count);\r\n        if (action === ErrorAction.Shutdown) {\r\n            this.error('Connection to server is erroring. Shutting down server.');\r\n            this.stop();\r\n        }\r\n    }\r\n    hookConfigurationChanged(connection) {\r\n        vscode_1.workspace.onDidChangeConfiguration(() => {\r\n            this.refreshTrace(connection, true);\r\n        });\r\n    }\r\n    refreshTrace(connection, sendNotification = false) {\r\n        let config = vscode_1.workspace.getConfiguration(this._id);\r\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\r\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\r\n        if (config) {\r\n            const traceConfig = config.get('trace.server', 'off');\r\n            if (typeof traceConfig === 'string') {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\r\n            }\r\n            else {\r\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\r\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\r\n            }\r\n        }\r\n        this._trace = trace;\r\n        this._traceFormat = traceFormat;\r\n        connection.trace(this._trace, this._tracer, {\r\n            sendNotification,\r\n            traceFormat: this._traceFormat\r\n        });\r\n    }\r\n    hookFileEvents(_connection) {\r\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\r\n        if (!fileEvents) {\r\n            return;\r\n        }\r\n        let watchers;\r\n        if (Is.array(fileEvents)) {\r\n            watchers = fileEvents;\r\n        }\r\n        else {\r\n            watchers = [fileEvents];\r\n        }\r\n        if (!watchers) {\r\n            return;\r\n        }\r\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\r\n    }\r\n    registerFeatures(features) {\r\n        for (let feature of features) {\r\n            this.registerFeature(feature);\r\n        }\r\n    }\r\n    registerFeature(feature) {\r\n        this._features.push(feature);\r\n        if (DynamicFeature.is(feature)) {\r\n            let messages = feature.messages;\r\n            if (Array.isArray(messages)) {\r\n                for (let message of messages) {\r\n                    this._method2Message.set(message.method, message);\r\n                    this._dynamicFeatures.set(message.method, feature);\r\n                }\r\n            }\r\n            else {\r\n                this._method2Message.set(messages.method, messages);\r\n                this._dynamicFeatures.set(messages.method, feature);\r\n            }\r\n        }\r\n    }\r\n    getFeature(request) {\r\n        return this._dynamicFeatures.get(request);\r\n    }\r\n    registerBuiltinFeatures() {\r\n        this.registerFeature(new ConfigurationFeature(this));\r\n        this.registerFeature(new DidOpenTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new DidChangeTextDocumentFeature(this));\r\n        this.registerFeature(new WillSaveFeature(this));\r\n        this.registerFeature(new WillSaveWaitUntilFeature(this));\r\n        this.registerFeature(new DidSaveTextDocumentFeature(this));\r\n        this.registerFeature(new DidCloseTextDocumentFeature(this, this._syncedDocuments));\r\n        this.registerFeature(new FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\r\n        this.registerFeature(new CompletionItemFeature(this));\r\n        this.registerFeature(new HoverFeature(this));\r\n        this.registerFeature(new SignatureHelpFeature(this));\r\n        this.registerFeature(new DefinitionFeature(this));\r\n        this.registerFeature(new ReferencesFeature(this));\r\n        this.registerFeature(new DocumentHighlightFeature(this));\r\n        this.registerFeature(new DocumentSymbolFeature(this));\r\n        this.registerFeature(new WorkspaceSymbolFeature(this));\r\n        this.registerFeature(new CodeActionFeature(this));\r\n        this.registerFeature(new CodeLensFeature(this));\r\n        this.registerFeature(new DocumentFormattingFeature(this));\r\n        this.registerFeature(new DocumentRangeFormattingFeature(this));\r\n        this.registerFeature(new DocumentOnTypeFormattingFeature(this));\r\n        this.registerFeature(new RenameFeature(this));\r\n        this.registerFeature(new DocumentLinkFeature(this));\r\n        this.registerFeature(new ExecuteCommandFeature(this));\r\n    }\r\n    fillInitializeParams(params) {\r\n        for (let feature of this._features) {\r\n            if (Is.func(feature.fillInitializeParams)) {\r\n                feature.fillInitializeParams(params);\r\n            }\r\n        }\r\n    }\r\n    computeClientCapabilities() {\r\n        let result = {};\r\n        ensure(result, 'workspace').applyEdit = true;\r\n        let workspaceEdit = ensure(ensure(result, 'workspace'), 'workspaceEdit');\r\n        workspaceEdit.documentChanges = true;\r\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\r\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\r\n        let diagnostics = ensure(ensure(result, 'textDocument'), 'publishDiagnostics');\r\n        diagnostics.relatedInformation = true;\r\n        diagnostics.versionSupport = false;\r\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\r\n        for (let feature of this._features) {\r\n            feature.fillClientCapabilities(result);\r\n        }\r\n        return result;\r\n    }\r\n    initializeFeatures(_connection) {\r\n        let documentSelector = this._clientOptions.documentSelector;\r\n        for (let feature of this._features) {\r\n            feature.initialize(this._capabilities, documentSelector);\r\n        }\r\n    }\r\n    handleRegistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (let registration of params.registrations) {\r\n                const feature = this._dynamicFeatures.get(registration.method);\r\n                if (!feature) {\r\n                    reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\r\n                    return;\r\n                }\r\n                const options = registration.registerOptions || {};\r\n                options.documentSelector = options.documentSelector || this._clientOptions.documentSelector;\r\n                const data = {\r\n                    id: registration.id,\r\n                    registerOptions: options\r\n                };\r\n                feature.register(this._method2Message.get(registration.method), data);\r\n            }\r\n            resolve();\r\n        });\r\n    }\r\n    handleUnregistrationRequest(params) {\r\n        return new Promise((resolve, reject) => {\r\n            for (let unregistration of params.unregisterations) {\r\n                const feature = this._dynamicFeatures.get(unregistration.method);\r\n                if (!feature) {\r\n                    reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\r\n                    return;\r\n                }\r\n                feature.unregister(unregistration.id);\r\n            }\r\n            resolve();\r\n        });\r\n    }\r\n    handleApplyWorkspaceEdit(params) {\r\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\r\n        // However doing it here adds some safety since the server can lag more behind then an extension.\r\n        let workspaceEdit = params.edit;\r\n        let openTextDocuments = new Map();\r\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\r\n        let versionMismatch = false;\r\n        if (workspaceEdit.documentChanges) {\r\n            for (const change of workspaceEdit.documentChanges) {\r\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\r\n                    let textDocument = openTextDocuments.get(change.textDocument.uri);\r\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\r\n                        versionMismatch = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (versionMismatch) {\r\n            return Promise.resolve({ applied: false });\r\n        }\r\n        return Is.asPromise(vscode_1.workspace.applyEdit(this._p2c.asWorkspaceEdit(params.edit)).then((value) => { return { applied: value }; }));\r\n    }\r\n    logFailedRequest(type, error) {\r\n        // If we get a request cancel or a content modified don't log anything.\r\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError && (error.code === vscode_languageserver_protocol_1.ErrorCodes.RequestCancelled || error.code === vscode_languageserver_protocol_1.ErrorCodes.ContentModified)) {\r\n            return;\r\n        }\r\n        this.error(`Request ${type.method} failed.`, error);\r\n    }\r\n}\r\nexports.BaseLanguageClient = BaseLanguageClient;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nconst proto = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nfunction createConverter(uriConverter) {\r\n    const nullConverter = (value) => value.toString();\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri)\r\n        };\r\n    }\r\n    function asVersionedTextDocumentIdentifier(textDocument) {\r\n        return {\r\n            uri: _uriConverter(textDocument.uri),\r\n            version: textDocument.version\r\n        };\r\n    }\r\n    function asOpenTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: {\r\n                uri: _uriConverter(textDocument.uri),\r\n                languageId: textDocument.languageId,\r\n                version: textDocument.version,\r\n                text: textDocument.getText()\r\n            }\r\n        };\r\n    }\r\n    function isTextDocumentChangeEvent(value) {\r\n        let candidate = value;\r\n        return !!candidate.document && !!candidate.contentChanges;\r\n    }\r\n    function isTextDocument(value) {\r\n        let candidate = value;\r\n        return !!candidate.uri && !!candidate.version;\r\n    }\r\n    function asChangeTextDocumentParams(arg) {\r\n        if (isTextDocument(arg)) {\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(arg.uri),\r\n                    version: arg.version\r\n                },\r\n                contentChanges: [{ text: arg.getText() }]\r\n            };\r\n            return result;\r\n        }\r\n        else if (isTextDocumentChangeEvent(arg)) {\r\n            let document = arg.document;\r\n            let result = {\r\n                textDocument: {\r\n                    uri: _uriConverter(document.uri),\r\n                    version: document.version\r\n                },\r\n                contentChanges: arg.contentChanges.map((change) => {\r\n                    let range = change.range;\r\n                    return {\r\n                        range: {\r\n                            start: { line: range.start.line, character: range.start.character },\r\n                            end: { line: range.end.line, character: range.end.character }\r\n                        },\r\n                        rangeLength: change.rangeLength,\r\n                        text: change.text\r\n                    };\r\n                })\r\n            };\r\n            return result;\r\n        }\r\n        else {\r\n            throw Error('Unsupported text document change parameter');\r\n        }\r\n    }\r\n    function asCloseTextDocumentParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\r\n        let result = {\r\n            textDocument: asVersionedTextDocumentIdentifier(textDocument)\r\n        };\r\n        if (includeContent) {\r\n            result.text = textDocument.getText();\r\n        }\r\n        return result;\r\n    }\r\n    function asTextDocumentSaveReason(reason) {\r\n        switch (reason) {\r\n            case code.TextDocumentSaveReason.Manual:\r\n                return proto.TextDocumentSaveReason.Manual;\r\n            case code.TextDocumentSaveReason.AfterDelay:\r\n                return proto.TextDocumentSaveReason.AfterDelay;\r\n            case code.TextDocumentSaveReason.FocusOut:\r\n                return proto.TextDocumentSaveReason.FocusOut;\r\n        }\r\n        return proto.TextDocumentSaveReason.Manual;\r\n    }\r\n    function asWillSaveTextDocumentParams(event) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(event.document),\r\n            reason: asTextDocumentSaveReason(event.reason)\r\n        };\r\n    }\r\n    function asTextDocumentPositionParams(textDocument, position) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position)\r\n        };\r\n    }\r\n    function asCompletionTriggerKind(triggerKind) {\r\n        switch (triggerKind) {\r\n            case code.CompletionTriggerKind.TriggerCharacter:\r\n                return proto.CompletionTriggerKind.TriggerCharacter;\r\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\r\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\r\n            default:\r\n                return proto.CompletionTriggerKind.Invoked;\r\n        }\r\n    }\r\n    function asCompletionParams(textDocument, position, context) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: {\r\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\r\n                triggerCharacter: context.triggerCharacter\r\n            }\r\n        };\r\n    }\r\n    function asSignatureHelpTriggerKind(triggerKind) {\r\n        switch (triggerKind) {\r\n            case code.SignatureHelpTriggerKind.Invoke:\r\n                return proto.SignatureHelpTriggerKind.Invoked;\r\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\r\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\r\n            case code.SignatureHelpTriggerKind.ContentChange:\r\n                return proto.SignatureHelpTriggerKind.ContentChange;\r\n        }\r\n    }\r\n    function asParameterInformation(value) {\r\n        // We leave the documentation out on purpose since it usually adds no\r\n        // value for the server.\r\n        return {\r\n            label: value.label\r\n        };\r\n    }\r\n    function asParameterInformations(values) {\r\n        return values.map(asParameterInformation);\r\n    }\r\n    function asSignatureInformation(value) {\r\n        // We leave the documentation out on purpose since it usually adds no\r\n        // value for the server.\r\n        return {\r\n            label: value.label,\r\n            parameters: asParameterInformations(value.parameters)\r\n        };\r\n    }\r\n    function asSignatureInformations(values) {\r\n        return values.map(asSignatureInformation);\r\n    }\r\n    function asSignatureHelp(value) {\r\n        if (value === undefined) {\r\n            return value;\r\n        }\r\n        return {\r\n            signatures: asSignatureInformations(value.signatures),\r\n            activeSignature: value.activeSignature,\r\n            activeParameter: value.activeParameter\r\n        };\r\n    }\r\n    function asSignatureHelpParams(textDocument, position, context) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: {\r\n                isRetrigger: context.isRetrigger,\r\n                triggerCharacter: context.triggerCharacter,\r\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\r\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\r\n            }\r\n        };\r\n    }\r\n    function asWorkerPosition(position) {\r\n        return { line: position.line, character: position.character };\r\n    }\r\n    function asPosition(value) {\r\n        if (value === undefined || value === null) {\r\n            return value;\r\n        }\r\n        return { line: value.line, character: value.character };\r\n    }\r\n    function asPositions(value) {\r\n        let result = [];\r\n        for (let elem of value) {\r\n            result.push(asPosition(elem));\r\n        }\r\n        return result;\r\n    }\r\n    function isInsertReplace(value) {\r\n        const candidate = value;\r\n        return candidate && !!candidate.inserting && !!candidate.replacing;\r\n    }\r\n    function asRange(value) {\r\n        if (value === undefined || value === null) {\r\n            return value;\r\n        }\r\n        // The LSP has no support yet for insert replace. So this can never happen.\r\n        if (isInsertReplace(value)) {\r\n            throw new Error(`Receving unknown insert replace range.`);\r\n        }\r\n        return { start: asPosition(value.start), end: asPosition(value.end) };\r\n    }\r\n    function asLocation(value) {\r\n        if (value === undefined || value === null) {\r\n            return value;\r\n        }\r\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        switch (value) {\r\n            case code.DiagnosticSeverity.Error:\r\n                return proto.DiagnosticSeverity.Error;\r\n            case code.DiagnosticSeverity.Warning:\r\n                return proto.DiagnosticSeverity.Warning;\r\n            case code.DiagnosticSeverity.Information:\r\n                return proto.DiagnosticSeverity.Information;\r\n            case code.DiagnosticSeverity.Hint:\r\n                return proto.DiagnosticSeverity.Hint;\r\n        }\r\n    }\r\n    function asDiagnosticTags(tags) {\r\n        if (!tags) {\r\n            return undefined;\r\n        }\r\n        let result = [];\r\n        for (let tag of tags) {\r\n            let converted = asDiagnosticTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result.length > 0 ? result : undefined;\r\n    }\r\n    function asDiagnosticTag(tag) {\r\n        switch (tag) {\r\n            case code.DiagnosticTag.Unnecessary:\r\n                return proto.DiagnosticTag.Unnecessary;\r\n            case code.DiagnosticTag.Deprecated:\r\n                return proto.DiagnosticTag.Deprecated;\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n    function asRelatedInformation(item) {\r\n        return {\r\n            message: item.message,\r\n            location: asLocation(item.location)\r\n        };\r\n    }\r\n    function asRelatedInformations(items) {\r\n        return items.map(asRelatedInformation);\r\n    }\r\n    function asDiagnostic(item) {\r\n        let result = proto.Diagnostic.create(asRange(item.range), item.message);\r\n        if (Is.number(item.severity)) {\r\n            result.severity = asDiagnosticSeverity(item.severity);\r\n        }\r\n        if (Is.number(item.code) || Is.string(item.code)) {\r\n            result.code = item.code;\r\n        }\r\n        if (Array.isArray(item.tags)) {\r\n            result.tags = asDiagnosticTags(item.tags);\r\n        }\r\n        if (item.relatedInformation) {\r\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\r\n        }\r\n        if (item.source) {\r\n            result.source = item.source;\r\n        }\r\n        return result;\r\n    }\r\n    function asDiagnostics(items) {\r\n        if (items === undefined || items === null) {\r\n            return items;\r\n        }\r\n        return items.map(asDiagnostic);\r\n    }\r\n    function asDocumentation(format, documentation) {\r\n        switch (format) {\r\n            case '$string':\r\n                return documentation;\r\n            case proto.MarkupKind.PlainText:\r\n                return { kind: format, value: documentation };\r\n            case proto.MarkupKind.Markdown:\r\n                return { kind: format, value: documentation.value };\r\n            default:\r\n                return `Unsupported Markup content received. Kind is: ${format}`;\r\n        }\r\n    }\r\n    function asCompletionItemTag(tag) {\r\n        switch (tag) {\r\n            case code.CompletionItemTag.Deprecated:\r\n                return proto.CompletionItemTag.Deprecated;\r\n        }\r\n        return undefined;\r\n    }\r\n    function asCompletionItemTags(tags) {\r\n        if (tags === undefined) {\r\n            return tags;\r\n        }\r\n        const result = [];\r\n        for (let tag of tags) {\r\n            const converted = asCompletionItemTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionItemKind(value, original) {\r\n        if (original !== undefined) {\r\n            return original;\r\n        }\r\n        return value + 1;\r\n    }\r\n    function asCompletionItem(item) {\r\n        let result = { label: item.label };\r\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        // We only send items back we created. So this can't be something else than\r\n        // a string right now.\r\n        if (item.documentation) {\r\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\r\n                result.documentation = item.documentation;\r\n            }\r\n            else {\r\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\r\n            }\r\n        }\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        fillPrimaryInsertText(result, item);\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (item.commitCharacters) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        const tags = asCompletionItemTags(item.tags);\r\n        if (protocolItem) {\r\n            if (protocolItem.data !== undefined) {\r\n                result.data = protocolItem.data;\r\n            }\r\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\r\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\r\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\r\n                    if (index !== -1) {\r\n                        tags.splice(index, 1);\r\n                    }\r\n                }\r\n                result.deprecated = protocolItem.deprecated;\r\n            }\r\n        }\r\n        if (tags !== undefined && tags.length > 0) {\r\n            result.tags = tags;\r\n        }\r\n        return result;\r\n    }\r\n    function fillPrimaryInsertText(target, source) {\r\n        let format = proto.InsertTextFormat.PlainText;\r\n        let text = undefined;\r\n        let range = undefined;\r\n        if (source.textEdit) {\r\n            text = source.textEdit.newText;\r\n            range = asRange(source.textEdit.range);\r\n        }\r\n        else if (source.insertText instanceof code.SnippetString) {\r\n            format = proto.InsertTextFormat.Snippet;\r\n            text = source.insertText.value;\r\n        }\r\n        else {\r\n            text = source.insertText;\r\n        }\r\n        if (source.range) {\r\n            range = asRange(source.range);\r\n        }\r\n        target.insertTextFormat = format;\r\n        if (source.fromEdit && text !== undefined && range !== undefined) {\r\n            target.textEdit = { newText: text, range: range };\r\n        }\r\n        else {\r\n            target.insertText = text;\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        return { range: asRange(edit.range), newText: edit.newText };\r\n    }\r\n    function asTextEdits(edits) {\r\n        if (edits === undefined || edits === null) {\r\n            return edits;\r\n        }\r\n        return edits.map(asTextEdit);\r\n    }\r\n    function asSymbolKind(item) {\r\n        if (item <= code.SymbolKind.TypeParameter) {\r\n            // Symbol kind is one based in the protocol and zero based in code.\r\n            return (item + 1);\r\n        }\r\n        return proto.SymbolKind.Property;\r\n    }\r\n    function asSymbolTag(item) {\r\n        return item;\r\n    }\r\n    function asSymbolTags(items) {\r\n        return items.map(asSymbolTag);\r\n    }\r\n    function asReferenceParams(textDocument, position, options) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument),\r\n            position: asWorkerPosition(position),\r\n            context: { includeDeclaration: options.includeDeclaration }\r\n        };\r\n    }\r\n    function asCodeActionContext(context) {\r\n        if (context === undefined || context === null) {\r\n            return context;\r\n        }\r\n        let only;\r\n        if (context.only && Is.string(context.only.value)) {\r\n            only = [context.only.value];\r\n        }\r\n        return proto.CodeActionContext.create(asDiagnostics(context.diagnostics), only);\r\n    }\r\n    function asCommand(item) {\r\n        let result = proto.Command.create(item.title, item.command);\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        let result = proto.CodeLens.create(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item instanceof protocolCodeLens_1.default) {\r\n            if (item.data) {\r\n                result.data = item.data;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function asFormattingOptions(item) {\r\n        return { tabSize: item.tabSize, insertSpaces: item.insertSpaces };\r\n    }\r\n    function asDocumentSymbolParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asCodeLensParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    function asDocumentLink(item) {\r\n        let result = proto.DocumentLink.create(asRange(item.range));\r\n        if (item.target) {\r\n            result.target = asUri(item.target);\r\n        }\r\n        if (item.tooltip !== undefined) {\r\n            result.tooltip = item.tooltip;\r\n        }\r\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\r\n        if (protocolItem && protocolItem.data) {\r\n            result.data = protocolItem.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentLinkParams(textDocument) {\r\n        return {\r\n            textDocument: asTextDocumentIdentifier(textDocument)\r\n        };\r\n    }\r\n    return {\r\n        asUri,\r\n        asTextDocumentIdentifier,\r\n        asVersionedTextDocumentIdentifier,\r\n        asOpenTextDocumentParams,\r\n        asChangeTextDocumentParams,\r\n        asCloseTextDocumentParams,\r\n        asSaveTextDocumentParams,\r\n        asWillSaveTextDocumentParams,\r\n        asTextDocumentPositionParams,\r\n        asCompletionParams,\r\n        asSignatureHelpParams,\r\n        asWorkerPosition,\r\n        asRange,\r\n        asPosition,\r\n        asPositions,\r\n        asLocation,\r\n        asDiagnosticSeverity,\r\n        asDiagnosticTag,\r\n        asDiagnostic,\r\n        asDiagnostics,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asSymbolKind,\r\n        asSymbolTag,\r\n        asSymbolTags,\r\n        asReferenceParams,\r\n        asCodeActionContext,\r\n        asCommand,\r\n        asCodeLens,\r\n        asFormattingOptions,\r\n        asDocumentSymbolParams,\r\n        asCodeLensParams,\r\n        asDocumentLink,\r\n        asDocumentLinkParams\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ColorProviderFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'colorProvider').dynamicRegistration = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideColorPresentations: (color, context, token) => {\r\n                const client = this._client;\r\n                const provideColorPresentations = (color, context, token) => {\r\n                    const requestParams = {\r\n                        color,\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\r\n                        range: client.code2ProtocolConverter.asRange(context.range)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then(this.asColorPresentations.bind(this), (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideColorPresentations\r\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\r\n                    : provideColorPresentations(color, context, token);\r\n            },\r\n            provideDocumentColors: (document, token) => {\r\n                const client = this._client;\r\n                const provideDocumentColors = (document, token) => {\r\n                    const requestParams = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then(this.asColorInformations.bind(this), (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDocumentColors\r\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\r\n                    : provideDocumentColors(document, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerColorProvider(options.documentSelector, provider), provider];\r\n    }\r\n    asColor(color) {\r\n        return new vscode_1.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(ci => {\r\n                return new vscode_1.ColorInformation(this._client.protocol2CodeConverter.asRange(ci.range), this.asColor(ci.color));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n    asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(cp => {\r\n                let presentation = new vscode_1.ColorPresentation(cp.label);\r\n                presentation.additionalTextEdits = this._client.protocol2CodeConverter.asTextEdits(cp.additionalTextEdits);\r\n                presentation.textEdit = this._client.protocol2CodeConverter.asTextEdit(cp.textEdit);\r\n                return presentation;\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.ColorProviderFeature = ColorProviderFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nclass ConfigurationFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.configuration = true;\r\n    }\r\n    initialize() {\r\n        let client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\r\n            let configuration = (params) => {\r\n                let result = [];\r\n                for (let item of params.items) {\r\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\r\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\r\n                }\r\n                return result;\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.configuration\r\n                ? middleware.configuration(params, token, configuration)\r\n                : configuration(params, token);\r\n        });\r\n    }\r\n    getConfiguration(resource, section) {\r\n        let result = null;\r\n        if (section) {\r\n            let index = section.lastIndexOf('.');\r\n            if (index === -1) {\r\n                result = vscode_1.workspace.getConfiguration(undefined, resource).get(section);\r\n            }\r\n            else {\r\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\r\n                if (config) {\r\n                    result = config.get(section.substr(index + 1));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\r\n            result = {};\r\n            for (let key of Object.keys(config)) {\r\n                if (config.has(key)) {\r\n                    result[key] = config.get(key);\r\n                }\r\n            }\r\n        }\r\n        if (!result) {\r\n            return null;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexports.ConfigurationFeature = ConfigurationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass DeclarationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        const declarationSupport = ensure(ensure(capabilites, 'textDocument'), 'declaration');\r\n        declarationSupport.dynamicRegistration = true;\r\n        declarationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideDeclaration: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideDeclaration = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDeclarationResult, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideDeclaration\r\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\r\n                    : provideDeclaration(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerDeclarationProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.DeclarationFeature = DeclarationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass FoldingRangeFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let capability = ensure(ensure(capabilites, 'textDocument'), 'foldingRange');\r\n        capability.dynamicRegistration = true;\r\n        capability.rangeLimit = 5000;\r\n        capability.lineFoldingOnly = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideFoldingRanges: (document, context, token) => {\r\n                const client = this._client;\r\n                const provideFoldingRanges = (document, _, token) => {\r\n                    const requestParams = {\r\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\r\n                    };\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then(this.asFoldingRanges.bind(this), (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideFoldingRanges\r\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\r\n                    : provideFoldingRanges(document, context, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerFoldingRangeProvider(options.documentSelector, provider), provider];\r\n    }\r\n    asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Comment:\r\n                    return vscode_1.FoldingRangeKind.Comment;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Imports:\r\n                    return vscode_1.FoldingRangeKind.Imports;\r\n                case vscode_languageserver_protocol_1.FoldingRangeKind.Region:\r\n                    return vscode_1.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return void 0;\r\n    }\r\n    asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(r => {\r\n                return new vscode_1.FoldingRange(r.startLine, r.endLine, this.asFoldingRangeKind(r.kind));\r\n            });\r\n        }\r\n        return [];\r\n    }\r\n}\r\nexports.FoldingRangeFeature = FoldingRangeFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass ImplementationFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        let implementationSupport = ensure(ensure(capabilites, 'textDocument'), 'implementation');\r\n        implementationSupport.dynamicRegistration = true;\r\n        implementationSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideImplementation: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideImplementation = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideImplementation\r\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\r\n                    : provideImplementation(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerImplementationProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.ImplementationFeature = ImplementationFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nclass ProgressPart {\r\n    constructor(_client, _token) {\r\n        this._client = _client;\r\n        this._token = _token;\r\n        this._reported = 0;\r\n        this._disposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\r\n            switch (value.kind) {\r\n                case 'begin':\r\n                    this.begin(value);\r\n                    break;\r\n                case 'report':\r\n                    this.report(value);\r\n                    break;\r\n                case 'end':\r\n                    this.done();\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    begin(params) {\r\n        let location = params.cancellable ? vscode_1.ProgressLocation.Notification : vscode_1.ProgressLocation.Window;\r\n        vscode_1.window.withProgress({ location, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\r\n            this._progress = progress;\r\n            this._infinite = params.percentage === undefined;\r\n            this._cancellationToken = cancellationToken;\r\n            this._cancellationToken.onCancellationRequested(() => {\r\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\r\n            });\r\n            this.report(params);\r\n            return new Promise((resolve, reject) => {\r\n                this._resolve = resolve;\r\n                this._reject = reject;\r\n            });\r\n        });\r\n    }\r\n    report(params) {\r\n        if (this._infinite && Is.string(params.message)) {\r\n            this._progress.report({ message: params.message });\r\n        }\r\n        else if (Is.number(params.percentage)) {\r\n            let percentage = Math.max(0, Math.min(params.percentage, 100));\r\n            let delta = Math.max(0, percentage - this._reported);\r\n            this._progress.report({ message: params.message, increment: delta });\r\n            this._reported += delta;\r\n        }\r\n    }\r\n    cancel() {\r\n        if (this._disposable) {\r\n            this._disposable.dispose();\r\n            this._disposable = undefined;\r\n        }\r\n        if (this._reject) {\r\n            this._reject();\r\n            this._resolve = undefined;\r\n            this._reject = undefined;\r\n        }\r\n    }\r\n    done() {\r\n        if (this._disposable) {\r\n            this._disposable.dispose();\r\n            this._disposable = undefined;\r\n        }\r\n        if (this._resolve) {\r\n            this._resolve();\r\n            this._resolve = undefined;\r\n            this._reject = undefined;\r\n        }\r\n    }\r\n}\r\nexports.ProgressPart = ProgressPart;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCodeLens extends code.CodeLens {\r\n    constructor(range) {\r\n        super(range);\r\n    }\r\n}\r\nexports.default = ProtocolCodeLens;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolCompletionItem extends code.CompletionItem {\r\n    constructor(label) {\r\n        super(label);\r\n    }\r\n}\r\nexports.default = ProtocolCompletionItem;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nconst ls = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\r\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\r\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\r\nvar CodeBlock;\r\n(function (CodeBlock) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\r\n    }\r\n    CodeBlock.is = is;\r\n})(CodeBlock || (CodeBlock = {}));\r\nfunction createConverter(uriConverter) {\r\n    const nullConverter = (value) => code.Uri.parse(value);\r\n    const _uriConverter = uriConverter || nullConverter;\r\n    function asUri(value) {\r\n        return _uriConverter(value);\r\n    }\r\n    function asDiagnostics(diagnostics) {\r\n        return diagnostics.map(asDiagnostic);\r\n    }\r\n    function asDiagnostic(diagnostic) {\r\n        let result = new code.Diagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity));\r\n        if (Is.number(diagnostic.code) || Is.string(diagnostic.code)) {\r\n            result.code = diagnostic.code;\r\n        }\r\n        if (diagnostic.source) {\r\n            result.source = diagnostic.source;\r\n        }\r\n        if (diagnostic.relatedInformation) {\r\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\r\n        }\r\n        if (Array.isArray(diagnostic.tags)) {\r\n            result.tags = asDiagnosticTags(diagnostic.tags);\r\n        }\r\n        return result;\r\n    }\r\n    function asRelatedInformation(relatedInformation) {\r\n        return relatedInformation.map(asDiagnosticRelatedInformation);\r\n    }\r\n    function asDiagnosticRelatedInformation(information) {\r\n        return new code.DiagnosticRelatedInformation(asLocation(information.location), information.message);\r\n    }\r\n    function asDiagnosticTags(tags) {\r\n        if (!tags) {\r\n            return undefined;\r\n        }\r\n        let result = [];\r\n        for (let tag of tags) {\r\n            let converted = asDiagnosticTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result.length > 0 ? result : undefined;\r\n    }\r\n    function asDiagnosticTag(tag) {\r\n        switch (tag) {\r\n            case ls.DiagnosticTag.Unnecessary:\r\n                return code.DiagnosticTag.Unnecessary;\r\n            case ls.DiagnosticTag.Deprecated:\r\n                return code.DiagnosticTag.Deprecated;\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n    function asPosition(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Position(value.line, value.character);\r\n    }\r\n    function asRange(value) {\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        return new code.Range(asPosition(value.start), asPosition(value.end));\r\n    }\r\n    function asRanges(value) {\r\n        return value.map(value => asRange(value));\r\n    }\r\n    function asDiagnosticSeverity(value) {\r\n        if (value === undefined || value === null) {\r\n            return code.DiagnosticSeverity.Error;\r\n        }\r\n        switch (value) {\r\n            case ls.DiagnosticSeverity.Error:\r\n                return code.DiagnosticSeverity.Error;\r\n            case ls.DiagnosticSeverity.Warning:\r\n                return code.DiagnosticSeverity.Warning;\r\n            case ls.DiagnosticSeverity.Information:\r\n                return code.DiagnosticSeverity.Information;\r\n            case ls.DiagnosticSeverity.Hint:\r\n                return code.DiagnosticSeverity.Hint;\r\n        }\r\n        return code.DiagnosticSeverity.Error;\r\n    }\r\n    function asHoverContent(value) {\r\n        if (Is.string(value)) {\r\n            return new code.MarkdownString(value);\r\n        }\r\n        else if (CodeBlock.is(value)) {\r\n            let result = new code.MarkdownString();\r\n            return result.appendCodeblock(value.value, value.language);\r\n        }\r\n        else if (Array.isArray(value)) {\r\n            let result = [];\r\n            for (let element of value) {\r\n                let item = new code.MarkdownString();\r\n                if (CodeBlock.is(element)) {\r\n                    item.appendCodeblock(element.value, element.language);\r\n                }\r\n                else {\r\n                    item.appendMarkdown(element);\r\n                }\r\n                result.push(item);\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            let result;\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return new code.MarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    result = new code.MarkdownString();\r\n                    result.appendText(value.value);\r\n                    return result;\r\n                default:\r\n                    result = new code.MarkdownString();\r\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\r\n                    return result;\r\n            }\r\n        }\r\n    }\r\n    function asDocumentation(value) {\r\n        if (Is.string(value)) {\r\n            return value;\r\n        }\r\n        else {\r\n            switch (value.kind) {\r\n                case ls.MarkupKind.Markdown:\r\n                    return new code.MarkdownString(value.value);\r\n                case ls.MarkupKind.PlainText:\r\n                    return value.value;\r\n                default:\r\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\r\n            }\r\n        }\r\n    }\r\n    function asHover(hover) {\r\n        if (!hover) {\r\n            return undefined;\r\n        }\r\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\r\n    }\r\n    function asCompletionResult(result) {\r\n        if (!result) {\r\n            return undefined;\r\n        }\r\n        if (Array.isArray(result)) {\r\n            let items = result;\r\n            return items.map(asCompletionItem);\r\n        }\r\n        let list = result;\r\n        return new code.CompletionList(list.items.map(asCompletionItem), list.isIncomplete);\r\n    }\r\n    function asCompletionItemKind(value) {\r\n        // Protocol item kind is 1 based, codes item kind is zero based.\r\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\r\n            return [value - 1, undefined];\r\n        }\r\n        return [code.CompletionItemKind.Text, value];\r\n    }\r\n    function asCompletionItemTag(tag) {\r\n        switch (tag) {\r\n            case ls.CompletionItemTag.Deprecated:\r\n                return code.CompletionItemTag.Deprecated;\r\n        }\r\n        return undefined;\r\n    }\r\n    function asCompletionItemTags(tags) {\r\n        if (tags === undefined || tags === null) {\r\n            return [];\r\n        }\r\n        const result = [];\r\n        for (let tag of tags) {\r\n            const converted = asCompletionItemTag(tag);\r\n            if (converted !== undefined) {\r\n                result.push(converted);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionItem(item) {\r\n        let tags = asCompletionItemTags(item.tags);\r\n        let result = new protocolCompletionItem_1.default(item.label);\r\n        if (item.detail) {\r\n            result.detail = item.detail;\r\n        }\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\r\n        }\r\n        if (item.filterText) {\r\n            result.filterText = item.filterText;\r\n        }\r\n        let insertText = asCompletionInsertText(item);\r\n        if (insertText) {\r\n            result.insertText = insertText.text;\r\n            result.range = insertText.range;\r\n            result.fromEdit = insertText.fromEdit;\r\n        }\r\n        if (Is.number(item.kind)) {\r\n            let [itemKind, original] = asCompletionItemKind(item.kind);\r\n            result.kind = itemKind;\r\n            if (original) {\r\n                result.originalItemKind = original;\r\n            }\r\n        }\r\n        if (item.sortText) {\r\n            result.sortText = item.sortText;\r\n        }\r\n        if (item.additionalTextEdits) {\r\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\r\n        }\r\n        if (Is.stringArray(item.commitCharacters)) {\r\n            result.commitCharacters = item.commitCharacters.slice();\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.deprecated === true || item.deprecated === false) {\r\n            result.deprecated = item.deprecated;\r\n            if (item.deprecated === true) {\r\n                tags.push(code.CompletionItemTag.Deprecated);\r\n            }\r\n        }\r\n        if (item.preselect === true || item.preselect === false) {\r\n            result.preselect = item.preselect;\r\n        }\r\n        if (item.data !== undefined) {\r\n            result.data = item.data;\r\n        }\r\n        if (tags.length > 0) {\r\n            result.tags = tags;\r\n        }\r\n        return result;\r\n    }\r\n    function asCompletionInsertText(item) {\r\n        if (item.textEdit) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.textEdit.newText), range: asRange(item.textEdit.range), fromEdit: true };\r\n            }\r\n            else {\r\n                return { text: item.textEdit.newText, range: asRange(item.textEdit.range), fromEdit: true };\r\n            }\r\n        }\r\n        else if (item.insertText) {\r\n            if (item.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\r\n            }\r\n            else {\r\n                return { text: item.insertText, fromEdit: false };\r\n            }\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    function asTextEdit(edit) {\r\n        if (!edit) {\r\n            return undefined;\r\n        }\r\n        return new code.TextEdit(asRange(edit.range), edit.newText);\r\n    }\r\n    function asTextEdits(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asTextEdit);\r\n    }\r\n    function asSignatureHelp(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new code.SignatureHelp();\r\n        if (Is.number(item.activeSignature)) {\r\n            result.activeSignature = item.activeSignature;\r\n        }\r\n        else {\r\n            // activeSignature was optional in the past\r\n            result.activeSignature = 0;\r\n        }\r\n        if (Is.number(item.activeParameter)) {\r\n            result.activeParameter = item.activeParameter;\r\n        }\r\n        else {\r\n            // activeParameter was optional in the past\r\n            result.activeParameter = 0;\r\n        }\r\n        if (item.signatures) {\r\n            result.signatures = asSignatureInformations(item.signatures);\r\n        }\r\n        return result;\r\n    }\r\n    function asSignatureInformations(items) {\r\n        return items.map(asSignatureInformation);\r\n    }\r\n    function asSignatureInformation(item) {\r\n        let result = new code.SignatureInformation(item.label);\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        if (item.parameters) {\r\n            result.parameters = asParameterInformations(item.parameters);\r\n        }\r\n        return result;\r\n    }\r\n    function asParameterInformations(item) {\r\n        return item.map(asParameterInformation);\r\n    }\r\n    function asParameterInformation(item) {\r\n        let result = new code.ParameterInformation(item.label);\r\n        if (item.documentation) {\r\n            result.documentation = asDocumentation(item.documentation);\r\n        }\r\n        return result;\r\n    }\r\n    function asLocation(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return new code.Location(_uriConverter(item.uri), asRange(item.range));\r\n    }\r\n    function asDeclarationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asDefinitionResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return asLocationResult(item);\r\n    }\r\n    function asLocationLink(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = {\r\n            targetUri: _uriConverter(item.targetUri),\r\n            targetRange: asRange(item.targetSelectionRange),\r\n            originSelectionRange: asRange(item.originSelectionRange),\r\n            targetSelectionRange: asRange(item.targetSelectionRange)\r\n        };\r\n        if (!result.targetSelectionRange) {\r\n            throw new Error(`targetSelectionRange must not be undefined or null`);\r\n        }\r\n        return result;\r\n    }\r\n    function asLocationResult(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        if (Is.array(item)) {\r\n            if (item.length === 0) {\r\n                return [];\r\n            }\r\n            else if (ls.LocationLink.is(item[0])) {\r\n                let links = item;\r\n                return links.map((link) => asLocationLink(link));\r\n            }\r\n            else {\r\n                let locations = item;\r\n                return locations.map((location) => asLocation(location));\r\n            }\r\n        }\r\n        else if (ls.LocationLink.is(item)) {\r\n            return [asLocationLink(item)];\r\n        }\r\n        else {\r\n            return asLocation(item);\r\n        }\r\n    }\r\n    function asReferences(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(location => asLocation(location));\r\n    }\r\n    function asDocumentHighlights(values) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentHighlight);\r\n    }\r\n    function asDocumentHighlight(item) {\r\n        let result = new code.DocumentHighlight(asRange(item.range));\r\n        if (Is.number(item.kind)) {\r\n            result.kind = asDocumentHighlightKind(item.kind);\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentHighlightKind(item) {\r\n        switch (item) {\r\n            case ls.DocumentHighlightKind.Text:\r\n                return code.DocumentHighlightKind.Text;\r\n            case ls.DocumentHighlightKind.Read:\r\n                return code.DocumentHighlightKind.Read;\r\n            case ls.DocumentHighlightKind.Write:\r\n                return code.DocumentHighlightKind.Write;\r\n        }\r\n        return code.DocumentHighlightKind.Text;\r\n    }\r\n    function asSymbolInformations(values, uri) {\r\n        if (!values) {\r\n            return undefined;\r\n        }\r\n        return values.map(information => asSymbolInformation(information, uri));\r\n    }\r\n    function asSymbolKind(item) {\r\n        if (item <= ls.SymbolKind.TypeParameter) {\r\n            // Symbol kind is one based in the protocol and zero based in code.\r\n            return item - 1;\r\n        }\r\n        return code.SymbolKind.Property;\r\n    }\r\n    function asSymbolTag(value) {\r\n        return value;\r\n    }\r\n    function asSymbolTags(items) {\r\n        if (items === undefined || items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(asSymbolTag);\r\n    }\r\n    function asSymbolInformation(item, uri) {\r\n        // Symbol kind is one based in the protocol and zero based in code.\r\n        let result = new code.SymbolInformation(item.name, asSymbolKind(item.kind), asRange(item.location.range), item.location.uri ? _uriConverter(item.location.uri) : uri);\r\n        if (item.containerName) {\r\n            result.containerName = item.containerName;\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentSymbols(values) {\r\n        if (values === undefined || values === null) {\r\n            return undefined;\r\n        }\r\n        return values.map(asDocumentSymbol);\r\n    }\r\n    function asDocumentSymbol(value) {\r\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\r\n        if (value.children !== undefined && value.children.length > 0) {\r\n            let children = [];\r\n            for (let child of value.children) {\r\n                children.push(asDocumentSymbol(child));\r\n            }\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    function asCommand(item) {\r\n        let result = { title: item.title, command: item.command };\r\n        if (item.arguments) {\r\n            result.arguments = item.arguments;\r\n        }\r\n        return result;\r\n    }\r\n    function asCommands(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asCommand);\r\n    }\r\n    const kindMapping = new Map();\r\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\r\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\r\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\r\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\r\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\r\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\r\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\r\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\r\n    function asCodeActionKind(item) {\r\n        if (item === undefined || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = kindMapping.get(item);\r\n        if (result) {\r\n            return result;\r\n        }\r\n        let parts = item.split('.');\r\n        result = code.CodeActionKind.Empty;\r\n        for (let part of parts) {\r\n            result = result.append(part);\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeActionKinds(items) {\r\n        if (items === undefined || items === null) {\r\n            return undefined;\r\n        }\r\n        return items.map(kind => asCodeActionKind(kind));\r\n    }\r\n    function asCodeAction(item) {\r\n        if (item === undefined || item === null) {\r\n            return undefined;\r\n        }\r\n        let result = new code.CodeAction(item.title);\r\n        if (item.kind !== undefined) {\r\n            result.kind = asCodeActionKind(item.kind);\r\n        }\r\n        if (item.diagnostics) {\r\n            result.diagnostics = asDiagnostics(item.diagnostics);\r\n        }\r\n        if (item.edit) {\r\n            result.edit = asWorkspaceEdit(item.edit);\r\n        }\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.isPreferred !== undefined) {\r\n            result.isPreferred = item.isPreferred;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLens(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new protocolCodeLens_1.default(asRange(item.range));\r\n        if (item.command) {\r\n            result.command = asCommand(item.command);\r\n        }\r\n        if (item.data !== undefined && item.data !== null) {\r\n            result.data = item.data;\r\n        }\r\n        return result;\r\n    }\r\n    function asCodeLenses(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map((codeLens) => asCodeLens(codeLens));\r\n    }\r\n    function asWorkspaceEdit(item) {\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        let result = new code.WorkspaceEdit();\r\n        if (item.documentChanges) {\r\n            item.documentChanges.forEach(change => {\r\n                if (ls.CreateFile.is(change)) {\r\n                    result.createFile(_uriConverter(change.uri), change.options);\r\n                }\r\n                else if (ls.RenameFile.is(change)) {\r\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options);\r\n                }\r\n                else if (ls.DeleteFile.is(change)) {\r\n                    result.deleteFile(_uriConverter(change.uri), change.options);\r\n                }\r\n                else if (ls.TextDocumentEdit.is(change)) {\r\n                    result.set(_uriConverter(change.textDocument.uri), asTextEdits(change.edits));\r\n                }\r\n                else {\r\n                    console.error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\r\n                }\r\n            });\r\n        }\r\n        else if (item.changes) {\r\n            Object.keys(item.changes).forEach(key => {\r\n                result.set(_uriConverter(key), asTextEdits(item.changes[key]));\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    function asDocumentLink(item) {\r\n        let range = asRange(item.range);\r\n        let target = item.target ? asUri(item.target) : undefined;\r\n        // target must be optional in DocumentLink\r\n        let link = new protocolDocumentLink_1.default(range, target);\r\n        if (item.tooltip !== undefined) {\r\n            link.tooltip = item.tooltip;\r\n        }\r\n        if (item.data !== undefined && item.data !== null) {\r\n            link.data = item.data;\r\n        }\r\n        return link;\r\n    }\r\n    function asDocumentLinks(items) {\r\n        if (!items) {\r\n            return undefined;\r\n        }\r\n        return items.map(asDocumentLink);\r\n    }\r\n    function asColor(color) {\r\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\r\n    }\r\n    function asColorInformation(ci) {\r\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\r\n    }\r\n    function asColorInformations(colorInformation) {\r\n        if (Array.isArray(colorInformation)) {\r\n            return colorInformation.map(asColorInformation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asColorPresentation(cp) {\r\n        let presentation = new code.ColorPresentation(cp.label);\r\n        presentation.additionalTextEdits = asTextEdits(cp.additionalTextEdits);\r\n        if (cp.textEdit) {\r\n            presentation.textEdit = asTextEdit(cp.textEdit);\r\n        }\r\n        return presentation;\r\n    }\r\n    function asColorPresentations(colorPresentations) {\r\n        if (Array.isArray(colorPresentations)) {\r\n            return colorPresentations.map(asColorPresentation);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asFoldingRangeKind(kind) {\r\n        if (kind) {\r\n            switch (kind) {\r\n                case ls.FoldingRangeKind.Comment:\r\n                    return code.FoldingRangeKind.Comment;\r\n                case ls.FoldingRangeKind.Imports:\r\n                    return code.FoldingRangeKind.Imports;\r\n                case ls.FoldingRangeKind.Region:\r\n                    return code.FoldingRangeKind.Region;\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    function asFoldingRange(r) {\r\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\r\n    }\r\n    function asFoldingRanges(foldingRanges) {\r\n        if (Array.isArray(foldingRanges)) {\r\n            return foldingRanges.map(asFoldingRange);\r\n        }\r\n        return undefined;\r\n    }\r\n    function asSelectionRange(selectionRange) {\r\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\r\n    }\r\n    function asSelectionRanges(selectionRanges) {\r\n        if (!Array.isArray(selectionRanges)) {\r\n            return [];\r\n        }\r\n        let result = [];\r\n        for (let range of selectionRanges) {\r\n            result.push(asSelectionRange(range));\r\n        }\r\n        return result;\r\n    }\r\n    return {\r\n        asUri,\r\n        asDiagnostics,\r\n        asDiagnostic,\r\n        asRange,\r\n        asRanges,\r\n        asPosition,\r\n        asDiagnosticSeverity,\r\n        asDiagnosticTag,\r\n        asHover,\r\n        asCompletionResult,\r\n        asCompletionItem,\r\n        asTextEdit,\r\n        asTextEdits,\r\n        asSignatureHelp,\r\n        asSignatureInformations,\r\n        asSignatureInformation,\r\n        asParameterInformations,\r\n        asParameterInformation,\r\n        asDeclarationResult,\r\n        asDefinitionResult,\r\n        asLocation,\r\n        asReferences,\r\n        asDocumentHighlights,\r\n        asDocumentHighlight,\r\n        asDocumentHighlightKind,\r\n        asSymbolKind,\r\n        asSymbolTag,\r\n        asSymbolTags,\r\n        asSymbolInformations,\r\n        asSymbolInformation,\r\n        asDocumentSymbols,\r\n        asDocumentSymbol,\r\n        asCommand,\r\n        asCommands,\r\n        asCodeAction,\r\n        asCodeActionKind,\r\n        asCodeActionKinds,\r\n        asCodeLens,\r\n        asCodeLenses,\r\n        asWorkspaceEdit,\r\n        asDocumentLink,\r\n        asDocumentLinks,\r\n        asFoldingRangeKind,\r\n        asFoldingRange,\r\n        asFoldingRanges,\r\n        asColor,\r\n        asColorInformation,\r\n        asColorInformations,\r\n        asColorPresentation,\r\n        asColorPresentations,\r\n        asSelectionRange,\r\n        asSelectionRanges\r\n    };\r\n}\r\nexports.createConverter = createConverter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst code = require(\"vscode\");\r\nclass ProtocolDocumentLink extends code.DocumentLink {\r\n    constructor(range, target) {\r\n        super(range, target);\r\n    }\r\n}\r\nexports.default = ProtocolDocumentLink;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst client_1 = require(\"./client\");\r\nfunction ensure(target, key) {\r\n    if (target[key] === void 0) {\r\n        target[key] = {};\r\n    }\r\n    return target[key];\r\n}\r\nclass TypeDefinitionFeature extends client_1.TextDocumentFeature {\r\n    constructor(client) {\r\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\r\n    }\r\n    fillClientCapabilities(capabilites) {\r\n        ensure(ensure(capabilites, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\r\n        let typeDefinitionSupport = ensure(ensure(capabilites, 'textDocument'), 'typeDefinition');\r\n        typeDefinitionSupport.dynamicRegistration = true;\r\n        typeDefinitionSupport.linkSupport = true;\r\n    }\r\n    initialize(capabilities, documentSelector) {\r\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\r\n        if (!id || !options) {\r\n            return;\r\n        }\r\n        this.register(this.messages, { id: id, registerOptions: options });\r\n    }\r\n    registerLanguageProvider(options) {\r\n        const provider = {\r\n            provideTypeDefinition: (document, position, token) => {\r\n                const client = this._client;\r\n                const provideTypeDefinition = (document, position, token) => {\r\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then(client.protocol2CodeConverter.asDefinitionResult, (error) => {\r\n                        client.logFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, error);\r\n                        return Promise.resolve(null);\r\n                    });\r\n                };\r\n                const middleware = client.clientOptions.middleware;\r\n                return middleware.provideTypeDefinition\r\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\r\n                    : provideTypeDefinition(document, position, token);\r\n            }\r\n        };\r\n        return [vscode_1.languages.registerTypeDefinitionProvider(options.documentSelector, provider), provider];\r\n    }\r\n}\r\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Delayer {\r\n    constructor(defaultDelay) {\r\n        this.defaultDelay = defaultDelay;\r\n        this.timeout = undefined;\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n    }\r\n    trigger(task, delay = this.defaultDelay) {\r\n        this.task = task;\r\n        if (delay >= 0) {\r\n            this.cancelTimeout();\r\n        }\r\n        if (!this.completionPromise) {\r\n            this.completionPromise = new Promise((resolve) => {\r\n                this.onSuccess = resolve;\r\n            }).then(() => {\r\n                this.completionPromise = undefined;\r\n                this.onSuccess = undefined;\r\n                var result = this.task();\r\n                this.task = undefined;\r\n                return result;\r\n            });\r\n        }\r\n        if (delay >= 0 || this.timeout === void 0) {\r\n            this.timeout = setTimeout(() => {\r\n                this.timeout = undefined;\r\n                this.onSuccess(undefined);\r\n            }, delay >= 0 ? delay : this.defaultDelay);\r\n        }\r\n        return this.completionPromise;\r\n    }\r\n    forceDelivery() {\r\n        if (!this.completionPromise) {\r\n            return undefined;\r\n        }\r\n        this.cancelTimeout();\r\n        let result = this.task();\r\n        this.completionPromise = undefined;\r\n        this.onSuccess = undefined;\r\n        this.task = undefined;\r\n        return result;\r\n    }\r\n    isTriggered() {\r\n        return this.timeout !== void 0;\r\n    }\r\n    cancel() {\r\n        this.cancelTimeout();\r\n        this.completionPromise = undefined;\r\n    }\r\n    cancelTimeout() {\r\n        if (this.timeout !== void 0) {\r\n            clearTimeout(this.timeout);\r\n            this.timeout = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Delayer = Delayer;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\nfunction asPromise(value) {\r\n    if (value instanceof Promise) {\r\n        return value;\r\n    }\r\n    else if (thenable(value)) {\r\n        return new Promise((resolve, reject) => {\r\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\r\n        });\r\n    }\r\n    else {\r\n        return Promise.resolve(value);\r\n    }\r\n}\r\nexports.asPromise = asPromise;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ValueUUID {\r\n    constructor(_value) {\r\n        this._value = _value;\r\n        // empty\r\n    }\r\n    asHex() {\r\n        return this._value;\r\n    }\r\n    equals(other) {\r\n        return this.asHex() === other.asHex();\r\n    }\r\n}\r\nclass V4UUID extends ValueUUID {\r\n    constructor() {\r\n        super([\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            '4',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._oneOf(V4UUID._timeHighBits),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n        ].join(''));\r\n    }\r\n    static _oneOf(array) {\r\n        return array[Math.floor(array.length * Math.random())];\r\n    }\r\n    static _randomHex() {\r\n        return V4UUID._oneOf(V4UUID._chars);\r\n    }\r\n}\r\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\r\n/**\r\n * An empty UUID that contains only zeros.\r\n */\r\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\r\nfunction v4() {\r\n    return new V4UUID();\r\n}\r\nexports.v4 = v4;\r\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\nfunction isUUID(value) {\r\n    return _UUIDPattern.test(value);\r\n}\r\nexports.isUUID = isUUID;\r\n/**\r\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\r\n * @param value A uuid string.\r\n */\r\nfunction parse(value) {\r\n    if (!isUUID(value)) {\r\n        throw new Error('invalid uuid');\r\n    }\r\n    return new ValueUUID(value);\r\n}\r\nexports.parse = parse;\r\nfunction generateUuid() {\r\n    return v4().asHex();\r\n}\r\nexports.generateUuid = generateUuid;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UUID = require(\"./utils/uuid\");\r\nconst vscode_1 = require(\"vscode\");\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nfunction access(target, key) {\r\n    if (target === void 0) {\r\n        return undefined;\r\n    }\r\n    return target[key];\r\n}\r\nfunction arrayDiff(left, right) {\r\n    return left.filter(element => right.indexOf(element) < 0);\r\n}\r\nexports.arrayDiff = arrayDiff;\r\nclass WorkspaceFoldersFeature {\r\n    constructor(_client) {\r\n        this._client = _client;\r\n        this._listeners = new Map();\r\n    }\r\n    get messages() {\r\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\r\n    }\r\n    fillInitializeParams(params) {\r\n        let folders = vscode_1.workspace.workspaceFolders;\r\n        this.initializeWithFolders(folders);\r\n        if (folders === void 0) {\r\n            params.workspaceFolders = null;\r\n        }\r\n        else {\r\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\r\n        }\r\n    }\r\n    initializeWithFolders(currentWorkspaceFolders) {\r\n        this._initialFolders = currentWorkspaceFolders;\r\n    }\r\n    fillClientCapabilities(capabilities) {\r\n        capabilities.workspace = capabilities.workspace || {};\r\n        capabilities.workspace.workspaceFolders = true;\r\n    }\r\n    initialize(capabilities) {\r\n        let client = this._client;\r\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\r\n            let workspaceFolders = () => {\r\n                let folders = vscode_1.workspace.workspaceFolders;\r\n                if (folders === void 0) {\r\n                    return null;\r\n                }\r\n                let result = folders.map((folder) => {\r\n                    return this.asProtocol(folder);\r\n                });\r\n                return result;\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            return middleware && middleware.workspaceFolders\r\n                ? middleware.workspaceFolders(token, workspaceFolders)\r\n                : workspaceFolders(token);\r\n        });\r\n        let value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\r\n        let id;\r\n        if (typeof value === 'string') {\r\n            id = value;\r\n        }\r\n        else if (value === true) {\r\n            id = UUID.generateUuid();\r\n        }\r\n        if (id) {\r\n            this.register(this.messages, {\r\n                id: id,\r\n                registerOptions: undefined\r\n            });\r\n        }\r\n    }\r\n    sendInitialEvent(currentWorkspaceFolders) {\r\n        if (this._initialFolders && currentWorkspaceFolders) {\r\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\r\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\r\n            if (added.length > 0 || removed.length > 0) {\r\n                this.doSendEvent(added, removed);\r\n            }\r\n        }\r\n        else if (this._initialFolders) {\r\n            this.doSendEvent([], this._initialFolders);\r\n        }\r\n        else if (currentWorkspaceFolders) {\r\n            this.doSendEvent(currentWorkspaceFolders, []);\r\n        }\r\n    }\r\n    doSendEvent(addedFolders, removedFolders) {\r\n        let params = {\r\n            event: {\r\n                added: addedFolders.map(folder => this.asProtocol(folder)),\r\n                removed: removedFolders.map(folder => this.asProtocol(folder))\r\n            }\r\n        };\r\n        this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\r\n    }\r\n    register(_message, data) {\r\n        let id = data.id;\r\n        let client = this._client;\r\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\r\n            let didChangeWorkspaceFolders = (event) => {\r\n                this.doSendEvent(event.added, event.removed);\r\n            };\r\n            let middleware = client.clientOptions.middleware.workspace;\r\n            middleware && middleware.didChangeWorkspaceFolders\r\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\r\n                : didChangeWorkspaceFolders(event);\r\n        });\r\n        this._listeners.set(id, disposable);\r\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\r\n    }\r\n    unregister(id) {\r\n        let disposable = this._listeners.get(id);\r\n        if (disposable === void 0) {\r\n            return;\r\n        }\r\n        this._listeners.delete(id);\r\n        disposable.dispose();\r\n    }\r\n    dispose() {\r\n        for (let disposable of this._listeners.values()) {\r\n            disposable.dispose();\r\n        }\r\n        this._listeners.clear();\r\n    }\r\n    asProtocol(workspaceFolder) {\r\n        if (workspaceFolder === void 0) {\r\n            return null;\r\n        }\r\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\r\n    }\r\n}\r\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nexports.ErrorCodes = vscode_jsonrpc_1.ErrorCodes;\r\nexports.ResponseError = vscode_jsonrpc_1.ResponseError;\r\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\r\nexports.CancellationTokenSource = vscode_jsonrpc_1.CancellationTokenSource;\r\nexports.Disposable = vscode_jsonrpc_1.Disposable;\r\nexports.Event = vscode_jsonrpc_1.Event;\r\nexports.Emitter = vscode_jsonrpc_1.Emitter;\r\nexports.Trace = vscode_jsonrpc_1.Trace;\r\nexports.TraceFormat = vscode_jsonrpc_1.TraceFormat;\r\nexports.SetTraceNotification = vscode_jsonrpc_1.SetTraceNotification;\r\nexports.LogTraceNotification = vscode_jsonrpc_1.LogTraceNotification;\r\nexports.RequestType = vscode_jsonrpc_1.RequestType;\r\nexports.RequestType0 = vscode_jsonrpc_1.RequestType0;\r\nexports.NotificationType = vscode_jsonrpc_1.NotificationType;\r\nexports.NotificationType0 = vscode_jsonrpc_1.NotificationType0;\r\nexports.MessageReader = vscode_jsonrpc_1.MessageReader;\r\nexports.MessageWriter = vscode_jsonrpc_1.MessageWriter;\r\nexports.ConnectionStrategy = vscode_jsonrpc_1.ConnectionStrategy;\r\nexports.StreamMessageReader = vscode_jsonrpc_1.StreamMessageReader;\r\nexports.StreamMessageWriter = vscode_jsonrpc_1.StreamMessageWriter;\r\nexports.IPCMessageReader = vscode_jsonrpc_1.IPCMessageReader;\r\nexports.IPCMessageWriter = vscode_jsonrpc_1.IPCMessageWriter;\r\nexports.createClientPipeTransport = vscode_jsonrpc_1.createClientPipeTransport;\r\nexports.createServerPipeTransport = vscode_jsonrpc_1.createServerPipeTransport;\r\nexports.generateRandomPipeName = vscode_jsonrpc_1.generateRandomPipeName;\r\nexports.createClientSocketTransport = vscode_jsonrpc_1.createClientSocketTransport;\r\nexports.createServerSocketTransport = vscode_jsonrpc_1.createServerSocketTransport;\r\nexports.ProgressType = vscode_jsonrpc_1.ProgressType;\r\n__export(require(\"vscode-languageserver-types\"));\r\n__export(require(\"./protocol\"));\r\nconst callHierarchy = require(\"./protocol.callHierarchy.proposed\");\r\nconst st = require(\"./protocol.sematicTokens.proposed\");\r\nvar Proposed;\r\n(function (Proposed) {\r\n    let CallHierarchyPrepareRequest;\r\n    (function (CallHierarchyPrepareRequest) {\r\n        CallHierarchyPrepareRequest.method = callHierarchy.CallHierarchyPrepareRequest.method;\r\n        CallHierarchyPrepareRequest.type = callHierarchy.CallHierarchyPrepareRequest.type;\r\n    })(CallHierarchyPrepareRequest = Proposed.CallHierarchyPrepareRequest || (Proposed.CallHierarchyPrepareRequest = {}));\r\n    let CallHierarchyIncomingCallsRequest;\r\n    (function (CallHierarchyIncomingCallsRequest) {\r\n        CallHierarchyIncomingCallsRequest.method = callHierarchy.CallHierarchyIncomingCallsRequest.method;\r\n        CallHierarchyIncomingCallsRequest.type = callHierarchy.CallHierarchyIncomingCallsRequest.type;\r\n    })(CallHierarchyIncomingCallsRequest = Proposed.CallHierarchyIncomingCallsRequest || (Proposed.CallHierarchyIncomingCallsRequest = {}));\r\n    let CallHierarchyOutgoingCallsRequest;\r\n    (function (CallHierarchyOutgoingCallsRequest) {\r\n        CallHierarchyOutgoingCallsRequest.method = callHierarchy.CallHierarchyOutgoingCallsRequest.method;\r\n        CallHierarchyOutgoingCallsRequest.type = callHierarchy.CallHierarchyOutgoingCallsRequest.type;\r\n    })(CallHierarchyOutgoingCallsRequest = Proposed.CallHierarchyOutgoingCallsRequest || (Proposed.CallHierarchyOutgoingCallsRequest = {}));\r\n    Proposed.SemanticTokenTypes = st.SemanticTokenTypes;\r\n    Proposed.SemanticTokenModifiers = st.SemanticTokenModifiers;\r\n    Proposed.SemanticTokens = st.SemanticTokens;\r\n    let SemanticTokensRequest;\r\n    (function (SemanticTokensRequest) {\r\n        SemanticTokensRequest.method = st.SemanticTokensRequest.method;\r\n        SemanticTokensRequest.type = st.SemanticTokensRequest.type;\r\n    })(SemanticTokensRequest = Proposed.SemanticTokensRequest || (Proposed.SemanticTokensRequest = {}));\r\n    let SemanticTokensEditsRequest;\r\n    (function (SemanticTokensEditsRequest) {\r\n        SemanticTokensEditsRequest.method = st.SemanticTokensEditsRequest.method;\r\n        SemanticTokensEditsRequest.type = st.SemanticTokensEditsRequest.type;\r\n    })(SemanticTokensEditsRequest = Proposed.SemanticTokensEditsRequest || (Proposed.SemanticTokensEditsRequest = {}));\r\n    let SemanticTokensRangeRequest;\r\n    (function (SemanticTokensRangeRequest) {\r\n        SemanticTokensRangeRequest.method = st.SemanticTokensRangeRequest.method;\r\n        SemanticTokensRangeRequest.type = st.SemanticTokensRangeRequest.type;\r\n    })(SemanticTokensRangeRequest = Proposed.SemanticTokensRangeRequest || (Proposed.SemanticTokensRangeRequest = {}));\r\n})(Proposed = exports.Proposed || (exports.Proposed = {}));\r\nfunction createProtocolConnection(reader, writer, logger, strategy) {\r\n    return vscode_jsonrpc_1.createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType0 = ProtocolRequestType0;\r\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType = ProtocolRequestType;\r\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType = ProtocolNotificationType;\r\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) TypeFox and others. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to result a `CallHierarchyItem` in a document at a given position.\r\n * Can be used as an input to a incoming or outgoing call hierarchy.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyPrepareRequest;\r\n(function (CallHierarchyPrepareRequest) {\r\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\r\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\r\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\r\n/**\r\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyIncomingCallsRequest;\r\n(function (CallHierarchyIncomingCallsRequest) {\r\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\r\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\r\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\r\n/**\r\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyOutgoingCallsRequest;\r\n(function (CallHierarchyOutgoingCallsRequest) {\r\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\r\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\r\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.method = 'textDocument/documentColor';\r\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\r\n    /** @deprecated Use DocumentColorRequest.type */\r\n    DocumentColorRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.method = 'textDocument/declaration';\r\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\r\n    /** @deprecated Use DeclarationRequest.type */\r\n    DeclarationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\r\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\r\n    /** @deprecated Use FoldingRangeRequest.type */\r\n    FoldingRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.method = 'textDocument/implementation';\r\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\r\n    /** @deprecated Use ImplementationRequest.type */\r\n    ImplementationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\r\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\r\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\r\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\r\nexports.SelectionRangeRequest = protocol_selectionRange_1.SelectionRangeRequest;\r\nconst protocol_progress_1 = require(\"./protocol.progress\");\r\nexports.WorkDoneProgress = protocol_progress_1.WorkDoneProgress;\r\nexports.WorkDoneProgressCreateRequest = protocol_progress_1.WorkDoneProgressCreateRequest;\r\nexports.WorkDoneProgressCancelNotification = protocol_progress_1.WorkDoneProgressCancelNotification;\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * The DocumentFilter namespace provides helper functions to work with\r\n * [DocumentFilter](#DocumentFilter) literals.\r\n */\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The DocumentSelector namespace provides helper functions to work with\r\n * [DocumentSelector](#DocumentSelector)s.\r\n */\r\nvar DocumentSelector;\r\n(function (DocumentSelector) {\r\n    function is(value) {\r\n        if (!Array.isArray(value)) {\r\n            return false;\r\n        }\r\n        for (let elem of value) {\r\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    DocumentSelector.is = is;\r\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling startegy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guarantee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * The StaticRegistrationOptions namespace provides helper functions to work with\r\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\r\n */\r\nvar StaticRegistrationOptions;\r\n(function (StaticRegistrationOptions) {\r\n    function hasId(value) {\r\n        const candidate = value;\r\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\r\n    }\r\n    StaticRegistrationOptions.hasId = hasId;\r\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\r\n/**\r\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\r\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\r\n */\r\nvar TextDocumentRegistrationOptions;\r\n(function (TextDocumentRegistrationOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\r\n    }\r\n    TextDocumentRegistrationOptions.is = is;\r\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\r\n/**\r\n * The WorkDoneProgressOptions namespace provides helper functions to work with\r\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\r\n */\r\nvar WorkDoneProgressOptions;\r\n(function (WorkDoneProgressOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\r\n    }\r\n    WorkDoneProgressOptions.is = is;\r\n    function hasWorkDoneProgress(value) {\r\n        const candidate = value;\r\n        return candidate && Is.boolean(candidate.workDoneProgress);\r\n    }\r\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\r\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The intialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\r\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\r\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\r\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\r\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nvar TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\r\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\r\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.method = 'textDocument/completion';\r\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\r\n    /** @deprecated Use CompletionRequest.type */\r\n    CompletionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.method = 'completionItem/resolve';\r\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.method = 'textDocument/hover';\r\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\n/**\r\n * How a signature help was triggered.\r\n *\r\n * @since 3.15.0\r\n */\r\nvar SignatureHelpTriggerKind;\r\n(function (SignatureHelpTriggerKind) {\r\n    /**\r\n     * Signature help was invoked manually by the user or by a command.\r\n     */\r\n    SignatureHelpTriggerKind.Invoked = 1;\r\n    /**\r\n     * Signature help was triggered by a trigger character.\r\n     */\r\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Signature help was triggered by the cursor moving or by the document content changing.\r\n     */\r\n    SignatureHelpTriggerKind.ContentChange = 3;\r\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\r\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.method = 'textDocument/definition';\r\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\r\n    /** @deprecated Use DefinitionRequest.type */\r\n    DefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.method = 'textDocument/references';\r\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\r\n    /** @deprecated Use ReferencesRequest.type */\r\n    ReferencesRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\r\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\r\n    /** @deprecated Use DocumentHighlightRequest.type */\r\n    DocumentHighlightRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\r\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\r\n    /** @deprecated Use DocumentSymbolRequest.type */\r\n    DocumentSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.method = 'textDocument/codeAction';\r\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\r\n    /** @deprecated Use CodeActionRequest.type */\r\n    CodeActionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\r\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\r\n    /** @deprecated Use WorkspaceSymbolRequest.type */\r\n    WorkspaceSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.type = new messages_1.ProtocolRequestType('textDocument/codeLens');\r\n    /** @deprecated Use CodeLensRequest.type */\r\n    CodeLensRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType('codeLens/resolve');\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.method = 'textDocument/documentLink';\r\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\r\n    /** @deprecated Use DocumentLinkRequest.type */\r\n    DocumentLinkRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType('documentLink/resolve');\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.method = 'textDocument/formatting';\r\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\r\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\r\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.method = 'textDocument/rename';\r\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\r\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nvar WorkDoneProgress;\r\n(function (WorkDoneProgress) {\r\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\r\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\r\n/**\r\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\r\n * reporting from the server.\r\n */\r\nvar WorkDoneProgressCreateRequest;\r\n(function (WorkDoneProgressCreateRequest) {\r\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\r\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\r\n/**\r\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\r\n * initiated on the server side.\r\n */\r\nvar WorkDoneProgressCancelNotification;\r\n(function (WorkDoneProgressCancelNotification) {\r\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\r\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to provide selection ranges in a document. The request's\r\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\r\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar SelectionRangeRequest;\r\n(function (SelectionRangeRequest) {\r\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\r\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\r\n    /** @deprecated  Use SelectionRangeRequest.type */\r\n    SelectionRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A set of predefined token types. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokenTypes;\r\n(function (SemanticTokenTypes) {\r\n    SemanticTokenTypes[\"comment\"] = \"comment\";\r\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\r\n    SemanticTokenTypes[\"string\"] = \"string\";\r\n    SemanticTokenTypes[\"number\"] = \"number\";\r\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\r\n    SemanticTokenTypes[\"operator\"] = \"operator\";\r\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\r\n    SemanticTokenTypes[\"type\"] = \"type\";\r\n    SemanticTokenTypes[\"struct\"] = \"struct\";\r\n    SemanticTokenTypes[\"class\"] = \"class\";\r\n    SemanticTokenTypes[\"interface\"] = \"interface\";\r\n    SemanticTokenTypes[\"enum\"] = \"enum\";\r\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\r\n    SemanticTokenTypes[\"function\"] = \"function\";\r\n    SemanticTokenTypes[\"member\"] = \"member\";\r\n    SemanticTokenTypes[\"property\"] = \"property\";\r\n    SemanticTokenTypes[\"macro\"] = \"macro\";\r\n    SemanticTokenTypes[\"variable\"] = \"variable\";\r\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\r\n    SemanticTokenTypes[\"label\"] = \"label\";\r\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\r\n/**\r\n * A set of predefined token modifiers. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokenModifiers;\r\n(function (SemanticTokenModifiers) {\r\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\r\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\r\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\r\n    SemanticTokenModifiers[\"reference\"] = \"reference\";\r\n    SemanticTokenModifiers[\"static\"] = \"static\";\r\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\r\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\r\n    SemanticTokenModifiers[\"async\"] = \"async\";\r\n    SemanticTokenModifiers[\"volatile\"] = \"volatile\";\r\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\r\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokens;\r\n(function (SemanticTokens) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\r\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\r\n    }\r\n    SemanticTokens.is = is;\r\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensRequest;\r\n(function (SemanticTokensRequest) {\r\n    SemanticTokensRequest.method = 'textDocument/semanticTokens';\r\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\r\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensEditsRequest;\r\n(function (SemanticTokensEditsRequest) {\r\n    SemanticTokensEditsRequest.method = 'textDocument/semanticTokens/edits';\r\n    SemanticTokensEditsRequest.type = new messages_1.ProtocolRequestType(SemanticTokensEditsRequest.method);\r\n})(SemanticTokensEditsRequest = exports.SemanticTokensEditsRequest || (exports.SemanticTokensEditsRequest = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensRangeRequest;\r\n(function (SemanticTokensRangeRequest) {\r\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\r\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\r\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\r\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\r\n    /** @deprecated Use TypeDefinitionRequest.type */\r\n    TypeDefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction objectLiteral(value) {\r\n    // Strictly speaking class instances pass this check as well. Since the LSP\r\n    // doesn't use classes we ignore this for now. If we do we need to add something\r\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n    return value !== null && typeof value === 'object';\r\n}\r\nexports.objectLiteral = objectLiteral;\r\n"],"sourceRoot":""}